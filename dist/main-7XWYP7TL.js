var _0=Object.defineProperty,C0=Object.defineProperties;var x0=Object.getOwnPropertyDescriptors;var Pd=Object.getOwnPropertySymbols;var E0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable;var Fd=(t,e,n)=>e in t?_0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})E0.call(e,n)&&Fd(t,n,e[n]);if(Pd)for(var n of Pd(e))D0.call(e,n)&&Fd(t,n,e[n]);return t},P=(t,e)=>C0(t,x0(e));var Pe=null,ao=!1,Ya=1,w0=null,tt=Symbol("SIGNAL");function H(t){let e=Pe;return Pe=t,e}function co(){return Pe}var di={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Za(t){if(ao)throw new Error("");if(Pe===null)return;Pe.consumerOnSignalRead(t);let e=Pe.producersTail;if(e!==void 0&&e.producer===t)return;let n,i=Pe.recomputing;if(i&&(n=e!==void 0?e.nextProducer:Pe.producers,n!==void 0&&n.producer===t)){Pe.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===Pe&&(!i||S0(r,Pe)))return;let o=pi(Pe),s={producer:t,consumer:Pe,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};Pe.producersTail=s,e!==void 0?e.nextProducer=s:Pe.producers=s,o&&Bd(t,s)}function Ld(){Ya++}function Xa(t){if(!(pi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ya)){if(!t.producerMustRecompute(t)&&!fo(t)){Wa(t);return}t.producerRecomputeValue(t),Wa(t)}}function Ka(t){if(t.consumers===void 0)return;let e=ao;ao=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||I0(i)}}finally{ao=e}}function Ja(){return Pe?.consumerAllowSignalWrites!==!1}function I0(t){t.dirty=!0,Ka(t),t.consumerMarkedDirty?.(t)}function Wa(t){t.dirty=!1,t.lastCleanEpoch=Ya}function er(t){return t&&jd(t),H(t)}function jd(t){t.producersTail=void 0,t.recomputing=!0}function uo(t,e){H(e),t&&Vd(t)}function Vd(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(pi(t))do n=el(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function fo(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,i=e.lastReadVersion;if(i!==n.version||(Xa(n),i!==n.version))return!0}return!1}function fi(t){if(pi(t)){let e=t.producers;for(;e!==void 0;)e=el(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Bd(t,e){let n=t.consumersTail,i=pi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!i)for(let r=t.producers;r!==void 0;r=r.nextProducer)Bd(r.producer,r)}function el(t){let e=t.producer,n=t.nextProducer,i=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!pi(e)){let o=e.producers;for(;o!==void 0;)o=el(o)}return n}function pi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function tl(t){w0?.(t)}function S0(t,e){let n=e.producersTail;if(n!==void 0){let i=e.producers;do{if(i===t)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function nl(t,e){return Object.is(t,e)}function po(t,e){let n=Object.create(M0);n.computation=t,e!==void 0&&(n.equal=e);let i=()=>{if(Xa(n),Za(n),n.value===lo)throw n.error;return n.value};return i[tt]=n,tl(n),i}var Ga=Symbol("UNSET"),Qa=Symbol("COMPUTING"),lo=Symbol("ERRORED"),M0=P(O({},di),{value:Ga,dirty:!0,error:null,equal:nl,kind:"computed",producerMustRecompute(t){return t.value===Ga||t.value===Qa},producerRecomputeValue(t){if(t.value===Qa)throw new Error("");let e=t.value;t.value=Qa;let n=er(t),i,r=!1;try{i=t.computation(),H(null),r=e!==Ga&&e!==lo&&i!==lo&&t.equal(e,i)}catch(o){i=lo,t.error=o}finally{uo(t,n)}if(r){t.value=e;return}t.value=i,t.version++}});function T0(){throw new Error}var Hd=T0;function $d(t){Hd(t)}function il(t){Hd=t}var A0=null;function rl(t,e){let n=Object.create(qd);n.value=t,e!==void 0&&(n.equal=e);let i=()=>Ud(n);return i[tt]=n,tl(n),[i,s=>ol(n,s),s=>zd(n,s)]}function Ud(t){return Za(t),t.value}function ol(t,e){Ja()||$d(t),t.equal(t.value,e)||(t.value=e,N0(t))}function zd(t,e){Ja()||$d(t),ol(t,e(t.value))}var qd=P(O({},di),{equal:nl,value:void 0,kind:"signal"});function N0(t){t.version++,Ld(),Ka(t),A0?.(t)}function sl(t){let e=H(null);try{return t()}finally{H(e)}}var al=P(O({},di),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function ll(t){if(t.dirty=!1,t.version>0&&!fo(t))return;t.version++;let e=er(t);try{t.cleanup(),t.fn()}finally{uo(t,e)}}function te(t){return typeof t=="function"}function mi(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var mo=mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function kn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(te(i))try{i()}catch(o){e=o instanceof mo?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Gd(o)}catch(s){e=e??[],s instanceof mo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new mo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gd(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&kn(n,e)}remove(e){let{_finalizers:n}=this;n&&kn(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var cl=Ne.EMPTY;function ho(t){return t instanceof Ne||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function Gd(t){te(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hi={setTimeout(t,e,...n){let{delegate:i}=hi;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=hi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function go(t){hi.setTimeout(()=>{let{onUnhandledError:e}=bt;if(e)e(t);else throw t})}function ul(){}var Qd=dl("C",void 0,void 0);function Wd(t){return dl("E",void 0,t)}function Yd(t){return dl("N",t,void 0)}function dl(t,e,n){return{kind:t,value:e,error:n}}var Rn=null;function gi(t){if(bt.useDeprecatedSynchronousErrorHandling){let e=!Rn;if(e&&(Rn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Rn;if(Rn=null,n)throw i}}else t()}function Zd(t){bt.useDeprecatedSynchronousErrorHandling&&Rn&&(Rn.errorThrown=!0,Rn.error=t)}var Pn=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ho(e)&&e.add(this)):this.destination=R0}static create(e,n,i){return new pn(e,n,i)}next(e){this.isStopped?pl(Yd(e),this):this._next(e)}error(e){this.isStopped?pl(Wd(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?pl(Qd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},O0=Function.prototype.bind;function fl(t,e){return O0.call(t,e)}var ml=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){vo(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){vo(i)}else vo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vo(n)}}},pn=class extends Pn{constructor(e,n,i){super();let r;if(te(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&bt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&fl(e.next,o),error:e.error&&fl(e.error,o),complete:e.complete&&fl(e.complete,o)}):r=e}this.destination=new ml(r)}};function vo(t){bt.useDeprecatedSynchronousErrorHandling?Zd(t):go(t)}function k0(t){throw t}function pl(t,e){let{onStoppedNotification:n}=bt;n&&hi.setTimeout(()=>n(t,e))}var R0={closed:!0,next:ul,error:k0,complete:ul};var vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xd(t){return t}function Kd(t){return t.length===0?Xd:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=F0(n)?n:new pn(n,i,r);return gi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Jd(i),new i((r,o)=>{let s=new pn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[vi](){return this}pipe(...n){return Kd(n)(this)}toPromise(n){return n=Jd(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function Jd(t){var e;return(e=t??bt.Promise)!==null&&e!==void 0?e:Promise}function P0(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function F0(t){return t&&t instanceof Pn||P0(t)&&ho(t)}function L0(t){return te(t?.lift)}function we(t){return e=>{if(L0(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,n,i,r){return new hl(t,e,n,i,r)}var hl=class extends Pn{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ef=mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new yo(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new ef}next(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?cl:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,kn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new yo(e,n),t})(),yo=class extends Se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:cl}};var tr=class extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var gl={now(){return(gl.delegate||Date).now()},delegate:void 0};var bo=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var nr={setInterval(t,e,...n){let{delegate:i}=nr;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=nr;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var _o=class extends bo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return nr.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&nr.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,kn(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};yi.now=gl.now;var Co=class extends yi{constructor(e,n=yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var tf=new Co(_o);function nf(t){return t&&te(t.schedule)}function rf(t){return t[t.length-1]}function of(t){return te(rf(t))?t.pop():void 0}function sf(t){return nf(rf(t))?t.pop():void 0}function lf(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(g){s(g)}}function l(d){try{c(i.throw(d))}catch(g){s(g)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function af(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fn(t){return this instanceof Fn?(this.v=t,this):new Fn(t)}function cf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(E){return Promise.resolve(E).then(y,g)}}function a(y,E){i[y]&&(r[y]=function(k){return new Promise(function(L,F){o.push([y,k,L,F])>1||l(y,k)})},E&&(r[y]=E(r[y])))}function l(y,E){try{c(i[y](E))}catch(k){_(o[0][3],k)}}function c(y){y.value instanceof Fn?Promise.resolve(y.value.v).then(d,g):_(o[0][2],y)}function d(y){l("next",y)}function g(y){l("throw",y)}function _(y,E){y(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function uf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof af=="function"?af(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var xo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Eo(t){return te(t?.then)}function Do(t){return te(t[vi])}function wo(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Io(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function j0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var So=j0();function Mo(t){return te(t?.[So])}function To(t){return cf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Fn(n.read());if(r)return yield Fn(void 0);yield yield Fn(i)}}finally{n.releaseLock()}})}function Ao(t){return te(t?.getReader)}function Fe(t){if(t instanceof me)return t;if(t!=null){if(Do(t))return V0(t);if(xo(t))return B0(t);if(Eo(t))return H0(t);if(wo(t))return df(t);if(Mo(t))return $0(t);if(Ao(t))return U0(t)}throw Io(t)}function V0(t){return new me(e=>{let n=t[vi]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function B0(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function H0(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,go)})}function $0(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function df(t){return new me(e=>{z0(t,e).catch(n=>e.error(n))})}function U0(t){return df(To(t))}function z0(t,e){var n,i,r,o;return lf(this,void 0,void 0,function*(){try{for(n=uf(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function ot(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function No(t,e=0){return we((n,i)=>{n.subscribe(Ie(i,r=>ot(i,t,()=>i.next(r),e),()=>ot(i,t,()=>i.complete(),e),r=>ot(i,t,()=>i.error(r),e)))})}function Oo(t,e=0){return we((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function ff(t,e){return Fe(t).pipe(Oo(e),No(e))}function pf(t,e){return Fe(t).pipe(Oo(e),No(e))}function mf(t,e){return new me(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function hf(t,e){return new me(n=>{let i;return ot(n,e,()=>{i=t[So](),ot(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>te(i?.return)&&i.return()})}function ko(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{ot(n,e,()=>{let i=t[Symbol.asyncIterator]();ot(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function gf(t,e){return ko(To(t),e)}function vf(t,e){if(t!=null){if(Do(t))return ff(t,e);if(xo(t))return mf(t,e);if(Eo(t))return pf(t,e);if(wo(t))return ko(t,e);if(Mo(t))return hf(t,e);if(Ao(t))return gf(t,e)}throw Io(t)}function ir(t,e){return e?vf(t,e):Fe(t)}function st(...t){let e=sf(t);return ir(t,e)}var yf=mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Me(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=new pn({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{n?i(e.defaultValue):r(new yf)}});t.subscribe(o)})}function We(t,e){return we((n,i)=>{let r=0;n.subscribe(Ie(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:q0}=Array;function G0(t,e){return q0(e)?t(...e):t(e)}function bf(t){return We(e=>G0(t,e))}var{isArray:Q0}=Array,{getPrototypeOf:W0,prototype:Y0,keys:Z0}=Object;function _f(t){if(t.length===1){let e=t[0];if(Q0(e))return{args:e,keys:null};if(X0(e)){let n=Z0(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function X0(t){return t&&typeof t=="object"&&W0(t)===Y0}function Cf(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function xf(t,e,n,i,r,o,s,a){let l=[],c=0,d=0,g=!1,_=()=>{g&&!l.length&&!c&&e.complete()},y=k=>c<i?E(k):l.push(k),E=k=>{o&&e.next(k),c++;let L=!1;Fe(n(k,d++)).subscribe(Ie(e,F=>{r?.(F),o?y(F):e.next(F)},()=>{L=!0},void 0,()=>{if(L)try{for(c--;l.length&&c<i;){let F=l.shift();s?ot(e,s,()=>E(F)):E(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(Ie(e,y,()=>{g=!0,_()})),()=>{a?.()}}function Ro(t,e,n=1/0){return te(e)?Ro((i,r)=>We((o,s)=>e(i,o,r,s))(Fe(t(i,r))),n):(typeof e=="number"&&(n=e),we((i,r)=>xf(i,r,t,n)))}function vl(...t){let e=of(t),{args:n,keys:i}=_f(t),r=new me(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let g=!1;Fe(n[d]).subscribe(Ie(o,_=>{g||(g=!0,c--),a[d]=_},()=>l--,void 0,()=>{(!l||!g)&&(c||o.next(i?Cf(i,a):a),o.complete())}))}});return e?r.pipe(bf(e)):r}function yl(t,e){return we((n,i)=>{let r=0;n.subscribe(Ie(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Nt(t){return we((e,n)=>{let i=null,r=!1,o;i=e.subscribe(Ie(n,void 0,void 0,s=>{o=Fe(t(s,Nt(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function bl(t,e){return te(e)?Ro(t,e,1):Ro(t,1)}function qt(t,e=tf){return we((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+t,d=e.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}n.subscribe(Ie(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function _l(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function at(t,e){return we((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(Ie(i,l=>{r?.unsubscribe();let c=0,d=o++;Fe(t(l,d)).subscribe(r=Ie(i,g=>i.next(e?e(l,g,d,c++):g),()=>{r=null,a()}))},()=>{s=!0,a()}))})}var Cl;function Po(){return Cl}function Ot(t){let e=Cl;return Cl=t,e}var Ef=Symbol("NotFound");function bi(t){return t===Ef||t?.name==="\u0275NotFound"}var $o="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(e,n){super(yn(e,n)),this.code=e}};function K0(t){return`NG0${Math.abs(t)}`}function yn(t,e){return`${K0(t)}${e?": "+e:""}`}var ct=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("")}function Mf(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(mn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Uo(t,e){return t?e?`${t} ${e}`:t:e||""}var J0=ae({__forward_ref__:ae});function Wt(t){return t.__forward_ref__=Wt,t.toString=function(){return mn(this())},t}function Oe(t){return Rl(t)?t():t}function Rl(t){return typeof t=="function"&&t.hasOwnProperty(J0)&&t.__forward_ref__===Wt}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function zo(t){return ev(t,qo)}function ev(t,e){return t.hasOwnProperty(e)&&t[e]||null}function tv(t){let e=t?.[qo]??null;return e||null}function El(t){return t&&t.hasOwnProperty(Lo)?t[Lo]:null}var qo=ae({\u0275prov:ae}),Lo=ae({\u0275inj:ae}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pl(t){return t&&!!t.\u0275providers}var Fl=ae({\u0275cmp:ae}),Ll=ae({\u0275dir:ae}),jl=ae({\u0275pipe:ae});var or=ae({\u0275fac:ae}),Hn=ae({__NG_ELEMENT_ID__:ae}),Df=ae({__NG_ENV_ID__:ae});function $n(t){return Bl(t,"@Component"),t[Fl]||null}function Vl(t){return Bl(t,"@Directive"),t[Ll]||null}function Tf(t){return Bl(t,"@Pipe"),t[jl]||null}function Bl(t,e){if(t==null)throw new R(-919,!1)}function Ci(t){return typeof t=="string"?t:t==null?"":String(t)}var Af=ae({ngErrorCode:ae}),nv=ae({ngErrorMessage:ae}),iv=ae({ngTokenPath:ae});function Hl(t,e){return Nf("",-200,e)}function Go(t,e){throw new R(-201,!1)}function Nf(t,e,n){let i=new R(e,t);return i[Af]=e,i[nv]=t,n&&(i[iv]=n),i}function rv(t){return t[Af]}var Dl;function Of(){return Dl}function $e(t){let e=Dl;return Dl=t,e}function $l(t,e,n){let i=zo(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(e!==void 0)return e;Go(t,"")}var ov={},Ln=ov,sv="__NG_DI_FLAG__",wl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let i=jn(n)||0;try{return this.injector.get(e,i&8?null:Ln,i)}catch(r){if(bi(r))return r;throw r}}};function av(t,e=0){let n=Po();if(n===void 0)throw new R(-203,!1);if(n===null)return $l(t,void 0,e);{let i=lv(e),r=n.retrieve(t,i);if(bi(r)){if(i.optional)return null;throw r}return r}}function W(t,e=0){return(Of()||av)(Oe(t),e)}function x(t,e){return W(t,jn(e))}function jn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lv(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Il(t){let e=[];for(let n=0;n<t.length;n++){let i=Oe(t[n]);if(Array.isArray(i)){if(i.length===0)throw new R(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=cv(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(W(r,o))}else e.push(W(i))}return e}function cv(t){return t[sv]}function hn(t,e){let n=t.hasOwnProperty(or);return n?t[or]:null}function Qo(t,e){t.forEach(n=>Array.isArray(n)?Qo(n,e):e(n))}function Ul(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ur(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kf(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function dr(t,e,n){let i=xi(t,e);return i>=0?t[i|1]=n:(i=~i,kf(t,i,e,n)),i}function Wo(t,e){let n=xi(t,e);if(n>=0)return t[n|1]}function xi(t,e){return uv(t,e,1)}function uv(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var bn={},Ue=[],Ei=new U(""),zl=new U("",-1),ql=new U(""),sr=class{get(e,n=Ln){if(n===Ln){let r=Nf("",-201);throw r.name="\u0275NotFound",r}return n}};function Di(t){return{\u0275providers:t}}function Rf(...t){return{\u0275providers:Gl(!0,t),\u0275fromNgModule:!0}}function Gl(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return Qo(e,s=>{let a=s;jo(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Pf(r,o),n}function Pf(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Ql(r,o=>{e(o,i)})}}function jo(t,e,n,i){if(t=Oe(t),!t)return!1;let r=null,o=El(t),s=!o&&$n(t);if(!o&&!s){let l=t.ngModule;if(o=El(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)jo(c,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;Qo(o.imports,d=>{jo(d,e,n,i)&&(c||=[],c.push(d))}),c!==void 0&&Pf(c,e)}if(!a){let c=hn(r)||(()=>new r);e({provide:r,useFactory:c,deps:Ue},r),e({provide:ql,useValue:r,multi:!0},r),e({provide:Ei,useValue:()=>W(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;Ql(l,d=>{e(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Ql(t,e){for(let n of t)Pl(n)&&(n=n.\u0275providers),Array.isArray(n)?Ql(n,e):e(n)}var dv=ae({provide:String,useValue:ae});function Ff(t){return t!==null&&typeof t=="object"&&dv in t}function fv(t){return!!(t&&t.useExisting)}function pv(t){return!!(t&&t.useFactory)}function Vn(t){return typeof t=="function"}function Lf(t){return!!t.useClass}var fr=new U(""),Fo={},wf={},xl;function pr(){return xl===void 0&&(xl=new sr),xl}var ze=class{},Bn=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,Ml(e,s=>this.processProvider(s)),this.records.set(zl,_i(void 0,this)),r.has("environment")&&this.records.set(ze,_i(void 0,this));let o=this.records.get(fr);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ql,Ue,{self:!0}))}retrieve(e,n){let i=jn(n)||0;try{return this.get(e,Ln,i)}catch(r){if(bi(r))return r;throw r}}destroy(){rr(this),this._destroyed=!0;let e=H(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return rr(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){rr(this);let n=Ot(this),i=$e(void 0),r;try{return e()}finally{Ot(n),$e(i)}}get(e,n=Ln,i){if(rr(this),e.hasOwnProperty(Df))return e[Df](this);let r=jn(i),o,s=Ot(this),a=$e(void 0);try{if(!(r&4)){let c=this.records.get(e);if(c===void 0){let d=yv(e)&&zo(e);d&&this.injectableDefInScope(d)?c=_i(Sl(e),Fo):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let l=r&2?pr():this.parent;return n=r&8&&n===Ln?null:n,l.get(e,n)}catch(l){let c=rv(l);throw c===-200||c===-201?new R(c,null):l}finally{$e(a),Ot(s)}}resolveInjectorInitializers(){let e=H(null),n=Ot(this),i=$e(void 0),r;try{let o=this.get(Ei,Ue,{self:!0});for(let s of o)s()}finally{Ot(n),$e(i),H(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(mn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Oe(e);let n=Vn(e)?e:Oe(e&&e.provide),i=hv(e);if(!Vn(e)&&e.multi===!0){let r=this.records.get(n);r||(r=_i(void 0,Fo,!0),r.factory=()=>Il(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n,i){let r=H(null);try{if(n.value===wf)throw Hl(mn(e));return n.value===Fo&&(n.value=wf,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&vv(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Oe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sl(t){let e=zo(t),n=e!==null?e.factory:hn(t);if(n!==null)return n;if(t instanceof U)throw new R(204,!1);if(t instanceof Function)return mv(t);throw new R(204,!1)}function mv(t){if(t.length>0)throw new R(204,!1);let n=tv(t);return n!==null?()=>n.factory(t):()=>new t}function hv(t){if(Ff(t))return _i(void 0,t.useValue);{let e=Wl(t);return _i(e,Fo)}}function Wl(t,e,n){let i;if(Vn(t)){let r=Oe(t);return hn(r)||Sl(r)}else if(Ff(t))i=()=>Oe(t.useValue);else if(pv(t))i=()=>t.useFactory(...Il(t.deps||[]));else if(fv(t))i=(r,o)=>W(Oe(t.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Oe(t&&(t.useClass||t.provide));if(gv(t))i=()=>new r(...Il(t.deps));else return hn(r)||Sl(r)}return i}function rr(t){if(t.destroyed)throw new R(205,!1)}function _i(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function gv(t){return!!t.deps}function vv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yv(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ml(t,e){for(let n of t)Array.isArray(n)?Ml(n,e):n&&Pl(n)?Ml(n.\u0275providers,e):e(n)}function wi(t,e){let n;t instanceof Bn?(rr(t),n=t):n=new wl(t);let i,r=Ot(n),o=$e(void 0);try{return e()}finally{Ot(r),$e(o)}}function jf(){return Of()!==void 0||Po()!=null}var _t=0,z=1,q=2,Te=3,ut=4,dt=5,Ii=6,Si=7,ve=8,Yt=9,Rt=10,de=11,Mi=12,Yl=13,Un=14,it=15,zn=16,qn=17,Gn=18,Zt=19,Zl=20,Gt=21,Yo=22,gn=23,rt=24,Qn=25,Wn=26,fe=27,Vf=1,Xl=6,_n=7,mr=8,hr=9,ye=10;function Pt(t){return Array.isArray(t)&&typeof t[Vf]=="object"}function Ct(t){return Array.isArray(t)&&t[Vf]===!0}function Kl(t){return(t.flags&4)!==0}function Cn(t){return t.componentOffset>-1}function gr(t){return(t.flags&1)===1}function Ft(t){return!!t.template}function Ti(t){return(t[q]&512)!==0}function Yn(t){return(t[q]&256)===256}var Bf="svg",Hf="math";function ft(t){for(;Array.isArray(t);)t=t[_t];return t}function Jl(t,e){return ft(e[t])}function Lt(t,e){return ft(e[t.index])}function vr(t,e){return t.data[e]}function yr(t,e){return t[e]}function br(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function pt(t,e){let n=e[t];return Pt(n)?n:n[_t]}function Zo(t){return(t[q]&128)===128}function $f(t){return Ct(t[Te])}function mt(t,e){return e==null?null:t[e]}function ec(t){t[qn]=0}function tc(t){t[q]&1024||(t[q]|=1024,Zo(t)&&Zn(t))}function Uf(t,e){for(;t>0;)e=e[Un],t--;return e}function _r(t){return!!(t[q]&9216||t[rt]?.dirty)}function Xo(t){t[Rt].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),_r(t)&&Zn(t)}function Zn(t){t[Rt].changeDetectionScheduler?.notify(0);let e=vn(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!Zo(e)));)e=vn(e)}function nc(t,e){if(Yn(t))throw new R(911,!1);t[Gt]===null&&(t[Gt]=[]),t[Gt].push(e)}function zf(t,e){if(t[Gt]===null)return;let n=t[Gt].indexOf(e);n!==-1&&t[Gt].splice(n,1)}function vn(t){let e=t[Te];return Ct(e)?e[Te]:e}function qf(t){return t[Si]??=[]}function Gf(t){return t.cleanup??=[]}var X={lFrame:op(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Tl=!1;function Qf(){return X.lFrame.elementDepthCount}function Wf(){X.lFrame.elementDepthCount++}function ic(){X.lFrame.elementDepthCount--}function rc(){return X.bindingsEnabled}function Yf(){return X.skipHydrationRootTNode!==null}function oc(t){return X.skipHydrationRootTNode===t}function sc(){X.skipHydrationRootTNode=null}function G(){return X.lFrame.lView}function be(){return X.lFrame.tView}function M(t){return X.lFrame.contextLView=t,t[ve]}function T(t){return X.lFrame.contextLView=null,t}function Le(){let t=ac();for(;t!==null&&t.type===64;)t=t.parent;return t}function ac(){return X.lFrame.currentTNode}function Zf(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xn(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function lc(){return X.lFrame.isParent}function Xf(){X.lFrame.isParent=!1}function cc(){return X.lFrame.contextLView}function uc(){return Tl}function ar(t){let e=Tl;return Tl=t,e}function Ko(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kf(){return X.lFrame.bindingIndex}function Jf(t){return X.lFrame.bindingIndex=t}function Kn(){return X.lFrame.bindingIndex++}function Jo(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ep(){return X.lFrame.inI18n}function tp(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,es(e)}function np(){return X.lFrame.currentDirectiveIndex}function es(t){X.lFrame.currentDirectiveIndex=t}function ip(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dc(t){X.lFrame.currentQueryIndex=t}function bv(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[dt]:null}function fc(t,e,n){if(n&4){let r=e,o=t;for(;r=r.parent,r===null&&!(n&1);)if(r=bv(o),r===null||(o=o[Un],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=X.lFrame=rp();return i.currentTNode=e,i.lView=t,!0}function ts(t){let e=rp(),n=t[z];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rp(){let t=X.lFrame,e=t===null?null:t.child;return e===null?op(t):e}function op(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function sp(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pc=sp;function ns(){let t=sp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ap(t){return(X.lFrame.contextLView=Uf(t,X.lFrame.contextLView))[ve]}function xt(){return X.lFrame.selectedIndex}function xn(t){X.lFrame.selectedIndex=t}function is(){let t=X.lFrame;return vr(t.tView,t.selectedIndex)}function lp(){return X.lFrame.currentNamespace}var cp=!0;function rs(){return cp}function os(t){cp=t}function Al(t,e=null,n=null,i){let r=up(t,e,n,i);return r.resolveInjectorInitializers(),r}function up(t,e=null,n=null,i,r=new Set){let o=[n||Ue,Rf(t)];return i=i||(typeof t=="object"?void 0:mn(t)),new Bn(o,e||pr(),i||null,r)}var nt=class t{static THROW_IF_NOT_FOUND=Ln;static NULL=new sr;static create(e,n){if(Array.isArray(e))return Al({name:""},n,e,"");{let i=e.name??"";return Al({name:i},e.parent,e.providers,i)}}static \u0275prov=j({token:t,providedIn:"any",factory:()=>W(zl)});static __NG_ELEMENT_ID__=-1},ke=new U(""),Et=(()=>{class t{static __NG_ELEMENT_ID__=_v;static __NG_ENV_ID__=n=>n}return t})(),Vo=class extends Et{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Yn(this._lView)}onDestroy(e){let n=this._lView;return nc(n,e),()=>zf(n,e)}};function _v(){return new Vo(G())}var dp=!1,fp=new U(""),Jn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tr(!1);debugTaskTracker=x(fp,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new me(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),Nl=class extends Se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,jf()&&(this.destroyRef=x(Et,{optional:!0})??void 0,this.pendingTasks=x(Jn,{optional:!0})??void 0)}emit(e){let n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ce=Nl;function Bo(...t){}function mc(t){let e,n;function i(){t=Bo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function pp(t){return queueMicrotask(()=>t()),()=>{t=Bo}}var hc="isAngularZone",lr=hc+"_ID",Cv=0,Ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ce(!1);onMicrotaskEmpty=new ce(!1);onStable=new ce(!1);onError=new ce(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=dp}=e;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Dv(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new R(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,xv,Bo,Bo);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},xv={};function gc(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ev(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mc(()=>{t.callbackScheduled=!1,Ol(t),t.isCheckStableRunning=!0,gc(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ol(t)}function Dv(t){let e=()=>{Ev(t)},n=Cv++;t._inner=t._inner.fork({name:"angular",properties:{[hc]:!0,[lr]:n,[lr+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(wv(l))return i.invokeTask(o,s,a,l);try{return If(t),i.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Sf(t)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return If(t),i.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Iv(l)&&e(),Sf(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ol(t),gc(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ol(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function If(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sf(t){t._nesting--,gc(t)}var cr=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ce;onMicrotaskEmpty=new ce;onStable=new ce;onError=new ce;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function wv(t){return mp(t,"__ignore_ng_zone__")}function Iv(t){return mp(t,"__scheduler_tick__")}function mp(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var lt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},En=new U("",{factory:()=>{let t=x(Ye),e=x(ze),n;return i=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw i}):(n??=e.get(lt),n.handleError(i))})}}}),hp={provide:Ei,useValue:()=>{let t=x(lt,{optional:!0})},multi:!0};function C(t,e){let[n,i,r]=rl(t,e?.equal),o=n,s=o[tt];return o.set=i,o.update=r,o.asReadonly=vc.bind(o),o}function vc(){let t=this[tt];if(t.readonlyFn===void 0){let e=()=>this();e[tt]=t,t.readonlyFn=e}return t.readonlyFn}var Cr=(()=>{class t{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=Sv}return t})();function Sv(){return new Cr(G(),Le())}var Qt=class{},xr=new U("",{factory:()=>!0});var yc=new U(""),Er=(()=>{class t{internalPendingTasks=x(Jn);scheduler=x(Qt);errorHandler=x(En);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let i=this.add();n().catch(this.errorHandler).finally(i)}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),ss=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>new kl})}return t})(),kl=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,i=this.queues.get(n);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,i]of this.queues)n===null?e||=this.flushQueue(i):e||=n.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}},Ho=class{[tt];constructor(e){this[tt]=e}destroy(){this[tt].destroy()}};function jt(t,e){let n=e?.injector??x(nt),i=e?.manualCleanup!==!0?n.get(Et):null,r,o=n.get(Cr,null,{optional:!0}),s=n.get(Qt);return o!==null?(r=Av(o.view,s,t),i instanceof Vo&&i._lView===o.view&&(i=null)):r=Nv(t,n.get(ss),s),r.injector=n,i!==null&&(r.onDestroyFns=[i.onDestroy(()=>r.destroy())]),new Ho(r)}var gp=P(O({},al),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=ar(!1);try{ll(this)}finally{ar(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=H(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],H(t)}}}),Mv=P(O({},gp),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(fi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Tv=P(O({},gp),{consumerMarkedDirty(){this.view[q]|=8192,Zn(this.view),this.notifier.notify(13)},destroy(){if(fi(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[gn]?.delete(this)}});function Av(t,e,n){let i=Object.create(Tv);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=vp(i,n),t[gn]??=new Set,t[gn].add(i),i.consumerMarkedDirty(i),i}function Nv(t,e,n){let i=Object.create(Mv);return i.fn=vp(i,t),i.scheduler=e,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}function vp(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Dt(t){return sl(t)}function Rr(t){return{toString:t}.toString()}function Hv(t){return typeof t=="function"}function Xp(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var hs=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}},Ts=(()=>{let t=()=>Kp;return t.ngInherit=!0,t})();function Kp(t){return t.type.prototype.ngOnChanges&&(t.setInput=Uv),$v}function $v(){let t=em(this),e=t?.current;if(e){let n=t.previous;if(n===bn)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Uv(t,e,n,i,r){let o=this.declaredInputs[i],s=em(t)||zv(t,{previous:bn,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new hs(c&&c.currentValue,n,l===bn),Xp(t,e,r,n)}var Jp="__ngSimpleChanges__";function em(t){return t[Jp]||null}function zv(t,e){return t[Jp]=e}var yp=[];var se=function(t,e=null,n){for(let i=0;i<yp.length;i++){let r=yp[i];r(t,e,n)}},re=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(re||{});function qv(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=Kp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function tm(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function ds(t,e,n){nm(t,e,3,n)}function fs(t,e,n,i){(t[q]&3)===n&&nm(t,e,n,i)}function bc(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function nm(t,e,n,i){let r=i!==void 0?t[qn]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[qn]+=65536),(a<o||o==-1)&&(Gv(t,n,e,l),t[qn]=(t[qn]&4294901760)+l+2),l++}function bp(t,e){se(re.LifecycleHookStart,t,e);let n=H(null);try{e.call(t)}finally{H(n),se(re.LifecycleHookEnd,t,e)}}function Gv(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[q]>>14<t[qn]>>16&&(t[q]&3)===e&&(t[q]+=16384,bp(a,o)):bp(a,o)}var Ni=-1,ti=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function Qv(t){return(t.flags&8)!==0}function Wv(t){return(t.flags&16)!==0}function Yv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];Xv(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function Zv(t){return t===3||t===4||t===6}function Xv(t){return t.charCodeAt(0)===64}function Oi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?_p(t,n,r,null,e[++i]):_p(t,n,r,null,null))}}return t}function _p(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}function im(t){return t!==Ni}function gs(t){return t&32767}function Kv(t){return t>>16}function vs(t,e){let n=Kv(t),i=e;for(;n>0;)i=i[Un],n--;return i}var Ac=!0;function ys(t){let e=Ac;return Ac=t,e}var Jv=256,rm=Jv-1,om=5,ey=0,Vt={};function ty(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Hn)&&(i=n[Hn]),i==null&&(i=n[Hn]=ey++);let r=i&rm,o=1<<r;e.data[t+(r>>om)]|=o}function bs(t,e){let n=sm(t,e);if(n!==-1)return n;let i=e[z];i.firstCreatePass&&(t.injectorIndex=e.length,_c(i.data,t),_c(e,null),_c(i.blueprint,null));let r=lu(t,e),o=t.injectorIndex;if(im(r)){let s=gs(r),a=vs(r,e),l=a[z].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function _c(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function lu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=dm(r),i===null)return Ni;if(n++,r=r[Un],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ni}function Nc(t,e,n){ty(t,e,n)}function am(t,e,n){if(n&8||t!==void 0)return t;Go(e,"NodeInjector")}function lm(t,e,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=t[Yt],o=$e(void 0);try{return r?r.get(e,i,n&8):$l(e,i,n&8)}finally{$e(o)}}return am(i,e,n)}function cm(t,e,n,i=0,r){if(t!==null){if(e[q]&2048&&!(i&2)){let s=sy(t,e,n,i,Vt);if(s!==Vt)return s}let o=um(t,e,n,i,Vt);if(o!==Vt)return o}return lm(e,n,i,r)}function um(t,e,n,i,r){let o=ry(n);if(typeof o=="function"){if(!fc(e,t,i))return i&1?am(r,n,i):lm(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Go(n);else return s}finally{pc()}}else if(typeof o=="number"){let s=null,a=sm(t,e),l=Ni,c=i&1?e[it][dt]:null;for((a===-1||i&4)&&(l=a===-1?lu(t,e):e[a+8],l===Ni||!xp(i,!1)?a=-1:(s=e[z],a=gs(l),e=vs(l,e)));a!==-1;){let d=e[z];if(Cp(o,a,d.data)){let g=ny(a,e,n,s,i,c);if(g!==Vt)return g}l=e[a+8],l!==Ni&&xp(i,e[z].data[a+8]===c)&&Cp(o,a,e)?(s=d,a=gs(l),e=vs(l,e)):a=-1}}return r}function ny(t,e,n,i,r,o){let s=e[z],a=s.data[t+8],l=i==null?Cn(a)&&Ac:i!=s&&(a.type&3)!==0,c=r&1&&o===a,d=iy(a,s,n,l,c);return d!==null?_s(e,s,d,a,r):Vt}function iy(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,g=i?a:a+d,_=r?a+d:c;for(let y=g;y<_;y++){let E=s[y];if(y<l&&n===E||y>=l&&E.type===n)return y}if(r){let y=s[l];if(y&&Ft(y)&&y.type===n)return l}return null}function _s(t,e,n,i,r){let o=t[n],s=e.data;if(o instanceof ti){let a=o;if(a.resolving)throw Hl("");let l=ys(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],d,g=a.injectImpl?$e(a.injectImpl):null,_=fc(t,i,0);try{o=t[n]=a.factory(void 0,r,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&qv(n,s[n],e)}finally{g!==null&&$e(g),ys(l),a.resolving=!1,pc()}}return o}function ry(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hn)?t[Hn]:void 0;return typeof e=="number"?e>=0?e&rm:oy:e}function Cp(t,e,n){let i=1<<t;return!!(n[e+(t>>om)]&i)}function xp(t,e){return!(t&2)&&!(t&1&&e)}var ei=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return cm(this._tNode,this._lView,e,jn(i),n)}};function oy(){return new ei(Le(),G())}function Pr(t){return Rr(()=>{let e=t.prototype.constructor,n=e[or]||Oc(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[or]||Oc(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Oc(t){return Rl(t)?()=>{let e=Oc(Oe(t));return e&&e()}:hn(t)}function sy(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[q]&2048&&!Ti(s);){let a=um(o,s,n,i|2,Vt);if(a!==Vt)return a;let l=o.parent;if(!l){let c=s[Zl];if(c){let d=c.get(n,Vt,i);if(d!==Vt)return d}l=dm(s),s=s[Un]}o=l}return r}function dm(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[dt]:null}function ay(){return As(Le(),G())}function As(t,e){return new Kt(Lt(t,e))}var Kt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ay}return t})();function fm(t){return(t.flags&128)===128}var cu=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(cu||{}),pm=new Map,ly=0;function cy(){return ly++}function uy(t){pm.set(t[Zt],t)}function kc(t){pm.delete(t[Zt])}var Ep="__ngContext__";function ki(t,e){Pt(e)?(t[Ep]=e[Zt],uy(e)):t[Ep]=e}function mm(t){return gm(t[Mi])}function hm(t){return gm(t[ut])}function gm(t){for(;t!==null&&!Ct(t);)t=t[ut];return t}var Rc;function uu(t){Rc=t}function vm(){if(Rc!==void 0)return Rc;if(typeof document<"u")return document;throw new R(210,!1)}var Ns=new U("",{factory:()=>dy}),dy="ng";var Os=new U(""),Fr=new U("",{providedIn:"platform",factory:()=>"unknown"});var ks=new U("",{factory:()=>x(ke).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ym="r";var bm="di";var _m=!1,Cm=new U("",{factory:()=>_m});var fy=(t,e,n,i)=>{};function py(t,e,n,i){fy(t,e,n,i)}function du(t){return(t.flags&32)===32}var my=()=>null;function xm(t,e,n=!1){return my(t,e,n)}function Em(t,e){let n=t.contentQueries;if(n!==null){let i=H(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];dc(o),a.contentQueries(2,e[s],s)}}}finally{H(i)}}}function Pc(t,e,n){dc(0);let i=H(null);try{e(t,n)}finally{H(i)}}function Dm(t,e,n){if(Kl(e)){let i=H(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{H(i)}}}var It=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(It||{});var as;function hy(){if(as===void 0&&(as=null,ct.trustedTypes))try{as=ct.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return as}function Rs(t){return hy()?.createHTML(t)||t}var ls;function gy(){if(ls===void 0&&(ls=null,ct.trustedTypes))try{ls=ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ls}function Dp(t){return gy()?.createHTML(t)||t}var Xt=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$o})`}},Fc=class extends Xt{getTypeName(){return"HTML"}},Lc=class extends Xt{getTypeName(){return"Style"}},jc=class extends Xt{getTypeName(){return"Script"}},Vc=class extends Xt{getTypeName(){return"URL"}},Bc=class extends Xt{getTypeName(){return"ResourceURL"}};function ht(t){return t instanceof Xt?t.changingThisBreaksApplicationSecurity:t}function Jt(t,e){let n=wm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$o})`)}return n===e}function wm(t){return t instanceof Xt&&t.getTypeName()||null}function fu(t){return new Fc(t)}function pu(t){return new Lc(t)}function mu(t){return new jc(t)}function hu(t){return new Vc(t)}function gu(t){return new Bc(t)}function vy(t){let e=new $c(t);return yy()?new Hc(e):e}var Hc=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Rs(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},$c=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Rs(e),n}};function yy(){try{return!!new window.DOMParser().parseFromString(Rs(""),"text/html")}catch{return!1}}var by=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lr(t){return t=String(t),t.match(by)?t:"unsafe:"+t}function en(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function jr(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var Im=en("area,br,col,hr,img,wbr"),Sm=en("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mm=en("rp,rt"),_y=jr(Mm,Sm),Cy=jr(Sm,en("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xy=jr(Mm,en("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wp=jr(Im,Cy,xy,_y),Tm=en("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ey=en("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dy=en("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wy=jr(Tm,Ey,Dy),Iy=en("script,style,template"),Uc=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=Ty(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=My(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=Ip(e).toLowerCase();if(!wp.hasOwnProperty(n))return this.sanitizedSomething=!0,!Iy.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!wy.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Tm[a]&&(l=Lr(l)),this.buf.push(" ",s,'="',Sp(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=Ip(e).toLowerCase();wp.hasOwnProperty(n)&&!Im.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Sp(e))}};function Sy(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function My(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Am(e);return e}function Ty(t){let e=t.firstChild;if(e&&Sy(t,e))throw Am(e);return e}function Ip(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Am(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Ay=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ny=/([^\#-~ |!])/g;function Sp(t){return t.replace(/&/g,"&amp;").replace(Ay,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(Ny,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var cs;function Ps(t,e){let n=null;try{cs=cs||vy(t);let i=e?String(e):"";n=cs.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=cs.getInertBodyElement(i)}while(i!==o);let a=new Uc().sanitizeChildren(Mp(n)||n);return Rs(a)}finally{if(n){let i=Mp(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function Mp(t){return"content"in t&&Oy(t)?t.content:null}function Oy(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}function ky(t,e){return t.createText(e)}function Ry(t,e,n){t.setValue(e,n)}function Nm(t,e,n){return t.createElement(e,n)}function Cs(t,e,n,i,r){t.insertBefore(e,n,i,r)}function Om(t,e,n){t.appendChild(e,n)}function Tp(t,e,n,i,r){i!==null?Cs(t,e,n,i,r):Om(t,e,n)}function km(t,e,n,i){t.removeChild(null,e,n,i)}function Py(t,e,n){t.setAttribute(e,"style",n)}function Fy(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rm(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Yv(t,e,i),r!==null&&Fy(t,e,r),o!==null&&Py(t,e,o)}var Tt=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Tt||{});function je(t){let e=Pm();return e?Dp(e.sanitize(Tt.HTML,t)||""):Jt(t,"HTML")?Dp(ht(t)):Ps(vm(),Ci(t))}function tn(t){let e=Pm();return e?e.sanitize(Tt.URL,t)||"":Jt(t,"URL")?ht(t):Lr(Ci(t))}function Pm(){let t=G();return t&&t[Rt].sanitizer}function Fi(t){return t.ownerDocument}function Ly(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var Fm="ng-template";function jy(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&Ly(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(vu(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vu(t){return t.type===4&&t.value!==Fm}function Vy(t,e,n){let i=t.type===4&&!n?Fm:t.value;return e===i}function By(t,e,n){let i=4,r=t.attrs,o=r!==null?Uy(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!wt(i)&&!wt(l))return!1;if(s&&wt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Vy(t,l,n)||l===""&&e.length===1){if(wt(i))return!1;s=!0}}else if(i&8){if(r===null||!jy(t,r,l,n)){if(wt(i))return!1;s=!0}}else{let c=e[++a],d=Hy(l,r,vu(t),n);if(d===-1){if(wt(i))return!1;s=!0;continue}if(c!==""){let g;if(d>o?g="":g=r[d+1].toLowerCase(),i&2&&c!==g){if(wt(i))return!1;s=!0}}}}return wt(i)||s}function wt(t){return(t&1)===0}function Hy(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return zy(e,t)}function $y(t,e,n=!1){for(let i=0;i<e.length;i++)if(By(t,e[i],n))return!0;return!1}function Uy(t){for(let e=0;e<t.length;e++){let n=t[e];if(Zv(n))return e}return t.length}function zy(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Ap(t,e){return t?":not("+e.trim()+")":e}function qy(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!wt(s)&&(e+=Ap(o,r),r=""),i=s,o=o||!wt(i);n++}return r!==""&&(e+=Ap(o,r)),e}function Gy(t){return t.map(qy).join(",")}function Qy(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!wt(r))break;r=o}i++}return n.length&&e.push(1,...n),e}var qe={};function yu(t,e,n,i,r,o,s,a,l,c,d){let g=fe+i,_=g+r,y=Wy(g,_),E=typeof c=="function"?c():c;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:d}}function Wy(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:qe);return n}function Yy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bu(t,e,n,i,r,o,s,a,l,c,d){let g=e.blueprint.slice();return g[_t]=r,g[q]=i|4|128|8|64|1024,(c!==null||t&&t[q]&2048)&&(g[q]|=2048),ec(g),g[Te]=g[Un]=t,g[ve]=n,g[Rt]=s||t&&t[Rt],g[de]=a||t&&t[de],g[Yt]=l||t&&t[Yt]||null,g[dt]=o,g[Zt]=cy(),g[Ii]=d,g[Zl]=c,g[it]=e.type==2?t[it]:g,g}function Zy(t,e,n){let i=Lt(e,t),r=Yy(n),o=t[Rt].rendererFactory,s=_u(t,bu(t,r,null,Lm(n),i,e,null,o.createRenderer(i,n),null,null,null));return t[e.index]=s}function Lm(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function jm(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function _u(t,e){return t[Mi]?t[Yl][ut]=e:t[Mi]=e,t[Yl]=e,e}function f(t=1){Vm(be(),G(),xt()+t,!1)}function Vm(t,e,n,i){if(!i)if((e[q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ds(e,o,n)}else{let o=t.preOrderHooks;o!==null&&fs(e,o,0,n)}xn(n)}var Fs=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Fs||{});function zc(t,e,n,i){let r=H(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Fs.SignalBased)!==0&&(l=e[o][tt]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),t.setInput!==null?t.setInput(e,l,i,n,o):Xp(e,l,o,i)}finally{H(r)}}var St=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(St||{}),Xy;function Cu(t,e){return Xy(t,e)}var ni=new Set,Ls=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Ls||{}),nn=new U(""),Np=new Set;function rn(t){Np.has(t)||(Np.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var xu=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bm=[0,1,2,3],Hm=(()=>{class t{ngZone=x(Ye);scheduler=x(Qt);errorHandler=x(lt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(nn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&se(re.AfterRenderHooksStart),this.executing=!0;for(let i of Bm)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&se(re.AfterRenderHooksEnd)}register(n){let{view:i}=n;i!==void 0?((i[Qn]??=[]).push(n),Zn(i),i[q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(Ls.AFTER_NEXT_RENDER,n):n()}static \u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}return t})(),xs=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,i,r,o,s=null){this.impl=e,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qn];e&&(this.view[Qn]=e.filter(n=>n!==this))}};function Eu(t,e){let n=e?.injector??x(nt);return rn("NgAfterNextRender"),Jy(t,n,e,!0)}function Ky(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Jy(t,e,n,i){let r=e.get(xu);r.impl??=e.get(Hm);let o=e.get(nn,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Et):null,a=e.get(Cr,null,{optional:!0}),l=new xs(r.impl,Ky(t),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var Du=new U("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:x(ze)})});function $m(t,e,n){let i=t.get(Du);if(Array.isArray(e))for(let r of e)i.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else i.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);i.scheduler&&i.scheduler(t)}function eb(t,e){let n=t.get(Du);if(e.detachedLeaveAnimationFns){for(let i of e.detachedLeaveAnimationFns)n.queue.delete(i);e.detachedLeaveAnimationFns=void 0}}function tb(t,e){for(let[n,i]of e)$m(t,i.animateFns)}function nb(t,e){let n=t.get(Du);if(Array.isArray(e))for(let i of e)n.queue.delete(i);else n.queue.delete(e)}function Op(t,e,n,i){let r=t?.[Wn]?.enter;e!==null&&r&&r.has(n.index)&&tb(i,r)}function Ai(t,e,n,i,r,o,s,a){if(r!=null){let l,c=!1;Ct(r)?l=r:Pt(r)&&(c=!0,r=r[_t]);let d=ft(r);t===0&&i!==null?(Op(a,i,o,n),s==null?Om(e,i,d):Cs(e,i,d,s||null,!0)):t===1&&i!==null?(Op(a,i,o,n),Cs(e,i,d,s||null,!0)):t===2?kp(a,o,n,g=>{km(e,d,c,g)}):t===3&&kp(a,o,n,()=>{e.destroyNode(d)}),l!=null&&hb(e,t,n,l,o,i,s)}}function ib(t,e){Um(t,e),e[_t]=null,e[dt]=null}function rb(t,e,n,i,r,o){i[_t]=r,i[dt]=e,Vs(t,i,n,1,r,o)}function Um(t,e){e[Rt].changeDetectionScheduler?.notify(9),Vs(t,e,e[de],2,null,null)}function ob(t){let e=t[Mi];if(!e)return Cc(t[z],t);for(;e;){let n=null;if(Pt(e))n=e[Mi];else{let i=e[ye];i&&(n=i)}if(!n){for(;e&&!e[ut]&&e!==t;)Pt(e)&&Cc(e[z],e),e=e[Te];e===null&&(e=t),Pt(e)&&Cc(e[z],e),n=e&&e[ut]}e=n}}function wu(t,e){let n=t[hr],i=n.indexOf(e);n.splice(i,1)}function js(t,e){if(Yn(e))return;let n=e[de];n.destroyNode&&Vs(t,e,n,3,null,null),ob(e)}function Cc(t,e){if(Yn(e))return;let n=H(null);try{e[q]&=-129,e[q]|=256,e[rt]&&fi(e[rt]),lb(t,e),ab(t,e),e[z].type===1&&e[de].destroy();let i=e[zn];if(i!==null&&Ct(e[Te])){i!==e[Te]&&wu(i,e);let r=e[Gn];r!==null&&r.detachView(t)}kc(e)}finally{H(n)}}function kp(t,e,n,i){let r=t?.[Wn];if(r?.enter?.has(e.index)&&nb(n,r.enter.get(e.index).animateFns),r==null||r.leave==null||!r.leave.has(e.index))return i(!1);t&&ni.add(t[Zt]),$m(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:d}=c();a.push(d)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(a),sb(t,i)}else t&&ni.delete(t[Zt]),i(!1)},r)}function sb(t,e){let n=t[Wn]?.running;if(n){n.then(()=>{t[Wn].running=void 0,ni.delete(t[Zt]),e(!0)});return}e(!1)}function ab(t,e){let n=t.cleanup,i=e[Si];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[Si]=null);let r=e[Gt];if(r!==null){e[Gt]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[gn];if(o!==null){e[gn]=null;for(let s of o)s.destroy()}}function lb(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof ti)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];se(re.LifecycleHookStart,a,l);try{l.call(a)}finally{se(re.LifecycleHookEnd,a,l)}}else{se(re.LifecycleHookStart,r,o);try{o.call(r)}finally{se(re.LifecycleHookEnd,r,o)}}}}}function cb(t,e,n){return ub(t,e.parent,n)}function ub(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[_t];if(Cn(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===It.None||r===It.Emulated)return null}return Lt(i,n)}function db(t,e,n){return pb(t,e,n)}function fb(t,e,n){return t.type&40?Lt(t,n):null}var pb=fb,Rp;function Iu(t,e,n,i){let r=cb(t,i,e),o=e[de],s=i.parent||e[dt],a=db(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Tp(o,r,n[l],a,!1);else Tp(o,r,n,a,!1);Rp!==void 0&&Rp(o,i,e,n,r)}function wr(t,e){if(e!==null){let n=e.type;if(n&3)return Lt(e,t);if(n&4)return qc(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return wr(t,i);{let r=t[e.index];return Ct(r)?qc(-1,r):ft(r)}}else{if(n&128)return wr(t,e.next);if(n&32)return Cu(e,t)()||ft(t[e.index]);{let i=zm(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=vn(t[it]);return wr(r,i)}else return wr(t,e.next)}}}return null}function zm(t,e){if(e!==null){let i=t[it][dt],r=e.projection;return i.projection[r]}return null}function qc(t,e){let n=ye+t+1;if(n<e.length){let i=e[n],r=i[z].firstChild;if(r!==null)return wr(i,r)}return e[_n]}function Su(t,e,n,i,r,o,s){for(;n!=null;){let a=i[Yt];if(n.type===128){n=n.next;continue}let l=i[n.index],c=n.type;if(s&&e===0&&(l&&ki(ft(l),i),n.flags|=2),!du(n))if(c&8)Su(t,e,n.child,i,r,o,!1),Ai(e,t,a,r,l,n,o,i);else if(c&32){let d=Cu(n,i),g;for(;g=d();)Ai(e,t,a,r,g,n,o,i);Ai(e,t,a,r,l,n,o,i)}else c&16?mb(t,e,i,n,r,o):Ai(e,t,a,r,l,n,o,i);n=s?n.projectionNext:n.next}}function Vs(t,e,n,i,r,o){Su(n,i,t.firstChild,e,r,o,!1)}function mb(t,e,n,i,r,o){let s=n[it],l=s[dt].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Ai(e,t,n[Yt],r,d,i,o,n)}else{let c=l,d=s[Te];fm(i)&&(c.flags|=128),Su(t,e,c,d,r,o,!0)}}function hb(t,e,n,i,r,o,s){let a=i[_n],l=ft(i);a!==l&&Ai(e,t,n,o,a,r,s);for(let c=ye;c<i.length;c++){let d=i[c];Vs(d[z],d,t,e,o,a)}}function gb(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:St.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=St.Important),t.setStyle(n,i,r,o))}}function qm(t,e,n,i,r){let o=xt(),s=i&2;try{xn(-1),s&&e.length>fe&&Vm(t,e,fe,!1);let a=s?re.TemplateUpdateStart:re.TemplateCreateStart;se(a,r,n),n(i,r)}finally{xn(o);let a=s?re.TemplateUpdateEnd:re.TemplateCreateEnd;se(a,r,n)}}function Mu(t,e,n){xb(t,e,n),(n.flags&64)===64&&Eb(t,e,n)}function Bs(t,e,n=Lt){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function vb(t,e,n,i){let o=i.get(Cm,_m)||n===It.ShadowDom||n===It.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,o);return yb(s),s}function yb(t){bb(t)}var bb=()=>null;function _b(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gm(t,e,n,i,r,o){let s=e[z];if(Tu(t,s,e,n,i)){Cn(t)&&Cb(e,t.index);return}t.type&3&&(n=_b(n)),Qm(t,e,n,i,r,o)}function Qm(t,e,n,i,r,o){if(t.type&3){let s=Lt(t,e);i=o!=null?o(i,t.value||"",n):i,r.setProperty(s,n,i)}else t.type&12}function Cb(t,e){let n=pt(e,t);n[q]&16||(n[q]|=64)}function xb(t,e,n){let i=n.directiveStart,r=n.directiveEnd;Cn(n)&&Zy(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bs(n,e);let o=n.initialInputs;for(let s=i;s<r;s++){let a=t.data[s],l=_s(e,t,s,n);if(ki(l,e),o!==null&&wb(e,s-i,l,a,n,o),Ft(a)){let c=pt(n.index,e);c[ve]=_s(e,t,s,n)}}}function Eb(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=np();try{xn(o);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];es(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Db(l,c)}}finally{xn(-1),es(s)}}function Db(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Wm(t,e){let n=t.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];$y(e,o.selectors,!1)&&(i??=[],Ft(o)?i.unshift(o):i.push(o))}return i}function wb(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];zc(i,n,l,c)}}function Ym(t,e,n,i,r){let o=fe+n,s=e[z],a=r(s,e,t,i,n);e[o]=a,Xn(t,!0);let l=t.type===2;return l?(Rm(e[de],a,t),(Qf()===0||gr(t))&&ki(a,e),Wf()):ki(a,e),rs()&&(!l||!du(t))&&Iu(s,e,a,t),t}function Zm(t){let e=t;return lc()?Xf():(e=e.parent,Xn(e,!1)),e}function Ib(t,e){let n=t[Yt];if(!n)return;let i;try{i=n.get(En,null)}catch{i=null}i?.(e)}function Tu(t,e,n,i,r){let o=t.inputs?.[i],s=t.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],g=e.data[c];zc(g,n[c],d,r),a=!0}if(o)for(let l of o){let c=n[l],d=e.data[l];zc(d,c,i,r),a=!0}return a}function Sb(t,e){let n=pt(e,t),i=n[z];Mb(i,n);let r=n[_t];r!==null&&n[Ii]===null&&(n[Ii]=xm(r,n[Yt])),se(re.ComponentStart);try{Au(i,n,n[ve])}finally{se(re.ComponentEnd,n[ve])}}function Mb(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Au(t,e,n){ts(e);try{let i=t.viewQuery;i!==null&&Pc(1,i,n);let r=t.template;r!==null&&qm(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Gn]?.finishViewCreation(t),t.staticContentQueries&&Em(t,e),t.staticViewQueries&&Pc(2,t.viewQuery,n);let o=t.components;o!==null&&Tb(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[q]&=-5,ns()}}function Tb(t,e){for(let n=0;n<e.length;n++)Sb(t,e[n])}function Hs(t,e,n,i){let r=H(null);try{let o=e.tView,a=t[q]&4096?4096:16,l=bu(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[e.index];l[zn]=c;let d=t[Gn];return d!==null&&(l[Gn]=d.createEmbeddedView(o)),Au(o,l,n),l}finally{H(r)}}function Sr(t,e){return!e||e.firstChild===null||fm(t)}function Mr(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(ft(o)),Ct(o)&&Xm(o,i);let s=n.type;if(s&8)Mr(t,e,n.child,i);else if(s&32){let a=Cu(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=zm(e,n);if(Array.isArray(a))i.push(...a);else{let l=vn(e[it]);Mr(l[z],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Xm(t,e){for(let n=ye;n<t.length;n++){let i=t[n],r=i[z].firstChild;r!==null&&Mr(i[z],i,r,e)}t[_n]!==t[_t]&&e.push(t[_n])}function Km(t){if(t[Qn]!==null){for(let e of t[Qn])e.impl.addSequence(e);t[Qn].length=0}}var Jm=[];function Ab(t){return t[rt]??Nb(t)}function Nb(t){let e=Jm.pop()??Object.create(kb);return e.lView=t,e}function Ob(t){t.lView[rt]!==t&&(t.lView=null,Jm.push(t))}var kb=P(O({},di),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Zn(t.lView)},consumerOnSignalRead(){this.lView[rt]=this}});function Rb(t){let e=t[rt]??Object.create(Pb);return e.lView=t,e}var Pb=P(O({},di),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=vn(t.lView);for(;e&&!eh(e[z]);)e=vn(e);e&&tc(e)},consumerOnSignalRead(){this.lView[rt]=this}});function eh(t){return t.type!==2}function th(t){if(t[gn]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[gn])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[q]&8192)}}var Fb=100;function nh(t,e=0){let i=t[Rt].rendererFactory,r=!1;r||i.begin?.();try{Lb(t,e)}finally{r||i.end?.()}}function Lb(t,e){let n=uc();try{ar(!0),Gc(t,e);let i=0;for(;_r(t);){if(i===Fb)throw new R(103,!1);i++,Gc(t,1)}}finally{ar(n)}}function jb(t,e,n,i){if(Yn(e))return;let r=e[q],o=!1,s=!1;ts(e);let a=!0,l=null,c=null;o||(eh(t)?(c=Ab(e),l=er(c)):co()===null?(a=!1,c=Rb(e),l=er(c)):e[rt]&&(fi(e[rt]),e[rt]=null));try{ec(e),Jf(t.bindingStartIndex),n!==null&&qm(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let y=t.preOrderCheckHooks;y!==null&&ds(e,y,null)}else{let y=t.preOrderHooks;y!==null&&fs(e,y,0,null),bc(e,0)}if(s||Vb(e),th(e),ih(e,0),t.contentQueries!==null&&Em(t,e),!o)if(d){let y=t.contentCheckHooks;y!==null&&ds(e,y)}else{let y=t.contentHooks;y!==null&&fs(e,y,1),bc(e,1)}Hb(t,e);let g=t.components;g!==null&&oh(e,g,0);let _=t.viewQuery;if(_!==null&&Pc(2,_,i),!o)if(d){let y=t.viewCheckHooks;y!==null&&ds(e,y)}else{let y=t.viewHooks;y!==null&&fs(e,y,2),bc(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Yo]){for(let y of e[Yo])y();e[Yo]=null}o||(Km(e),e[q]&=-73)}catch(d){throw o||Zn(e),d}finally{c!==null&&(uo(c,l),a&&Ob(c)),ns()}}function ih(t,e){for(let n=mm(t);n!==null;n=hm(n))for(let i=ye;i<n.length;i++){let r=n[i];rh(r,e)}}function Vb(t){for(let e=mm(t);e!==null;e=hm(e)){if(!(e[q]&2))continue;let n=e[hr];for(let i=0;i<n.length;i++){let r=n[i];tc(r)}}}function Bb(t,e,n){se(re.ComponentStart);let i=pt(e,t);try{rh(i,n)}finally{se(re.ComponentEnd,i[ve])}}function rh(t,e){Zo(t)&&Gc(t,e)}function Gc(t,e){let i=t[z],r=t[q],o=t[rt],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&fo(o)),s||=!1,o&&(o.dirty=!1),t[q]&=-9217,s)jb(i,t,i.template,t[ve]);else if(r&8192){let a=H(null);try{th(t),ih(t,1);let l=i.components;l!==null&&oh(t,l,1),Km(t)}finally{H(a)}}}function oh(t,e,n){for(let i=0;i<e.length;i++)Bb(t,e[i],n)}function Hb(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)xn(~r);else{let o=r,s=n[++i],a=n[++i];tp(s,o);let l=e[o];se(re.HostBindingsUpdateStart,l);try{a(2,l)}finally{se(re.HostBindingsUpdateEnd,l)}}}}finally{xn(-1)}}function Nu(t,e){let n=uc()?64:1088;for(t[Rt].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let i=vn(t);if(Ti(t)&&!i)return t;t=i}return null}function sh(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function ah(t,e){let n=ye+e;if(n<t.length)return t[n]}function $s(t,e,n,i=!0){let r=e[z];if($b(r,e,t,n),i){let s=qc(n,t),a=e[de],l=a.parentNode(t[_n]);l!==null&&rb(r,t[dt],a,e,l,s)}let o=e[Ii];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lh(t,e){let n=Tr(t,e);return n!==void 0&&js(n[z],n),n}function Tr(t,e){if(t.length<=ye)return;let n=ye+e,i=t[n];if(i){let r=i[zn];r!==null&&r!==t&&wu(r,i),e>0&&(t[n-1][ut]=i[ut]);let o=ur(t,ye+e);ib(i[z],i);let s=o[Gn];s!==null&&s.detachView(o[z]),i[Te]=null,i[ut]=null,i[q]&=-129}return i}function $b(t,e,n,i){let r=ye+i,o=n.length;i>0&&(n[r-1][ut]=e),i<o-ye?(e[ut]=n[r],Ul(n,ye+i,e)):(n.push(e),e[ut]=null),e[Te]=n;let s=e[zn];s!==null&&n!==s&&ch(s,e);let a=e[Gn];a!==null&&a.insertView(t),Xo(e),e[q]|=128}function ch(t,e){let n=t[hr],i=e[Te];if(Pt(i))t[q]|=2;else{let r=i[Te][it];e[it]!==r&&(t[q]|=2)}n===null?t[hr]=[e]:n.push(e)}var Dn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return Mr(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ve]}set context(e){this._lView[ve]=e}get destroyed(){return Yn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Te];if(Ct(e)){let n=e[mr],i=n?n.indexOf(this):-1;i>-1&&(Tr(e,i),ur(n,i))}this._attachedToViewContainer=!1}js(this._lView[z],this._lView)}onDestroy(e){nc(this._lView,e)}markForCheck(){Nu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Xo(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,nh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ti(this._lView),n=this._lView[zn];n!==null&&!e&&wu(n,this._lView),Um(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e;let n=Ti(this._lView),i=this._lView[zn];i!==null&&!n&&ch(i,this._lView),Xo(this._lView)}};var Vr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ub;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=Hs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new Dn(o)}}return t})();function Ub(){return uh(Le(),G())}function uh(t,e){return t.type&4?new Vr(e,t,As(t,e)):null}function Li(t,e,n,i,r){let o=t.data[e];if(o===null)o=zb(t,e,n,i,r),ep()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=Zf();o.injectorIndex=s===null?-1:s.injectorIndex}return Xn(o,!0),o}function zb(t,e,n,i,r){let o=ac(),s=lc(),a=s?o:o&&o.parent,l=t.data[e]=Gb(t,a,n,e,i,r);return qb(t,l,o,s),l}function qb(t,e,n,i){t.firstChild===null&&(t.firstChild=e),n!==null&&(i?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Gb(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Yf()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qb(t){let e=t[Xl]??[],i=t[Te][de],r=[];for(let o of e)o.data[bm]!==void 0?r.push(o):Wb(o,i);t[Xl]=r}function Wb(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[ym];for(;n<r;){let o=i.nextSibling;km(e,i,!1),i=o,n++}}}var Yb=()=>null,Zb=()=>null;function Qc(t,e){return Yb(t,e)}function dh(t,e,n){return Zb(t,e,n)}var fh=class{},Us=class{},Wc=class{resolveComponentFactory(e){throw new R(917,!1)}},zs=class{static NULL=new Wc},ii=class{},wn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Xb()}return t})();function Xb(){let t=G(),e=Le(),n=pt(e.index,t);return(Pt(n)?n:t)[de]}var ph=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:()=>null})}return t})();var ps={},Yc=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){let r=this.injector.get(e,ps,i);return r!==ps||n===ps?r:this.parentInjector.get(e,n,i)}};function Es(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Uo(r,a);else if(o==2){let l=a,c=e[++s];i=Uo(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function K(t,e=0){let n=G();if(n===null)return W(t,e);let i=Le();return cm(i,n,Oe(t),e)}function mh(t,e,n,i,r){let o=i===null?null:{"":-1},s=r(t,n);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}e_(t,e,n,a,o,l,c)}o!==null&&i!==null&&Kb(n,i,o)}function Kb(t,e,n){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new R(-301,!1);i.push(e[r],o)}}function Jb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function e_(t,e,n,i,r,o,s){let a=i.length,l=null;for(let _=0;_<a;_++){let y=i[_];l===null&&Ft(y)&&(l=y,Jb(t,n,_)),Nc(bs(n,e),t,y.type)}s_(n,t.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let _=0;_<a;_++){let y=i[_];y.providersResolver&&y.providersResolver(y)}let c=!1,d=!1,g=jm(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let _=0;_<a;_++){let y=i[_];if(n.mergedAttrs=Oi(n.mergedAttrs,y.hostAttrs),n_(t,n,e,g,y),o_(g,y,r),s!==null&&s.has(y)){let[k,L]=s.get(y);n.directiveToIndex.set(y.type,[g,k+n.directiveStart,L+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,g);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let E=y.type.prototype;!c&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),g++}t_(t,n,o)}function t_(t,e,n){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=t.data[i];if(n===null||!n.has(r))Pp(0,e,r,i),Pp(1,e,r,i),Lp(e,i,!1);else{let o=n.get(r);Fp(0,e,o,i),Fp(1,e,o,i),Lp(e,i,!0)}}}function Pp(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),hh(e,o)}}function Fp(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),hh(e,s)}}function hh(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Lp(t,e,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!n&&r===null||n&&o===null||vu(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function n_(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=hn(r.type,!0)),s=new ti(o,Ft(r),K,null);t.blueprint[i]=s,n[i]=s,i_(t,e,i,jm(t,n,r.hostVars,qe),r)}function i_(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;r_(s)!=a&&s.push(a),s.push(n,i,o)}}function r_(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function o_(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Ft(e)&&(n[""]=t)}}function s_(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gh(t,e,n,i,r,o,s,a){let l=e[z],c=l.consts,d=mt(c,s),g=Li(l,t,n,i,d);return o&&mh(l,e,g,mt(c,a),r),g.mergedAttrs=Oi(g.mergedAttrs,g.attrs),g.attrs!==null&&Es(g,g.attrs,!1),g.mergedAttrs!==null&&Es(g,g.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,g),g}function vh(t,e){tm(t,e),Kl(e)&&t.queries.elementEnd(e)}function a_(t,e,n,i,r,o){let s=e.consts,a=mt(s,r),l=Li(e,t,n,i,a);if(l.mergedAttrs=Oi(l.mergedAttrs,l.attrs),o!=null){let c=mt(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&Es(l,l.attrs,!1),l.mergedAttrs!==null&&Es(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Ou(t){return qs(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function yh(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function qs(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ku(t,e,n){return t[e]=n}function l_(t,e){return t[e]}function Mt(t,e,n){if(n===qe)return!1;let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function bh(t,e,n,i){let r=Mt(t,e,n);return Mt(t,e+1,i)||r}function ms(t,e,n){return function i(r){let o=Cn(t)?pt(t.index,e):e;Nu(o,5);let s=e[ve],a=jp(e,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=jp(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function jp(t,e,n,i){let r=H(null);try{return se(re.OutputStart,e,n),n(i)!==!1}catch(o){return Ib(t,o),!1}finally{se(re.OutputEnd,e,n),H(r)}}function _h(t,e,n,i,r,o,s,a){let l=gr(t),c=!1,d=null;if(!i&&l&&(d=u_(e,n,o,t.index)),d!==null){let g=d.__ngLastListenerFn__||d;g.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let g=Lt(t,n),_=i?i(g):g;py(n,_,o,a);let y=r.listen(_,o,a);if(!c_(o)){let E=i?k=>i(ft(k[t.index])):t.index;Ch(E,e,n,o,a,y,!1)}}return c}function c_(t){return t.startsWith("animation")||t.startsWith("transition")}function u_(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Si],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Ch(t,e,n,i,r,o,s){let a=e.firstCreatePass?Gf(e):null,l=qf(n),c=l.length;l.push(r,o),a&&a.push(i,t,c,(c+1)*(s?-1:1))}function Vp(t,e,n,i,r,o){let s=e[n],a=e[z],c=a.data[n].outputs[i],g=s[c].subscribe(o);Ch(t.index,a,e,r,o,g,!0)}var Zc=Symbol("BINDING");var Xc=class extends zs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=$n(e);return new Ar(n,this.ngModule)}};function d_(t){return Object.keys(t).map(e=>{let[n,i,r]=t[e],o={propName:n,templateName:e,isSignal:(i&Fs.SignalBased)!==0};return r&&(o.transform=r),o})}function f_(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function p_(t,e,n){let i=e instanceof ze?e:e?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new Yc(n,i):n}function m_(t){let e=t.get(ii,null);if(e===null)throw new R(407,!1);let n=t.get(ph,null),i=t.get(Qt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function h_(t,e){let n=xh(t);return Nm(e,n,n==="svg"?Bf:n==="math"?Hf:null)}function xh(t){return(t.selectors[0][0]||"div").toLowerCase()}var Ar=class extends Us{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=d_(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=f_(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Gy(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,i,r,o,s){se(re.DynamicComponentStart);let a=H(null);try{let l=this.componentDef,c=g_(i,l,s,o),d=p_(l,r||this.ngModule,e),g=m_(d),_=g.rendererFactory.createRenderer(null,l),y=i?vb(_,i,l.encapsulation,d):h_(l,_),E=s?.some(Bp)||o?.some(F=>typeof F!="function"&&F.bindings.some(Bp)),k=bu(null,c,null,512|Lm(l),null,null,g,_,d,null,xm(y,d,!0));k[fe]=y,ts(k);let L=null;try{let F=gh(fe,k,2,"#host",()=>c.directiveRegistry,!0,0);Rm(_,y,F),ki(y,k),Mu(c,k,F),Dm(c,F,k),vh(c,F),n!==void 0&&y_(F,this.ngContentSelectors,n),L=pt(F.index,k),k[ve]=L[ve],Au(c,k,null)}catch(F){throw L!==null&&kc(L),kc(k),F}finally{se(re.DynamicComponentEnd),ns()}return new Ds(this.componentType,k,!!E)}finally{H(a)}}};function g_(t,e,n,i){let r=t?["ng-version","21.1.3"]:Qy(e.selectors[0]),o=null,s=null,a=0;if(n)for(let d of n)a+=d[Zc].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let g=i[d];if(typeof g!="function")for(let _ of g.bindings){a+=_[Zc].requiredVars;let y=d+1;_.create&&(_.targetIdx=y,(o??=[]).push(_)),_.update&&(_.targetIdx=y,(s??=[]).push(_))}}let l=[e];if(i)for(let d of i){let g=typeof d=="function"?d:d.type,_=Vl(g);l.push(_)}return yu(0,null,v_(o,s),1,a,l,null,null,null,[r],null)}function v_(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let i of t)i.create();if(n&2&&e)for(let i of e)i.update()}}function Bp(t){let e=t[Zc].kind;return e==="input"||e==="twoWay"}var Ds=class extends fh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=vr(n[z],fe),this.location=As(this._tNode,n),this.instance=pt(this._tNode.index,n)[ve],this.hostView=this.changeDetectorRef=new Dn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,o=Tu(i,r[z],r,e,n);this.previousInputValues.set(e,n);let s=pt(i.index,r);Nu(s,1)}get injector(){return new ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function y_(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var Br=(()=>{class t{static __NG_ELEMENT_ID__=b_}return t})();function b_(){let t=Le();return C_(t,G())}var __=Br,Eh=class extends __{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new ei(this._hostTNode,this._hostLView)}get parentInjector(){let e=lu(this._hostTNode,this._hostLView);if(im(e)){let n=vs(e,this._hostLView),i=gs(e),r=n[z].data[i+8];return new ei(r,n)}else return new ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ye}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Qc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,Sr(this._hostTNode,s)),a}createComponent(e,n,i,r,o,s,a){let l=e&&!Hv(e),c;if(l)c=n;else{let L=n||{};c=L.index,i=L.injector,r=L.projectableNodes,o=L.environmentInjector||L.ngModuleRef,s=L.directives,a=L.bindings}let d=l?e:new Ar($n(e)),g=i||this.parentInjector;if(!o&&d.ngModule==null){let F=(l?g:this.parentInjector).get(ze,null);F&&(o=F)}let _=$n(d.componentType??{}),y=Qc(this._lContainer,_?.id??null),E=y?.firstChild??null,k=d.create(g,r,E,o,s,a);return this.insertImpl(k.hostView,c,Sr(this._hostTNode,y)),k}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if($f(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Te],c=new Eh(l,l[dt],l[Te]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return $s(s,r,o,i),e.attachToViewContainerRef(),Ul(xc(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Tr(this._lContainer,n);i&&(ur(xc(this._lContainer),n),js(i[z],i))}detach(e){let n=this._adjustIndex(e,-1),i=Tr(this._lContainer,n);return i&&ur(xc(this._lContainer),n)!=null?new Dn(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hp(t){return t[mr]}function xc(t){return t[mr]||(t[mr]=[])}function C_(t,e){let n,i=e[t.index];return Ct(i)?n=i:(n=sh(i,e,null,t),e[t.index]=n,_u(e,n)),E_(n,e,t,i),new Eh(n,t,e)}function x_(t,e){let n=t[de],i=n.createComment(""),r=Lt(e,t),o=n.parentNode(r);return Cs(n,o,i,n.nextSibling(r),!1),i}var E_=I_,D_=()=>!1;function w_(t,e,n){return D_(t,e,n)}function I_(t,e,n,i){if(t[_n])return;let r;n.type&8?r=ft(i):r=x_(e,n),t[_n]=r}var Nr=class{};var Or=class extends Nr{injector;componentFactoryResolver=new Xc(this);instance=null;constructor(e){super();let n=new Bn([...e.providers,{provide:Nr,useValue:this},{provide:zs,useValue:this.componentFactoryResolver}],e.parent||pr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Dh(t,e,n=null){return new Or({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var S_=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Gl(!1,n.type),r=i.length>0?Dh([i],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(W(ze))})}return t})();function ie(t){return Rr(()=>{let e=wh(t),n=P(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(S_).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||It.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&rn("NgStandalone"),Ih(n);let i=t.dependencies;return n.directiveDefs=$p(i,M_),n.pipeDefs=$p(i,Tf),n.id=N_(n),n})}function M_(t){return $n(t)||Vl(t)}function on(t){return Rr(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function T_(t,e){if(t==null)return bn;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=Fs.None,l=null),n[o]=[i,a,l],e[o]=s}return n}function A_(t){if(t==null)return bn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ge(t){return Rr(()=>{let e=wh(t);return Ih(e),e})}function ji(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wh(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||bn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:T_(t.inputs,e),outputs:A_(t.outputs),debugInfo:null}}function Ih(t){t.features?.forEach(e=>e(t))}function $p(t,e){return t?()=>{let n=typeof t=="function"?t():t,i=[];for(let r of n){let o=e(r);o!==null&&i.push(o)}return i}:null}function N_(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function O_(t){return Object.getPrototypeOf(t.prototype).constructor}function sn(t){let e=O_(t.type),n=!0,i=[t];for(;e;){let r;if(Ft(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new R(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Ec(t.inputs),s.declaredInputs=Ec(t.declaredInputs),s.outputs=Ec(t.outputs);let a=r.hostBindings;a&&L_(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&P_(t,l),c&&F_(t,c),k_(t,r),Mf(t.outputs,r.outputs),Ft(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===sn&&(n=!1)}}e=Object.getPrototypeOf(e)}R_(i)}function k_(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n])}}function R_(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Oi(r.hostAttrs,n=Oi(n,r.hostAttrs))}}function Ec(t){return t===bn?{}:t===Ue?[]:t}function P_(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function F_(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function L_(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Sh(t,e,n,i,r,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Oi(t.mergedAttrs,t.attrs);let d=t.tView=yu(2,t,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Xn(t,!1);let l=V_(n,e,t,i);rs()&&Iu(n,e,l,t),ki(l,e);let c=sh(l,e,l,t);e[i+fe]=c,_u(e,c),w_(c,t,e)}function j_(t,e,n,i,r,o,s,a,l,c,d){let g=n+fe,_;return e.firstCreatePass?(_=Li(e,g,4,s||null,a||null),rc()&&mh(e,t,_,mt(e.consts,c),Wm),tm(e,_)):_=e.data[g],Sh(_,t,e,n,i,r,o,l),gr(_)&&Mu(e,t,_),c!=null&&Bs(t,_,d),_}function ws(t,e,n,i,r,o,s,a,l,c,d){let g=n+fe,_;if(e.firstCreatePass){if(_=Li(e,g,4,s||null,a||null),c!=null){let y=mt(e.consts,c);_.localNames=[];for(let E=0;E<y.length;E+=2)_.localNames.push(y[E],-1)}}else _=e.data[g];return Sh(_,t,e,n,i,r,o,l),c!=null&&Bs(t,_,d),_}function oi(t,e,n,i,r,o,s,a){let l=G(),c=be(),d=mt(c.consts,o);return j_(l,c,t,e,n,i,r,d,void 0,s,a),oi}var V_=B_;function B_(t,e,n,i){return os(!0),e[de].createComment("")}function Mh(t){return typeof t=="function"&&t[tt]!==void 0}function Ru(t){return Mh(t)&&typeof t.set=="function"}var Pu=new U("");function Vi(t){return!!t&&typeof t.then=="function"}function Fu(t){return!!t&&typeof t.subscribe=="function"}var Th=new U("");var Lu=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=x(Th,{optional:!0})??[];injector=x(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=wi(this.injector,r);if(Vi(o))n.push(o);else if(Fu(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ah=new U("");function Nh(){il(()=>{let t="";throw new R(600,t)})}function Oh(t){return t.isBoundToModule}var H_=10;var si=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(En);afterRenderManager=x(xu);zonelessEnabled=x(xr);rootEffectScheduler=x(ss);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(Jn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(We(n=>!n))}constructor(){x(nn,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=x(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=nt.NULL){return this._injector.get(Ye).run(()=>{se(re.BootstrapComponentStart);let s=n instanceof Us;if(!this._injector.get(Lu).done){let E="";throw new R(405,E)}let l;s?l=n:l=this._injector.get(zs).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=Oh(l)?void 0:this._injector.get(Nr),d=i||l.selector,g=l.create(r,[],d,c),_=g.location.nativeElement,y=g.injector.get(Pu,null);return y?.registerApplication(_),g.onDestroy(()=>{this.detachView(g.hostView),Ir(this.components,g),y?.unregisterApplication(_)}),this._loadComponent(g),se(re.BootstrapComponentEnd,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){se(re.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ls.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw se(re.ChangeDetectionEnd),new R(101,!1);let n=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(n),this.afterTick.next(),se(re.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ii,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<H_;){se(re.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{se(re.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!_r(r))continue;let o=i&&!this.zonelessEnabled?0:1;nh(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>_r(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Ir(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Ah,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ir(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ir(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var xN=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Kc=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function Dc(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function $_(t,e,n,i){let r,o,s=0,a=t.length-1,l=void 0;if(Array.isArray(e)){H(i);let c=e.length-1;for(H(null);s<=a&&s<=c;){let d=t.at(s),g=e[s],_=Dc(s,d,s,g,n);if(_!==0){_<0&&t.updateValue(s,g),s++;continue}let y=t.at(a),E=e[c],k=Dc(a,y,c,E,n);if(k!==0){k<0&&t.updateValue(a,E),a--,c--;continue}let L=n(s,d),F=n(a,y),pe=n(s,g);if(Object.is(pe,F)){let et=n(c,E);Object.is(et,L)?(t.swap(s,a),t.updateValue(a,E),c--,a--):t.move(a,s),t.updateValue(s,g),s++;continue}if(r??=new Is,o??=zp(t,s,a,n),Jc(t,r,s,pe))t.updateValue(s,g),s++,a++;else if(o.has(pe))r.set(L,t.detach(s)),a--;else{let et=t.create(s,e[s]);t.attach(s,et),s++,a++}}for(;s<=c;)Up(t,r,n,s,e[s]),s++}else if(e!=null){H(i);let c=e[Symbol.iterator]();H(null);let d=c.next();for(;!d.done&&s<=a;){let g=t.at(s),_=d.value,y=Dc(s,g,s,_,n);if(y!==0)y<0&&t.updateValue(s,_),s++,d=c.next();else{r??=new Is,o??=zp(t,s,a,n);let E=n(s,_);if(Jc(t,r,s,E))t.updateValue(s,_),s++,a++,d=c.next();else if(!o.has(E))t.attach(s,t.create(s,_)),s++,a++,d=c.next();else{let k=n(s,g);r.set(k,t.detach(s)),a--}}}for(;!d.done;)Up(t,r,n,t.length,d.value),d=c.next()}for(;s<=a;)t.destroy(t.detach(a--));r?.forEach(c=>{t.destroy(c)})}function Jc(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function Up(t,e,n,i,r){if(Jc(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function zp(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var Is=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function w(t,e,n,i,r,o,s,a){rn("NgControlFlow");let l=G(),c=be(),d=mt(c.consts,o);return ws(l,c,t,e,n,i,r,d,256,s,a),ju}function ju(t,e,n,i,r,o,s,a){rn("NgControlFlow");let l=G(),c=be(),d=mt(c.consts,o);return ws(l,c,t,e,n,i,r,d,512,s,a),ju}function I(t,e){rn("NgControlFlow");let n=G(),i=Kn(),r=n[i]!==qe?n[i]:-1,o=r!==-1?Ss(n,fe+r):void 0,s=0;if(Mt(n,i,t)){let a=H(null);try{if(o!==void 0&&lh(o,s),t!==-1){let l=fe+t,c=Ss(n,l),d=iu(n[z],l),g=dh(c,d,n),_=Hs(n,d,e,{dehydratedView:g});$s(c,_,s,Sr(d,g))}}finally{H(a)}}else if(o!==void 0){let a=ah(o,s);a!==void 0&&(a[ve]=e)}}var eu=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-ye}};function Ze(t){return t}function Bt(t,e){return e}var tu=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Y(t,e,n,i,r,o,s,a,l,c,d,g,_){rn("NgControlFlow");let y=G(),E=be(),k=l!==void 0,L=G(),F=a?s.bind(L[it][ve]):s,pe=new tu(k,F);L[fe+t]=pe,ws(y,E,t+1,e,n,i,r,mt(E.consts,o),256),k&&ws(y,E,t+2,l,c,d,g,mt(E.consts,_),512)}var nu=class extends Kc{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-ye}at(e){return this.getLView(e)[ve].$implicit}attach(e,n){let i=n[Ii];this.needsIndexUpdate||=e!==this.length,$s(this.lContainer,n,e,Sr(this.templateTNode,i)),U_(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,z_(this.lContainer,e),q_(this.lContainer,e)}create(e,n){let i=Qc(this.lContainer,this.templateTNode.tView.ssrId);return Hs(this.hostLView,this.templateTNode,new eu(this.lContainer,n,e),{dehydratedView:i})}destroy(e){js(e[z],e)}updateValue(e,n){this.getLView(e)[ve].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ve].$index=e}getLView(e){return G_(this.lContainer,e)}};function Z(t){let e=H(null),n=xt();try{let i=G(),r=i[z],o=i[n],s=n+1,a=Ss(i,s);if(o.liveCollection===void 0){let c=iu(r,s);o.liveCollection=new nu(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if($_(l,t,o.trackByFn,e),l.updateIndexes(),o.hasEmptyBlock){let c=Kn(),d=l.length===0;if(Mt(i,c,d)){let g=n+2,_=Ss(i,g);if(d){let y=iu(r,g),E=dh(_,y,i),k=Hs(i,y,void 0,{dehydratedView:E});$s(_,k,0,Sr(y,E))}else r.firstUpdatePass&&Qb(_),lh(_,0)}}}finally{H(e)}}function Ss(t,e){return t[e]}function U_(t,e){if(t.length<=ye)return;let n=ye+e,i=t[n],r=i?i[Wn]:void 0;if(i&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let o=i[Yt];eb(o,r),ni.delete(i[Zt]),r.detachedLeaveAnimationFns=void 0}}function z_(t,e){if(t.length<=ye)return;let n=ye+e,i=t[n],r=i?i[Wn]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function q_(t,e){return Tr(t,e)}function G_(t,e){return ah(t,e)}function iu(t,e){return vr(t,e)}function J(t,e,n){let i=G(),r=Kn();if(Mt(i,r,e)){let o=be(),s=is();Gm(s,i,t,e,i[de],n)}return J}function ru(t,e,n,i,r){Tu(e,t,n,r?"class":"style",i)}function p(t,e,n,i){let r=G(),o=r[z],s=t+fe,a=o.firstCreatePass?gh(s,r,2,e,Wm,rc(),n,i):o.data[s];if(Ym(a,r,t,e,kh),gr(a)){let l=r[z];Mu(l,r,a),Dm(l,a,r)}return i!=null&&Bs(r,a),p}function m(){let t=be(),e=Le(),n=Zm(e);return t.firstCreatePass&&vh(t,n),oc(n)&&sc(),ic(),n.classesWithoutHost!=null&&Qv(n)&&ru(t,n,G(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Wv(n)&&ru(t,n,G(),n.stylesWithoutHost,!1),m}function D(t,e,n,i){return p(t,e,n,i),m(),D}function h(t,e,n,i){let r=G(),o=r[z],s=t+fe,a=o.firstCreatePass?a_(s,o,2,e,n,i):o.data[s];return Ym(a,r,t,e,kh),i!=null&&Bs(r,a),h}function v(){let t=Le(),e=Zm(t);return oc(e)&&sc(),ic(),v}function A(t,e,n,i){return h(t,e,n,i),v(),A}var kh=(t,e,n,i,r)=>(os(!0),Nm(e[de],i,lp()));function B(){return G()}function Ve(t,e,n){let i=G(),r=Kn();if(Mt(i,r,e)){let o=be(),s=is();Qm(s,i,t,e,i[de],n)}return Ve}var Dr=void 0;function Q_(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var W_=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Dr,Dr,Dr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Q_],wc={};function Xe(t){let e=Y_(t),n=qp(e);if(n)return n;let i=e.split("-")[0];if(n=qp(i),n)return n;if(i==="en")return W_;throw new R(701,!1)}function qp(t){return t in wc||(wc[t]=ct.ng&&ct.ng.common&&ct.ng.common.locales&&ct.ng.common.locales[t]),wc[t]}var ge=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ge||{});function Y_(t){return t.toLowerCase().replace(/_/g,"-")}var Hr="en-US";var Z_=Hr;function Rh(t){typeof t=="string"&&(Z_=t.toLowerCase().replace(/_/g,"-"))}function V(t,e,n){let i=G(),r=be(),o=Le();return Ph(r,i,i[de],o,t,e,n),V}function Q(t,e,n){let i=G(),r=be(),o=Le();return(o.type&3||n)&&_h(o,r,i,n,i[de],t,e,ms(o,i,e)),Q}function Ph(t,e,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=ms(i,e,o),_h(i,t,e,s,n,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let g=0;g<d.length;g+=2){let _=d[g],y=d[g+1];l??=ms(i,e,o),Vp(i,e,_,y,r,l)}if(c&&c.length)for(let g of c)l??=ms(i,e,o),Vp(i,e,g,r,r,l)}}function b(t=1){return ap(t)}function Vu(t){let e=cc();return yr(e,fe+t)}function us(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function X_(t){return(t&2)==2}function K_(t,e){return t&131071|e<<17}function ou(t){return t|2}function Ri(t){return(t&131068)>>2}function Ic(t,e){return t&-131069|e<<2}function J_(t){return(t&1)===1}function su(t){return t|1}function eC(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ri(s),l=Ri(s);t[i]=n;let c=!1,d;if(Array.isArray(n)){let g=n;d=g[1],(d===null||xi(g,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let _=ri(t[a+1]);t[i+1]=us(_,a),_!==0&&(t[_+1]=Ic(t[_+1],i)),t[a+1]=K_(t[a+1],i)}else t[i+1]=us(a,0),a!==0&&(t[a+1]=Ic(t[a+1],i)),a=i;else t[i+1]=us(l,0),a===0?a=i:t[l+1]=Ic(t[l+1],i),l=i;c&&(t[i+1]=ou(t[i+1])),Gp(t,d,i,!0),Gp(t,d,i,!1),tC(e,d,t,i,o),s=us(a,l),o?e.classBindings=s:e.styleBindings=s}function tC(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&xi(o,e)>=0&&(n[i+1]=su(n[i+1]))}function Gp(t,e,n,i){let r=t[n+1],o=e===null,s=i?ri(r):Ri(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];nC(l,e)&&(a=!0,t[s+1]=i?su(c):ou(c)),s=i?ri(c):Ri(c)}a&&(t[n+1]=i?ou(r):su(r))}function nC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xi(t,e)>=0:!1}var Ee={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fh(t){return t.substring(Ee.key,Ee.keyEnd)}function iC(t){return t.substring(Ee.value,Ee.valueEnd)}function rC(t){return Vh(t),Lh(t,Pi(t,0,Ee.textEnd))}function Lh(t,e){let n=Ee.textEnd;return n===e?-1:(e=Ee.keyEnd=sC(t,Ee.key=e,n),Pi(t,e,n))}function oC(t){return Vh(t),jh(t,Pi(t,0,Ee.textEnd))}function jh(t,e){let n=Ee.textEnd,i=Ee.key=Pi(t,e,n);return n===i?-1:(i=Ee.keyEnd=aC(t,i,n),i=Qp(t,i,n,58),i=Ee.value=Pi(t,i,n),i=Ee.valueEnd=lC(t,i,n),Qp(t,i,n,59))}function Vh(t){Ee.key=0,Ee.keyEnd=0,Ee.value=0,Ee.valueEnd=0,Ee.textEnd=t.length}function Pi(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function sC(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function aC(t,e,n){let i;for(;e<n&&((i=t.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function Qp(t,e,n,i){return e=Pi(t,e,n),e<n&&e++,e}function lC(t,e,n){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<n;){let l=t.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=Wp(t,l,s,n):e===s-4&&o===85&&r===82&&i===76&&l===40?a=s=Wp(t,41,s,n):l>32&&(a=s),o=r,r=i,i=l&-33}return a}function Wp(t,e,n,i){let r=-1,o=n;for(;o<i;){let s=t.charCodeAt(o++);if(s==e&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function De(t,e,n){return Bh(t,e,n,!1),De}function $(t,e){return Bh(t,e,null,!0),$}function Bu(t){Hh(zh,cC,t,!1)}function cC(t,e){for(let n=oC(e);n>=0;n=jh(e,n))zh(t,Fh(e),iC(e))}function Ae(t){Hh(gC,uC,t,!0)}function uC(t,e){for(let n=rC(e);n>=0;n=Lh(e,n))dr(t,Fh(e),!0)}function Bh(t,e,n,i){let r=G(),o=be(),s=Jo(2);if(o.firstUpdatePass&&Uh(o,t,s,i),e!==qe&&Mt(r,s,e)){let a=o.data[xt()];qh(o,a,r,r[de],t,r[s+1]=yC(e,n),i,s)}}function Hh(t,e,n,i){let r=be(),o=Jo(2);r.firstUpdatePass&&Uh(r,null,o,i);let s=G();if(n!==qe&&Mt(s,o,n)){let a=r.data[xt()];if(Gh(a,i)&&!$h(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Uo(l,n||"")),ru(r,a,s,n,i)}else vC(r,a,s,s[de],s[o+1],s[o+1]=hC(t,e,n),i,o)}}function $h(t,e){return e>=t.expandoStartIndex}function Uh(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[xt()],s=$h(t,n);Gh(o,i)&&e===null&&!s&&(e=!1),e=dC(r,o,e,i),eC(r,o,e,n,s,i)}}function dC(t,e,n,i){let r=ip(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Sc(null,t,e,n,i),n=kr(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Sc(r,t,e,n,i),o===null){let l=fC(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Sc(null,t,e,l[1],i),l=kr(l,e.attrs,i),pC(t,e,i,l))}else o=mC(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function fC(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ri(i)!==0)return t[ri(i)]}function pC(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[ri(r)]=i}function mC(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=kr(i,s,n)}return kr(i,e.attrs,n)}function Sc(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=kr(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function kr(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),dr(t,s,n?!0:e[++o]))}return t===void 0?null:t}function hC(t,e,n){if(n==null||n==="")return Ue;let i=[],r=ht(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(r instanceof Set)for(let o of r)t(i,o,!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function zh(t,e,n){dr(t,e,ht(n))}function gC(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&dr(t,i,n)}function vC(t,e,n,i,r,o,s,a){r===qe&&(r=Ue);let l=0,c=0,d=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;d!==null||g!==null;){let _=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0,E=null,k;d===g?(l+=2,c+=2,_!==y&&(E=g,k=y)):g===null||d!==null&&d<g?(l+=2,E=d):(c+=2,E=g,k=y),E!==null&&qh(t,e,n,i,E,k,s,a),d=l<r.length?r[l]:null,g=c<o.length?o[c]:null}}function qh(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=J_(c)?Yp(l,e,n,r,Ri(c),s):void 0;if(!Ms(d)){Ms(o)||X_(c)&&(o=Yp(l,null,n,r,a,s));let g=Jl(xt(),n);gb(i,s,g,r,o)}}function Yp(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,g=d===null,_=n[r+1];_===qe&&(_=g?Ue:void 0);let y=g?Wo(_,i):d===i?_:void 0;if(c&&!Ms(y)&&(y=Wo(l,i)),Ms(y)&&(a=y,s))return a;let E=t[r+1];r=s?ri(E):Ri(E)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Wo(l,i))}return a}function Ms(t){return t!==void 0}function yC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mn(ht(t)))),t}function Gh(t,e){return(t.flags&(e?8:16))!==0}function u(t,e=""){let n=G(),i=be(),r=t+fe,o=i.firstCreatePass?Li(i,r,1,e,null):i.data[r],s=bC(i,n,o,e);n[r]=s,rs()&&Iu(i,n,s,o),Xn(o,!1)}var bC=(t,e,n,i)=>(os(!0),ky(e[de],i));function _C(t,e,n,i=""){return Mt(t,Kn(),n)?e+Ci(n)+i:qe}function CC(t,e,n,i,r,o=""){let s=Kf(),a=bh(t,s,n,r);return Jo(2),a?e+Ci(n)+i+Ci(r)+o:qe}function S(t){return N("",t),S}function N(t,e,n){let i=G(),r=_C(i,t,e,n);return r!==qe&&Qh(i,xt(),r),N}function Qe(t,e,n,i,r){let o=G(),s=CC(o,t,e,n,i,r);return s!==qe&&Qh(o,xt(),s),Qe}function Qh(t,e,n){let i=Jl(e,t);Ry(t[de],i,n)}function an(t,e,n){Ru(e)&&(e=e());let i=G(),r=Kn();if(Mt(i,r,e)){let o=be(),s=is();Gm(s,i,t,e,i[de],n)}return an}function In(t,e){let n=Ru(t);return n&&t.set(e),n}function ln(t,e){let n=G(),i=be(),r=Le();return Ph(i,n,n[de],r,t,e),ln}var Wh={};function Gs(t){rn("NgLet");let e=be(),n=G(),i=t+fe,r=Li(e,i,128,null,null);return Xn(r,!1),br(e,n,i,Wh),Gs}function Hu(t){let e=be(),n=G(),i=xt();return br(e,n,i,t),t}function $u(t){let e=cc(),n=yr(e,fe+t);if(n===Wh)throw new R(314,!1);return n}function Zp(t,e,n){let i=be();i.firstCreatePass&&Yh(e,i.data,i.blueprint,Ft(t),n)}function Yh(t,e,n,i,r){if(t=Oe(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yh(t[o],e,n,i,r);else{let o=be(),s=G(),a=Le(),l=Vn(t)?t:Oe(t.provide),c=Wl(t),d=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Vn(t)||!t.multi){let y=new ti(c,r,K,null),E=Tc(l,e,r?d:d+_,g);E===-1?(Nc(bs(a,s),o,l),Mc(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[E]=y,s[E]=y)}else{let y=Tc(l,e,d+_,g),E=Tc(l,e,d,d+_),k=y>=0&&n[y],L=E>=0&&n[E];if(r&&!L||!r&&!k){Nc(bs(a,s),o,l);let F=DC(r?EC:xC,n.length,r,i,c,t);!r&&L&&(n[E].providerFactory=F),Mc(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=Zh(n[r?E:y],c,!r&&i);Mc(o,t,y>-1?y:E,F)}!r&&i&&L&&n[E].componentProviders++}}}function Mc(t,e,n,i){let r=Vn(e),o=Lf(e);if(r||o){let l=(o?Oe(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function Zh(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Tc(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function xC(t,e,n,i,r){return au(this.multi,[])}function EC(t,e,n,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_s(i,i[z],this.providerFactory.index,r);s=l.slice(0,a),au(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],au(o,s);return s}function au(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function DC(t,e,n,i,r,o){let s=new ti(t,n,K,null);return s.multi=[],s.index=e,s.componentProviders=0,Zh(s,r,i&&!n),s}function Bi(t,e){return n=>{n.providersResolver=(i,r)=>Zp(i,r?r(t):t,!1),e&&(n.viewProvidersResolver=(i,r)=>Zp(i,r?r(e):e,!0))}}function cn(t,e){let n=Ko()+t,i=G();return i[n]===qe?ku(i,n,e()):l_(i,n)}function Xh(t,e){let n=t[e];return n===qe?void 0:n}function wC(t,e,n,i,r,o){let s=e+n;return Mt(t,s,r)?ku(t,s+1,o?i.call(o,r):i(r)):Xh(t,s+1)}function IC(t,e,n,i,r,o,s){let a=e+n;return bh(t,a,r,o)?ku(t,a+2,s?i.call(s,r,o):i(r,o)):Xh(t,a+2)}function _e(t,e){let n=be(),i,r=t+fe;n.firstCreatePass?(i=SC(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=hn(i.type,!0)),s,a=$e(K);try{let l=ys(!1),c=o();return ys(l),br(n,G(),r,c),c}finally{$e(a)}}function SC(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Be(t,e,n){let i=t+fe,r=G(),o=yr(r,i);return Kh(r,i)?wC(r,Ko(),e,o.transform,n,o):o.transform(n)}function Hi(t,e,n,i){let r=t+fe,o=G(),s=yr(o,r);return Kh(o,r)?IC(o,Ko(),e,s.transform,n,i,s):s.transform(n,i)}function Kh(t,e){return t[z].data[e].pure}function Uu(t,e){return uh(t,e)}var Jh=(()=>{class t{applicationErrorHandler=x(En);appRef=x(si);taskService=x(Jn);ngZone=x(Ye);zonelessEnabled=x(xr);tracing=x(nn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(yc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?pp:mc;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.applicationErrorHandler(i)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zu(){return rn("NgZoneless"),Di([...qu(),[]])}function qu(){return[{provide:Qt,useExisting:Jh},{provide:Ye,useClass:cr},{provide:xr,useValue:!0}]}function MC(){return typeof $localize<"u"&&$localize.locale||Hr}var $i=new U("",{factory:()=>x($i,{optional:!0,skipSelf:!0})||MC()});var Qs=class{destroyed=!1;listeners=null;errorHandler=x(lt,{optional:!0});destroyRef=x(Et);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new R(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(yn(953,!1));return}if(this.listeners===null)return;let n=H(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{H(n)}}};function oe(t,e){return po(t,e?.equal)}function rg(t){return new Qs}var Gu=new U(""),UC=new U("");function $r(t){return!t.moduleRef}function zC(t){let e=$r(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ye);return n.run(()=>{$r(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(En),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),$r(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Gu);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Gu);s.add(o),t.moduleRef.onDestroy(()=>{Ir(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return GC(i,n,()=>{let o=e.get(Jn),s=o.add(),a=e.get(Lu);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get($i,Hr);if(Rh(l||Hr),!e.get(UC,!0))return $r(t)?e.get(si):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if($r(t)){let d=e.get(si);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return qC?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{o.remove(s)})})})}var qC;function GC(t,e,n){try{let i=n();return Vi(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t(i)),i}}var Ws=null;function QC(t=[],e){return nt.create({name:e,providers:[{provide:fr,useValue:"platform"},{provide:Gu,useValue:new Set([()=>Ws=null])},...t]})}function WC(t=[]){if(Ws)return Ws;let e=QC(t);return Ws=e,Nh(),YC(e),e}function YC(t){let e=t.get(Os,null);wi(t,()=>{e?.forEach(n=>n())})}var ZC=1e4;var TF=ZC-1e3;var Zs=(()=>{class t{static __NG_ELEMENT_ID__=XC}return t})();function XC(t){return KC(Le(),G(),(t&16)===16)}function KC(t,e,n){if(Cn(t)&&!n){let i=pt(t.index,e);return new Dn(i,i)}else if(t.type&175){let i=e[it];return new Dn(i,e)}return null}var Qu=class{supports(e){return Ou(e)}create(e){return new Wu(e)}},JC=(t,e)=>e,Wu=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||JC}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<eg(i,r,o)?n:i,a=eg(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let _=0;_<c;_++){let y=_<o.length?o[_]:o[_]=0,E=y+_;d<=E&&E<c&&(o[_]=y+1)}let g=s.previousIndex;o[g]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ou(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,yh(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Yu(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ys),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yu=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Zu=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Ys=class{map=new Map;put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Zu,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eg(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Xu=class{supports(e){return e instanceof Map||qs(e)}create(){return new Ku}},Ku=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||qs(e)))throw new R(900,!1);return this.check(e)?this:null}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new Ju(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},Ju=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function tg(){return new ed([new Qu])}var ed=(()=>{class t{factories;static \u0275prov=j({token:t,providedIn:"root",factory:tg});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let i=x(t,{optional:!0,skipSelf:!0});return t.create(n,i||tg())}}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new R(901,!1)}}return t})();function ng(){return new td([new Xu])}var td=(()=>{class t{static \u0275prov=j({token:t,providedIn:"root",factory:ng});factories;constructor(n){this.factories=n}static create(n,i){if(i){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let i=x(t,{optional:!0,skipSelf:!0});return t.create(n,i||ng())}}}find(n){let i=this.factories.find(r=>r.supports(n));if(i)return i;throw new R(901,!1)}}return t})();function og(t){let{rootComponent:e,appProviders:n,platformProviders:i,platformRef:r}=t;se(re.BootstrapApplicationStart);try{let o=r?.injector??WC(i),s=[qu(),hp,...n||[]],a=new Or({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return zC({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{se(re.BootstrapApplicationEnd)}}function sg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var ag=null;function gt(){return ag}function nd(t){ag??=t}var Ur=class{},Xs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:()=>x(lg),providedIn:"platform"})}return t})();var lg=(()=>{class t extends Xs{_location;_history;_doc=x(ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gt().getBaseHref(this._doc)}onPopState(n){let i=gt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=gt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}return t})();var ld=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(ld||{});var He=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(He||{}),le=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(le||{}),Ke=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Ke||{}),Je={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function pg(t){return Xe(t)[ge.LocaleId]}function mg(t,e,n){let i=Xe(t),r=[i[ge.DayPeriodsFormat],i[ge.DayPeriodsStandalone]],o=vt(r,e);return vt(o,n)}function hg(t,e,n){let i=Xe(t),r=[i[ge.DaysFormat],i[ge.DaysStandalone]],o=vt(r,e);return vt(o,n)}function gg(t,e,n){let i=Xe(t),r=[i[ge.MonthsFormat],i[ge.MonthsStandalone]],o=vt(r,e);return vt(o,n)}function vg(t,e){let i=Xe(t)[ge.Eras];return vt(i,e)}function zr(t,e){let n=Xe(t);return vt(n[ge.DateFormat],e)}function qr(t,e){let n=Xe(t);return vt(n[ge.TimeFormat],e)}function Gr(t,e){let i=Xe(t)[ge.DateTimeFormat];return vt(i,e)}function Ht(t,e){let n=Xe(t),i=n[ge.NumberSymbols][e];if(typeof i>"u"){if(e===Je.CurrencyDecimal)return n[ge.NumberSymbols][Je.Decimal];if(e===Je.CurrencyGroup)return n[ge.NumberSymbols][Je.Group]}return i}function yg(t,e){return Xe(t)[ge.NumberFormats][e]}function bg(t){if(!t[ge.ExtraData])throw new R(2303,!1)}function _g(t){let e=Xe(t);return bg(e),(e[ge.ExtraData][2]||[]).map(i=>typeof i=="string"?id(i):[id(i[0]),id(i[1])])}function Cg(t,e,n){let i=Xe(t);bg(i);let r=[i[ge.ExtraData][0],i[ge.ExtraData][1]],o=vt(r,e)||[];return vt(o,n)||[]}function vt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new R(2304,!1)}function id(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var ex=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ks={},tx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function xg(t,e,n,i){let r=ux(t);e=un(n,e)||e;let s=[],a;for(;e;)if(a=tx.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=Dg(i,l),r=cx(r,i));let c="";return s.forEach(d=>{let g=ax(d);c+=g?g(r,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ia(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function un(t,e){let n=pg(t);if(Ks[n]??={},Ks[n][e])return Ks[n][e];let i="";switch(e){case"shortDate":i=zr(t,Ke.Short);break;case"mediumDate":i=zr(t,Ke.Medium);break;case"longDate":i=zr(t,Ke.Long);break;case"fullDate":i=zr(t,Ke.Full);break;case"shortTime":i=qr(t,Ke.Short);break;case"mediumTime":i=qr(t,Ke.Medium);break;case"longTime":i=qr(t,Ke.Long);break;case"fullTime":i=qr(t,Ke.Full);break;case"short":let r=un(t,"shortTime"),o=un(t,"shortDate");i=Js(Gr(t,Ke.Short),[r,o]);break;case"medium":let s=un(t,"mediumTime"),a=un(t,"mediumDate");i=Js(Gr(t,Ke.Medium),[s,a]);break;case"long":let l=un(t,"longTime"),c=un(t,"longDate");i=Js(Gr(t,Ke.Long),[l,c]);break;case"full":let d=un(t,"fullTime"),g=un(t,"fullDate");i=Js(Gr(t,Ke.Full),[d,g]);break}return i&&(Ks[n][e]=i),i}function Js(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function At(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function nx(t,e){return At(t,3).substring(0,e)}function Ce(t,e,n=0,i=!1,r=!1){return function(o,s){let a=ix(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return nx(a,e);let l=Ht(s,Je.MinusSign);return At(a,e,l,i,r)}}function ix(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new R(2301,!1)}}function ue(t,e,n=He.Format,i=!1){return function(r,o){return rx(r,o,t,e,n,i)}}function rx(t,e,n,i,r,o){switch(n){case 2:return gg(e,r,i)[t.getMonth()];case 1:return hg(e,r,i)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=_g(e),d=Cg(e,r,i),g=c.findIndex(_=>{if(Array.isArray(_)){let[y,E]=_,k=s>=y.hours&&a>=y.minutes,L=s<E.hours||s===E.hours&&a<E.minutes;if(y.hours<E.hours){if(k&&L)return!0}else if(k||L)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(g!==-1)return d[g]}return mg(e,r,i)[s<12?0:1];case 3:return vg(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new R(2302,!1)}}function ea(t){return function(e,n,i){let r=-1*i,o=Ht(n,Je.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+At(s,2,o)+At(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+At(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+At(s,2,o)+":"+At(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+At(s,2,o)+":"+At(Math.abs(r%60),2,o);default:throw new R(2310,!1)}}}var ox=0,na=4;function sx(t){let e=ia(t,ox,1).getDay();return ia(t,0,1+(e<=na?na:na+7)-e)}function Eg(t){let e=t.getDay(),n=e===0?-3:na-e;return ia(t.getFullYear(),t.getMonth(),t.getDate()+n)}function rd(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=Eg(n),s=sx(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return At(r,t,Ht(i,Je.MinusSign))}}function ta(t,e=!1){return function(n,i){let o=Eg(n).getFullYear();return At(o,t,Ht(i,Je.MinusSign),e)}}var od={};function ax(t){if(od[t])return od[t];let e;switch(t){case"G":case"GG":case"GGG":e=ue(3,le.Abbreviated);break;case"GGGG":e=ue(3,le.Wide);break;case"GGGGG":e=ue(3,le.Narrow);break;case"y":e=Ce(0,1,0,!1,!0);break;case"yy":e=Ce(0,2,0,!0,!0);break;case"yyy":e=Ce(0,3,0,!1,!0);break;case"yyyy":e=Ce(0,4,0,!1,!0);break;case"Y":e=ta(1);break;case"YY":e=ta(2,!0);break;case"YYY":e=ta(3);break;case"YYYY":e=ta(4);break;case"M":case"L":e=Ce(1,1,1);break;case"MM":case"LL":e=Ce(1,2,1);break;case"MMM":e=ue(2,le.Abbreviated);break;case"MMMM":e=ue(2,le.Wide);break;case"MMMMM":e=ue(2,le.Narrow);break;case"LLL":e=ue(2,le.Abbreviated,He.Standalone);break;case"LLLL":e=ue(2,le.Wide,He.Standalone);break;case"LLLLL":e=ue(2,le.Narrow,He.Standalone);break;case"w":e=rd(1);break;case"ww":e=rd(2);break;case"W":e=rd(1,!0);break;case"d":e=Ce(2,1);break;case"dd":e=Ce(2,2);break;case"c":case"cc":e=Ce(7,1);break;case"ccc":e=ue(1,le.Abbreviated,He.Standalone);break;case"cccc":e=ue(1,le.Wide,He.Standalone);break;case"ccccc":e=ue(1,le.Narrow,He.Standalone);break;case"cccccc":e=ue(1,le.Short,He.Standalone);break;case"E":case"EE":case"EEE":e=ue(1,le.Abbreviated);break;case"EEEE":e=ue(1,le.Wide);break;case"EEEEE":e=ue(1,le.Narrow);break;case"EEEEEE":e=ue(1,le.Short);break;case"a":case"aa":case"aaa":e=ue(0,le.Abbreviated);break;case"aaaa":e=ue(0,le.Wide);break;case"aaaaa":e=ue(0,le.Narrow);break;case"b":case"bb":case"bbb":e=ue(0,le.Abbreviated,He.Standalone,!0);break;case"bbbb":e=ue(0,le.Wide,He.Standalone,!0);break;case"bbbbb":e=ue(0,le.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":e=ue(0,le.Abbreviated,He.Format,!0);break;case"BBBB":e=ue(0,le.Wide,He.Format,!0);break;case"BBBBB":e=ue(0,le.Narrow,He.Format,!0);break;case"h":e=Ce(3,1,-12);break;case"hh":e=Ce(3,2,-12);break;case"H":e=Ce(3,1);break;case"HH":e=Ce(3,2);break;case"m":e=Ce(4,1);break;case"mm":e=Ce(4,2);break;case"s":e=Ce(5,1);break;case"ss":e=Ce(5,2);break;case"S":e=Ce(6,1);break;case"SS":e=Ce(6,2);break;case"SSS":e=Ce(6,3);break;case"Z":case"ZZ":case"ZZZ":e=ea(0);break;case"ZZZZZ":e=ea(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ea(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=ea(2);break;default:return null}return od[t]=e,e}function Dg(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function lx(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function cx(t,e,n){let r=t.getTimezoneOffset(),o=Dg(e,r);return lx(t,-1*(o-r))}function ux(t){if(cg(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return ia(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(ex))return dx(i)}let e=new Date(t);if(!cg(e))throw new R(2311,!1);return e}function dx(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function cg(t){return t instanceof Date&&!isNaN(t.valueOf())}var fx=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ug=22,ra=".",Qr="0",px=";",mx=",",sd="#";function hx(t,e,n,i,r,o,s=!1){let a="",l=!1;if(!isFinite(t))a=Ht(n,Je.Infinity);else{let c=yx(t);s&&(c=vx(c));let d=e.minInt,g=e.minFrac,_=e.maxFrac;if(o){let pe=o.match(fx);if(pe===null)throw new R(2306,!1);let et=pe[1],he=pe[3],fn=pe[5];et!=null&&(d=ad(et)),he!=null&&(g=ad(he)),fn!=null?_=ad(fn):he!=null&&g>_&&(_=g)}bx(c,g,_);let y=c.digits,E=c.integerLen,k=c.exponent,L=[];for(l=y.every(pe=>!pe);E<d;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?L=y.splice(E,y.length):(L=y,y=[0]);let F=[];for(y.length>=e.lgSize&&F.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)F.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&F.unshift(y.join("")),a=F.join(Ht(n,i)),L.length&&(a+=Ht(n,r)+L.join("")),k&&(a+=Ht(n,Je.Exponential)+"+"+k)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function wg(t,e,n){let i=yg(e,ld.Decimal),r=gx(i,Ht(e,Je.MinusSign));return hx(t,r,e,Je.Group,Je.Decimal,n)}function gx(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(px),r=i[0],o=i[1],s=r.indexOf(ra)!==-1?r.split(ra):[r.substring(0,r.lastIndexOf(Qr)+1),r.substring(r.lastIndexOf(Qr)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(sd));for(let d=0;d<l.length;d++){let g=l.charAt(d);g===Qr?n.minFrac=n.maxFrac=d+1:g===sd?n.maxFrac=d+1:n.posSuf+=g}let c=a.split(mx);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-n.posPre.length-n.posSuf.length,g=o.indexOf(sd);n.negPre=o.substring(0,g).replace(/'/g,""),n.negSuf=o.slice(g+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function vx(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function yx(t){let e=Math.abs(t)+"",n=0,i,r,o,s,a;for((r=e.indexOf(ra))>-1&&(e=e.replace(ra,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===Qr;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===Qr;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>ug&&(i=i.splice(0,ug-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function bx(t,e,n){if(e>n)throw new R(2307,!1);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(e,r),n),s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let g=s;g<i.length;g++)i[g]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let g=1;g<s;g++)i[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=e+t.integerLen,d=i.reduceRight(function(g,_,y,E){return _=_+g,E[y]=_<10?_:_-10,l&&(E[y]===0&&y>=c?E.pop():l=!1),_>=10?1:0},0);d&&(i.unshift(d),t.integerLen++)}function ad(t){let e=parseInt(t);if(isNaN(e))throw new R(2305,!1);return e}var oa=class{$implicit;ngForOf;index;count;constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},aa=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new oa(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),dg(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);dg(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(K(Br),K(Vr),K(ed))};static \u0275dir=Ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function dg(t,e){t.context.$implicit=e.item}var cd=(()=>{class t{_viewContainer;_context=new sa;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fg(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fg(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(K(Br),K(Vr))};static \u0275dir=Ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),sa=class{$implicit=null;ngIf=null};function fg(t,e){if(t&&!t.createEmbeddedView)throw new R(2020,!1)}var ud=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[r,o]=n.split("."),s=r.indexOf("-")===-1?void 0:St.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||t)(K(Kt),K(td),K(wn))};static \u0275dir=Ge({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();function Ig(t,e){return new R(2100,!1)}var _x="mediumDate",Sg=new U(""),Mg=new U(""),dd=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??_x,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return xg(n,s,o||this.locale,a)}catch(s){throw Ig(t,s.message)}}static \u0275fac=function(i){return new(i||t)(K($i,16),K(Sg,24),K(Mg,24))};static \u0275pipe=ji({name:"date",type:t,pure:!0})}return t})();var Wr=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,i,r){if(!Cx(n))return null;r||=this._locale;try{let o=xx(n);return wg(o,r,i)}catch(o){throw Ig(t,o.message)}}static \u0275fac=function(i){return new(i||t)(K($i,16))};static \u0275pipe=ji({name:"number",type:t,pure:!0})}return t})();function Cx(t){return!(t==null||t===""||t!==t)}function xx(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new R(2309,!1);return t}var ne=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=on({type:t});static \u0275inj=kt({})}return t})();function Yr(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var ai=class{};var Tg="browser";var Zr=class{_doc;constructor(e){this._doc=e}manager},la=(()=>{class t extends Zr{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(W(ke))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),da=new U(""),gd=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof la));this._plugins=r.slice().reverse();let o=n.find(s=>s instanceof la);o&&this._plugins.push(o)}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new R(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(W(da),W(Ye))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),pd="ng-app-id";function Ag(t){for(let e of t)e.remove()}function Ng(t,e){let n=e.createElement("style");return n.textContent=t,n}function Ex(t,e,n,i){let r=t.head?.querySelectorAll(`style[${pd}="${e}"],link[${pd}="${e}"]`);if(r)for(let o of r)o.removeAttribute(pd),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function hd(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var vd=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,Ex(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,Ng);i?.forEach(r=>this.addUsage(r,this.external,hd))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(Ag(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ag(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,Ng(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,hd(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(W(ke),W(Ns),W(ks,8),W(Fr))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),md={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yd=/%COMP%/g;var kg="%COMP%",Dx=`_nghost-${kg}`,wx=`_ngcontent-${kg}`,Ix=!0,Sx=new U("",{factory:()=>Ix});function Mx(t){return wx.replace(yd,t)}function Tx(t){return Dx.replace(yd,t)}function Rg(t,e){return e.map(n=>n.replace(yd,t))}var bd=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,i,r,o,s,a,l=null,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.defaultRenderer=new Xr(n,s,a,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof ua?r.applyToHost(n):r instanceof Kr&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.tracingService;switch(i.encapsulation){case It.Emulated:o=new ua(l,c,i,this.appId,d,s,a,g);break;case It.ShadowDom:return new ca(l,n,i,s,a,this.nonce,g,c);case It.ExperimentalIsolatedShadowDom:return new ca(l,n,i,s,a,this.nonce,g);default:o=new Kr(l,c,i,d,s,a,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||t)(W(gd),W(vd),W(Ns),W(Sx),W(ke),W(Ye),W(ks),W(nn,8))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Xr=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(md[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Og(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Og(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new R(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=md[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=md[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(St.DashCase|St.Important)?e.style.setProperty(n,i,r&St.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&St.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i,r){if(typeof e=="string"&&(e=gt().getGlobalEventTarget(this.doc,e),!e))throw new R(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Og(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ca=class extends Xr{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,i,r,o,s,a,l){super(e,r,o,a),this.hostEl=n,this.sharedStylesHost=l,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=Rg(i.id,c);for(let g of c){let _=document.createElement("style");s&&_.setAttribute("nonce",s),_.textContent=g,this.shadowRoot.appendChild(_)}let d=i.getExternalStyles?.();if(d)for(let g of d){let _=hd(g,r);s&&_.setAttribute("nonce",s),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Kr=class extends Xr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let c=i.styles;this.styles=l?Rg(l,c):c,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ni.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ua=class extends Kr{contentAttr;hostAttr;constructor(e,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(e,n,i,o,s,a,l,c),this.contentAttr=Mx(c),this.hostAttr=Tx(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}};var fa=class t extends Ur{supportsDOMEvents=!0;static makeCurrent(){nd(new t)}onAndCancel(e,n,i,r){return e.addEventListener(n,i,r),()=>{e.removeEventListener(n,i,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Ax();return n==null?null:Nx(n)}resetBaseElement(){Jr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yr(document.cookie,e)}},Jr=null;function Ax(){return Jr=Jr||document.head.querySelector("base"),Jr?Jr.getAttribute("href"):null}function Nx(t){return new URL(t,document.baseURI).pathname}var Ox=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})(),Pg=["alt","control","meta","shift"],kx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Fg=(()=>{class t extends Zr{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gt().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Pg.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=kx[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Pg.forEach(s=>{if(s!==r){let a=Rx[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(W(ke))};static \u0275prov=j({token:t,factory:t.\u0275fac})}return t})();async function _d(t,e,n){let i=O({rootComponent:t},Px(e,n));return og(i)}function Px(t,e){return{platformRef:e?.platformRef,appProviders:[...Bx,...t?.providers??[]],platformProviders:Vx}}function Fx(){fa.makeCurrent()}function Lx(){return new lt}function jx(){return uu(document),document}var Vx=[{provide:Fr,useValue:Tg},{provide:Os,useValue:Fx,multi:!0},{provide:ke,useFactory:jx}];var Bx=[{provide:fr,useValue:"root"},{provide:lt,useFactory:Lx},{provide:da,useClass:la,multi:!0},{provide:da,useClass:Fg,multi:!0},bd,vd,gd,{provide:ii,useExisting:bd},{provide:ai,useClass:Ox},[]];var Sn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ma=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},ha=class{encodeKey(e){return Lg(e)}encodeValue(e){return Lg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Hx(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var $x=/%(\d[a-f0-9])/gi,Ux={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lg(t){return encodeURIComponent(t).replace($x,(e,n)=>Ux[n]??e)}function pa(t){return`${t}`}var dn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ha,e.fromString){if(e.fromObject)throw new R(2805,!1);this.map=Hx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(pa):[pa(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(pa(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(pa(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function zx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jg(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Vg(t){return typeof Blob<"u"&&t instanceof Blob}function Bg(t){return typeof FormData<"u"&&t instanceof FormData}function qx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Hg="Content-Type",$g="Accept",Ug="text/plain",zg="application/json",Gx=`${zg}, ${Ug}, */*`,Ui=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,i,r){this.url=n,this.method=e.toUpperCase();let o;if(zx(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new R(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Sn,this.context??=new ma,!this.params)this.params=new dn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jg(this.body)||Vg(this.body)||Bg(this.body)||qx(this.body)?this.body:this.body instanceof dn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bg(this.body)?null:Vg(this.body)?this.body.type||null:jg(this.body)?null:typeof this.body=="string"?Ug:this.body instanceof dn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zg:null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,g=e.referrer||this.referrer,_=e.integrity||this.integrity,y=e.referrerPolicy||this.referrerPolicy,E=e.transferCache??this.transferCache,k=e.timeout??this.timeout,L=e.body!==void 0?e.body:this.body,F=e.withCredentials??this.withCredentials,pe=e.reportProgress??this.reportProgress,et=e.headers||this.headers,he=e.params||this.params,fn=e.context??this.context;return e.setHeaders!==void 0&&(et=Object.keys(e.setHeaders).reduce((Ji,On)=>Ji.set(On,e.setHeaders[On]),et)),e.setParams&&(he=Object.keys(e.setParams).reduce((Ji,On)=>Ji.set(On,e.setParams[On]),he)),new t(n,i,L,{params:he,headers:et,context:fn,reportProgress:pe,responseType:r,withCredentials:F,transferCache:E,keepalive:o,cache:a,priority:s,timeout:k,mode:l,redirect:c,credentials:d,referrer:g,integrity:_,referrerPolicy:y})}},li=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(li||{}),qi=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,i="OK"){this.headers=e.headers||new Sn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},ga=class t extends qi{constructor(e={}){super(e)}type=li.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},eo=class t extends qi{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=li.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},zi=class extends qi{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Qx=200,Wx=204;var Yx=new U("");var Zx=/^\)\]\}',?\n/;var xd=(()=>{class t{xhrFactory;tracingService=x(nn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new R(-2800,!1);let i=this.xhrFactory;return st(null).pipe(at(()=>new me(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((L,F)=>s.setRequestHeader(L,F.join(","))),n.headers.has($g)||s.setRequestHeader($g,Gx),!n.headers.has(Hg)){let L=n.detectContentTypeHeader();L!==null&&s.setRequestHeader(Hg,L)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let L=n.responseType.toLowerCase();s.responseType=L!=="json"?L:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let L=s.statusText||"OK",F=new Sn(s.getAllResponseHeaders()),pe=s.responseURL||n.url;return l=new ga({headers:F,status:s.status,statusText:L,url:pe}),l},d=this.maybePropagateTrace(()=>{let{headers:L,status:F,statusText:pe,url:et}=c(),he=null;F!==Wx&&(he=typeof s.response>"u"?s.responseText:s.response),F===0&&(F=he?Qx:0);let fn=F>=200&&F<300;if(n.responseType==="json"&&typeof he=="string"){let Ji=he;he=he.replace(Zx,"");try{he=he!==""?JSON.parse(he):null}catch(On){he=Ji,fn&&(fn=!1,he={error:On,text:he})}}fn?(o.next(new eo({body:he,headers:L,status:F,statusText:pe,url:et||void 0})),o.complete()):o.error(new zi({error:he,headers:L,status:F,statusText:pe,url:et||void 0}))}),g=this.maybePropagateTrace(L=>{let{url:F}=c(),pe=new zi({error:L,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(pe)}),_=g;n.timeout&&(_=this.maybePropagateTrace(L=>{let{url:F}=c(),pe=new zi({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:F||void 0});o.error(pe)}));let y=!1,E=this.maybePropagateTrace(L=>{y||(o.next(c()),y=!0);let F={type:li.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(F.total=L.total),n.responseType==="text"&&s.responseText&&(F.partialText=s.responseText),o.next(F)}),k=this.maybePropagateTrace(L=>{let F={type:li.UploadProgress,loaded:L.loaded};L.lengthComputable&&(F.total=L.total),o.next(F)});return s.addEventListener("load",d),s.addEventListener("error",g),s.addEventListener("timeout",_),s.addEventListener("abort",g),n.reportProgress&&(s.addEventListener("progress",E),a!==null&&s.upload&&s.upload.addEventListener("progress",k)),s.send(a),o.next({type:li.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",d),s.removeEventListener("timeout",_),n.reportProgress&&(s.removeEventListener("progress",E),a!==null&&s.upload&&s.upload.removeEventListener("progress",k)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||t)(W(ai))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xx(t,e){return e(t)}function Kx(t,e,n){return(i,r)=>wi(n,()=>e(i,o=>t(o,r)))}var qg=new U("",{factory:()=>[]}),Gg=new U(""),Qg=new U("",{factory:()=>!0});var Ed=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=W(xd),r},providedIn:"root"})}return t})();var va=(()=>{class t{backend;injector;chain=null;pendingTasks=x(Er);contributeToStability=x(Qg);constructor(n,i){this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(qg),...this.injector.get(Gg,[])]));this.chain=i.reduceRight((r,o)=>Kx(r,o,this.injector),Xx)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(_l(i))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(W(Ed),W(ze))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dd=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=W(va),r},providedIn:"root"})}return t})();function Cd(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var $t=(()=>{class t{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof Ui)o=n;else{let l;r.headers instanceof Sn?l=r.headers:l=new Sn(r.headers);let c;r.params&&(r.params instanceof dn?c=r.params:c=new dn({fromObject:r.params})),o=new Ui(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=st(o).pipe(bl(l=>this.handler.handle(l)));if(n instanceof Ui||r.observe==="events")return s;let a=s.pipe(yl(l=>l instanceof eo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(We(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new R(2806,!1);return l.body}));case"blob":return a.pipe(We(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new R(2807,!1);return l.body}));case"text":return a.pipe(We(l=>{if(l.body!==null&&typeof l.body!="string")throw new R(2808,!1);return l.body}));default:return a.pipe(We(l=>l.body))}case"response":return a;default:throw new R(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new dn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,Cd(r,i))}post(n,i,r={}){return this.request("POST",n,Cd(r,i))}put(n,i,r={}){return this.request("PUT",n,Cd(r,i))}static \u0275fac=function(i){return new(i||t)(W(Dd))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jx=new U("",{factory:()=>!0}),eE="XSRF-TOKEN",tE=new U("",{factory:()=>eE}),nE="X-XSRF-TOKEN",iE=new U("",{factory:()=>nE}),rE=(()=>{class t{cookieName=x(tE);doc=x(ke);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yr(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wg=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=W(rE),r},providedIn:"root"})}return t})();function oE(t,e){if(!x(Jx)||t.method==="GET"||t.method==="HEAD")return e(t);try{let r=x(Xs).href,{origin:o}=new URL(r),{origin:s}=new URL(t.url,o);if(o!==s)return e(t)}catch{return e(t)}let n=x(Wg).getToken(),i=x(iE);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}function wd(...t){let e=[$t,va,{provide:Dd,useExisting:va},{provide:Ed,useFactory:()=>x(Yx,{optional:!0})??x(xd)},{provide:qg,useValue:oE,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return Di(e)}var Id=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=j({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=W(sE),r},providedIn:"root"})}return t})(),sE=(()=>{class t extends Id{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Tt.NONE:return i;case Tt.HTML:return Jt(i,"HTML")?ht(i):Ps(this._doc,String(i)).toString();case Tt.STYLE:return Jt(i,"Style")?ht(i):i;case Tt.SCRIPT:if(Jt(i,"Script"))return ht(i);throw new R(5200,!1);case Tt.URL:return Jt(i,"URL")?ht(i):Lr(String(i));case Tt.RESOURCE_URL:if(Jt(i,"ResourceURL"))return ht(i);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(n){return fu(n)}bypassSecurityTrustStyle(n){return pu(n)}bypassSecurityTrustScript(n){return mu(n)}bypassSecurityTrustUrl(n){return hu(n)}bypassSecurityTrustResourceUrl(n){return gu(n)}static \u0275fac=function(i){return new(i||t)(W(ke))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ya=class t{constructor(){this.http=x($t);this.availableFiles=[{name:"Quest\xF5es-Simulado.json",displayName:"Simulado",path:"/questions/Quest\xF5es-Simulado.json",loaded:!1,questionCount:0}];this.questionCache=new Map;this.isLoading=C(!1);this.loadingProgress=C(0)}async loadQuestionsFromFile(e){if(this.questionCache.has(e))return console.log(`Using cached questions for ${e}`),this.questionCache.get(e);this.isLoading.set(!0);try{let n=this.availableFiles.find(s=>s.name===e);if(!n)throw new Error(`File ${e} not found`);console.log(`Loading questions from ${n.path}...`);let i=await Me(this.http.get(n.path,{responseType:"text"})),o=JSON.parse(i).map(s=>this.convertQuestion(s));return n.loaded=!0,n.questionCount=o.length,this.questionCache.set(e,o),console.log(`\u2713 Loaded ${o.length} questions from ${e}`),o}catch(n){return console.error(`\u2717 Error loading questions from ${e}:`,n),[]}finally{this.isLoading.set(!1)}}async loadQuestionsFromFiles(e){this.isLoading.set(!0),this.loadingProgress.set(0);let n=[];for(let i=0;i<e.length;i++)try{let r=await this.loadQuestionsFromFile(e[i]);n.push(...r),this.loadingProgress.set(Math.round((i+1)/e.length*100))}catch(r){console.error(`Failed to load ${e[i]}:`,r)}return this.isLoading.set(!1),this.loadingProgress.set(0),console.log(`
\u{1F4CA} TOTAL: ${n.length} questions loaded from ${e.length} files
`),n}async loadAllQuestions(){console.log("\u{1F504} Loading all question files...");let e=this.availableFiles.map(n=>n.name);return this.loadQuestionsFromFiles(e)}convertQuestion(e){let i={F\u00E1cil:"F\xE1cil",Facil:"F\xE1cil",M\u00E9dia:"M\xE9dio",Media:"M\xE9dio",M\u00E9dio:"M\xE9dio",Medio:"M\xE9dio",Dif\u00EDcil:"Dif\xEDcil",Dificil:"Dif\xEDcil"}[e.dificuldade]||"M\xE9dio",r=e.alternativas.findIndex(l=>l.trim().toLowerCase()===e.correta.trim().toLowerCase()),o=r!==-1?r:e.alternativas.findIndex(l=>l.toLowerCase().includes(e.correta.toLowerCase())||e.correta.toLowerCase().includes(l.toLowerCase())),s=e.imagem;return!s&&e.image_id&&(e.image_id.includes(".")?s=`/images/${e.image_id}`:s=`/images/${e.image_id}.png`),{id:e.id!==void 0?e.id:Math.floor(Math.random()*1e6),subject:e.materia,text:e.enunciado,options:e.alternativas,correctIndex:o!==-1?o:0,explanation:e.explicacao_base,difficulty:i,imageUrl:s,supportText:e.texto_referencia,groupId:e.grupo_id,theme:e.tema}}getStatistics(){let e=Array.from(this.questionCache.values()).reduce((i,r)=>i+r.length,0),n=this.availableFiles.filter(i=>i.loaded).length;return{totalQuestions:e,loadedFiles:n,totalFiles:this.availableFiles.length,cacheSize:this.questionCache.size}}clearCache(){this.questionCache.clear(),this.availableFiles.forEach(e=>{e.loaded=!1,e.questionCount=0})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var yt=class t{constructor(){this.API_BASE="/api/user/davi";this.isLoading=C(!1);this.syncStatus=C("synced");this.lastSaved=C(null);this.userData=C(null);this.profileUpdate$=new Se;this.historyUpdate$=new Se;this.interpretationUpdate$=new Se;this.resolutionsUpdate$=new Se;this.scheduleUpdate$=new Se;this.gamificationUpdate$=new Se;this.lessonsUpdate$=new Se;this.setupDebouncedSaves()}setupDebouncedSaves(){this.profileUpdate$.pipe(qt(1e3),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stats:e})}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving profile:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.historyUpdate$.pipe(qt(1500),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/history`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving history:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.interpretationUpdate$.pipe(qt(1500),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/interpretation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving interpretation history:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.resolutionsUpdate$.pipe(qt(1500),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/resolutions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving resolutions history:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.scheduleUpdate$.pipe(qt(1e3),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/schedule`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving schedule:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.gamificationUpdate$.pipe(qt(2e3),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/gamification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving gamification:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)}),this.lessonsUpdate$.pipe(qt(2e3),at(e=>(this.syncStatus.set("saving"),fetch(`${this.API_BASE}/lessons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()))),Nt(e=>(console.error("\u274C Error saving lessons history:",e),this.syncStatus.set("error"),st(null)))).subscribe(()=>{this.syncStatus.set("synced"),this.lastSaved.set(new Date)})}async loadUserData(){this.isLoading.set(!0);try{let e=await fetch(`${this.API_BASE}/full`);if(!e.ok)throw new Error("Server unreachable");let n=await e.json();return this.userData.set(n),console.log("\u2705 User data loaded from User DB"),n}catch(e){console.error("\u274C Error loading data:",e);let n=this.createDefaultData();return this.userData.set(n),this.syncStatus.set("error"),n}finally{this.isLoading.set(!1)}}saveUserProfile(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{stats:e})})),this.profileUpdate$.next(e)}saveUserHistory(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{questionHistory:e})})),this.historyUpdate$.next(e)}saveUserSchedule(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{schedule:e})})),this.scheduleUpdate$.next(e)}saveUserInterpretationHistory(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{interpretationHistory:e})})),this.interpretationUpdate$.next(e)}saveUserResolutionsHistory(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{resolutionsHistory:e})})),this.resolutionsUpdate$.next(e)}saveGamificationData(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{gamification:e})})),this.gamificationUpdate$.next(e)}saveUserLessonsHistory(e){this.userData.update(n=>n&&P(O({},n),{user:P(O({},n.user),{lessonsHistory:e})})),this.lessonsUpdate$.next(e)}getUserData(){return this.userData()}createDefaultData(){return{version:"4.0.0",lastUpdated:new Date().toISOString(),user:{stats:{questionsAnswered:0,correctAnswers:0,currentStreak:0,xp:0,level:1,essaysWritten:0},questionHistory:[],interpretationHistory:[],resolutionsHistory:[],schedule:[],gamification:{achievements:[],challenges:[],completedSessions:[],consecutiveCorrect:0,subjectStats:[]},lessonsHistory:[]}}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Gi=class t{constructor(){this.ALL_ACHIEVEMENTS=[{id:"first_victory",name:"Primeira Vit\xF3ria",description:"Acerte sua primeira quest\xE3o",icon:"\u{1F3C6}",condition:{type:"questions_answered",target:1},reward:{xp:50}},{id:"dedicated_student",name:"Estudante Dedicado",description:"Responda 100 quest\xF5es",icon:"\u{1F4DA}",condition:{type:"questions_answered",target:100},reward:{xp:200}},{id:"question_master",name:"Mestre das Quest\xF5es",description:"Responda 500 quest\xF5es",icon:"\u{1F393}",condition:{type:"questions_answered",target:500},reward:{xp:500}},{id:"legend",name:"Lenda",description:"Responda 1000 quest\xF5es",icon:"\u{1F31F}",condition:{type:"questions_answered",target:1e3},reward:{xp:1e3}},{id:"flame_beginner",name:"Chama Iniciante",description:"Mantenha streak por 3 dias",icon:"\u{1F525}",condition:{type:"streak",target:3},reward:{xp:100}},{id:"flame_lit",name:"Chama Acesa",description:"Mantenha streak por 7 dias",icon:"\u{1F525}",condition:{type:"streak",target:7},reward:{xp:300}},{id:"lightning",name:"Rel\xE2mpago",description:"Mantenha streak por 14 dias",icon:"\u26A1",condition:{type:"streak",target:14},reward:{xp:500}},{id:"unstoppable",name:"Impar\xE1vel",description:"Mantenha streak por 30 dias",icon:"\u{1F4AA}",condition:{type:"streak",target:30},reward:{xp:1e3}},{id:"perfectionist",name:"Perfeccionista",description:"100% de acerto em 10 quest\xF5es consecutivas",icon:"\u{1F4AF}",condition:{type:"perfect_run",target:10},reward:{xp:200}},{id:"infallible",name:"Infal\xEDvel",description:"100% de acerto em 20 quest\xF5es consecutivas",icon:"\u{1F3AF}",condition:{type:"perfect_run",target:20},reward:{xp:500}},{id:"math_expert",name:"Expert em Matem\xE1tica",description:"90%+ de acerto em 50 quest\xF5es de Matem\xE1tica",icon:"\u{1F4D0}",condition:{type:"subject_mastery",target:50,subject:"Matem\xE1tica"},reward:{xp:300}},{id:"portuguese_master",name:"Mestre em Portugu\xEAs",description:"90%+ de acerto em 50 quest\xF5es de Portugu\xEAs",icon:"\u{1F4D6}",condition:{type:"subject_mastery",target:50,subject:"Portugu\xEAs"},reward:{xp:300}},{id:"scientist",name:"Cientista",description:"90%+ de acerto em 50 quest\xF5es de Ci\xEAncias",icon:"\u{1F9EA}",condition:{type:"subject_mastery",target:50,subject:"Ci\xEAncias"},reward:{xp:300}},{id:"historian",name:"Historiador",description:"90%+ de acerto em 50 quest\xF5es de Hist\xF3ria",icon:"\u{1F30D}",condition:{type:"subject_mastery",target:50,subject:"Hist\xF3ria"},reward:{xp:300}},{id:"geographer",name:"Ge\xF3grafo",description:"90%+ de acerto em 50 quest\xF5es de Geografia",icon:"\u{1F5FA}\uFE0F",condition:{type:"subject_mastery",target:50,subject:"Geografia"},reward:{xp:300}},{id:"level_10",name:"N\xEDvel 10",description:"Alcance o n\xEDvel 10",icon:"\u2B50",condition:{type:"level",target:10},reward:{xp:100,unlockTheme:"dark_premium"}},{id:"level_25",name:"N\xEDvel 25",description:"Alcance o n\xEDvel 25",icon:"\u2B50\u2B50",condition:{type:"level",target:25},reward:{xp:250,unlockTheme:"etec_blue"}},{id:"etec_master",name:"Mestre ETEC",description:"Alcance o n\xEDvel 50",icon:"\u2B50\u2B50\u2B50",condition:{type:"level",target:50},reward:{xp:500,unlockTheme:"unicorn"}}];this.unlockedAchievements=C([]);this.newlyUnlocked=C([]);console.log(`\u{1F3C6} AchievementsService: ${this.ALL_ACHIEVEMENTS.length} conquistas dispon\xEDveis`)}getAllAchievements(){return[...this.ALL_ACHIEVEMENTS]}getAchievementById(e){return this.ALL_ACHIEVEMENTS.find(n=>n.id===e)}isUnlocked(e){return this.unlockedAchievements().some(n=>n.achievementId===e)}unlockAchievement(e){if(this.isUnlocked(e.id))return;let n={achievementId:e.id,unlockedAt:Date.now(),seen:!1};this.unlockedAchievements.update(i=>[...i,n]),this.newlyUnlocked.update(i=>[...i,e]),console.log(`\u{1F389} Conquista desbloqueada: ${e.name} (+${e.reward?.xp||0} XP)`)}markAsSeen(e){this.unlockedAchievements.update(n=>n.map(i=>i.achievementId===e?P(O({},i),{seen:!0}):i))}clearNewlyUnlocked(){this.newlyUnlocked.set([])}checkAchievements(e){let n=[];for(let i of this.ALL_ACHIEVEMENTS)this.isUnlocked(i.id)||this.checkCondition(i.condition,e)&&(this.unlockAchievement(i),n.push(i));return n}checkCondition(e,n){switch(e.type){case"questions_answered":return n.questionsAnswered>=e.target;case"streak":return n.currentStreak>=e.target;case"level":return n.level>=e.target;case"perfect_run":return(n.consecutiveCorrect||0)>=e.target;case"subject_mastery":if(!e.subject||!n.subjectStats)return!1;let i=n.subjectStats.find(o=>o.subject===e.subject);if(!i)return!1;let r=i.answered>0?i.correct/i.answered*100:0;return i.answered>=e.target&&r>=90;default:return!1}}loadUnlockedAchievements(e){this.unlockedAchievements.set(e)}getTotalAchievementXP(){return this.unlockedAchievements().reduce((e,n)=>{let i=this.getAchievementById(n.achievementId);return e+(i?.reward?.xp||0)},0)}getAchievementProgress(e,n){let i=this.getAchievementById(e);if(!i)return 0;let r=i.condition;switch(r.type){case"questions_answered":return Math.min(n.questionsAnswered/r.target*100,100);case"streak":return Math.min(n.currentStreak/r.target*100,100);case"level":return Math.min(n.level/r.target*100,100);case"perfect_run":return Math.min((n.consecutiveCorrect||0)/r.target*100,100);case"subject_mastery":if(!r.subject||!n.subjectStats)return 0;let o=n.subjectStats.find(s=>s.subject===r.subject);return o?Math.min(o.answered/r.target*100,100):0;default:return 0}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Qi=class t{constructor(){this.activeChallenges=C([]);this.userChallenges=C([]);console.log("\u{1F3AF} ChallengesService inicializado"),this.generateDailyChallenges(),this.generateWeeklyChallenges()}generateDailyChallenges(){let e=Date.now(),n=new Date;n.setHours(23,59,59,999);let i=[{id:`daily_10_questions_${new Date().toISOString().split("T")[0]}`,name:"Estudo Di\xE1rio",description:"Responda 10 quest\xF5es hoje",icon:"\u{1F4DA}",type:"daily",condition:{type:"answer_questions",target:10},reward:{xp:100},expiresAt:n.getTime()},{id:`daily_5_streak_${new Date().toISOString().split("T")[0]}`,name:"Sequ\xEAncia Perfeita",description:"Acerte 5 quest\xF5es seguidas",icon:"\u{1F3AF}",type:"daily",condition:{type:"perfect_streak",target:5},reward:{xp:150},expiresAt:n.getTime()}],r=["Matem\xE1tica","Portugu\xEAs","Ci\xEAncias","Hist\xF3ria","Geografia"],o={Matem\u00E1tica:"\u{1F4D0}",Portugu\u00EAs:"\u{1F4D6}",Ci\u00EAncias:"\u{1F9EA}",Hist\u00F3ria:"\u{1F30D}",Geografia:"\u{1F5FA}\uFE0F"},s=r[Math.floor(Math.random()*r.length)];i.push({id:`daily_subject_${s}_${new Date().toISOString().split("T")[0]}`,name:`Foco em ${s}`,description:`Estude ${s} hoje`,icon:o[s],type:"daily",condition:{type:"subject_study",target:5,subject:s},reward:{xp:100},expiresAt:n.getTime()}),this.activeChallenges.update(a=>[...a.filter(c=>c.type!=="daily"),...i]),console.log(`\u{1F4C5} Desafios di\xE1rios gerados: ${i.length}`)}generateWeeklyChallenges(){let e=Date.now(),n=new Date;n.setDate(n.getDate()+(7-n.getDay())),n.setHours(23,59,59,999);let i=[{id:`weekly_100_questions_${Math.floor(e/(1e3*60*60*24*7))}`,name:"Maratona Semanal",description:"Responda 100 quest\xF5es nesta semana",icon:"\u{1F3C3}",type:"weekly",condition:{type:"answer_questions",target:100},reward:{xp:500},expiresAt:n.getTime()},{id:`weekly_7_day_streak_${Math.floor(e/(1e3*60*60*24*7))}`,name:"Consist\xEAncia Total",description:"Mantenha streak por 7 dias",icon:"\u{1F525}",type:"weekly",condition:{type:"streak",target:7},reward:{xp:300},expiresAt:n.getTime()}];this.activeChallenges.update(r=>[...r.filter(s=>s.type!=="weekly"),...i]),console.log(`\u{1F4C6} Desafios semanais gerados: ${i.length}`)}updateProgress(e,n=1){this.userChallenges.update(i=>{let r=i.find(o=>o.challengeId===e);if(r){let o=this.activeChallenges().find(l=>l.id===e);if(!o)return i;let s=Math.min(r.progress+n,o.condition.target),a=s>=o.condition.target;return i.map(l=>l.challengeId===e?P(O({},l),{progress:s,completed:a,completedAt:a&&!l.completed?Date.now():l.completedAt}):l)}else{let o=this.activeChallenges().find(a=>a.id===e);if(!o)return i;let s=n>=o.condition.target;return[...i,{challengeId:e,progress:n,completed:s,completedAt:s?Date.now():void 0,claimed:!1}]}})}claimReward(e){let n=this.userChallenges().find(r=>r.challengeId===e),i=this.activeChallenges().find(r=>r.id===e);return!n||!i||!n.completed||n.claimed?0:(this.userChallenges.update(r=>r.map(o=>o.challengeId===e?P(O({},o),{claimed:!0}):o)),console.log(`\u2705 Desafio completado: ${i.name} (+${i.reward.xp} XP)`),i.reward.xp)}checkChallenges(e){let n=this.activeChallenges();for(let i of n)if(!this.userChallenges().find(o=>o.challengeId===i.id)?.completed)switch(i.condition.type){case"answer_questions":e.type==="answer_question"&&this.updateProgress(i.id,1);break;case"perfect_streak":e.type==="perfect_streak"&&e.consecutiveCorrect&&this.userChallenges.update(o=>{let s=o.find(l=>l.challengeId===i.id),a=e.consecutiveCorrect||0;if(s){let l=a>=i.condition.target;return o.map(c=>c.challengeId===i.id?P(O({},c),{progress:Math.max(c.progress,a),completed:l,completedAt:l&&!c.completed?Date.now():c.completedAt}):c)}else{let l=a>=i.condition.target;return[...o,{challengeId:i.id,progress:a,completed:l,completedAt:l?Date.now():void 0,claimed:!1}]}});break;case"complete_quizzes":e.type==="complete_quiz"&&this.updateProgress(i.id,1);break;case"subject_study":e.type==="study_subject"&&e.subject===i.condition.subject&&this.updateProgress(i.id,1);break}}removeExpiredChallenges(){let e=Date.now();this.activeChallenges.update(n=>n.filter(i=>i.expiresAt>e)),this.userChallenges.update(n=>{let i=this.activeChallenges().map(r=>r.id);return n.filter(r=>i.includes(r.challengeId))})}getWeekNumber(){let e=new Date,n=new Date(e.getFullYear(),0,1),i=e.getTime()-n.getTime(),r=1e3*60*60*24*7;return Math.floor(i/r)}loadUserChallenges(e){this.userChallenges.set(e)}getUnclaimedRewards(){return this.userChallenges().filter(n=>n.completed&&!n.claimed).map(n=>this.activeChallenges().find(i=>i.id===n.challengeId)).filter(Boolean)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var xe=class t{constructor(){this.questionLoader=x(ya);this.userDataService=x(yt);this.achievementsService=x(Gi);this.challengesService=x(Qi);this.loadedQuestions=C([]);this.fallbackQuestions=[{id:90001,subject:"Ci\xEAncias",text:"O conceito de desenvolvimento sustent\xE1vel, fundamental para a preserva\xE7\xE3o do meio ambiente, prop\xF5e:",options:["A interrup\xE7\xE3o total do crescimento econ\xF4mico.","O uso esgot\xE1vel dos recursos naturais.","Atender \xE0s necessidades do presente sem comprometer as gera\xE7\xF5es futuras.","A substitui\xE7\xE3o de florestas por \xE1reas agr\xEDcolas.","O aumento do consumo de combust\xEDveis f\xF3sseis."],correctIndex:2,difficulty:"F\xE1cil"},{id:90002,subject:"Matem\xE1tica",text:"Para reciclar alum\xEDnio, gasta-se apenas 5% da energia necess\xE1ria para produzi-lo a partir do min\xE9rio. Se a produ\xE7\xE3o inicial gasta 100 kWh, quanta energia \xE9 economizada ao reciclar?",options:["5 kWh","95 kWh","50 kWh","20 kWh","10 kWh"],correctIndex:1,difficulty:"M\xE9dio"},{id:90003,subject:"Geografia",text:"A cidadania no Brasil implica direitos e deveres. Qual das alternativas representa um dever fundamental do cidad\xE3o em rela\xE7\xE3o ao meio ambiente, segundo a Constitui\xE7\xE3o?",options:["Desmatar \xE1reas privadas para constru\xE7\xE3o.","Defender e preservar o meio ambiente para as presentes e futuras gera\xE7\xF5es.","Ignorar a coleta seletiva de lixo.","Priorizar o transporte individual motorizado.","Queimar res\xEDduos s\xF3lidos em quintais."],correctIndex:1,difficulty:"F\xE1cil"},{id:90004,subject:"L\xEDngua Portuguesa",text:'Na frase "A reciclagem \xE9 vital, POR\xC9M, poucos praticam", a conjun\xE7\xE3o destacada expressa ideia de:',options:["Adi\xE7\xE3o","Explica\xE7\xE3o","Conclus\xE3o","Oposi\xE7\xE3o","Altern\xE2ncia"],correctIndex:3,difficulty:"M\xE9dio"},{id:90005,subject:"Ci\xEAncias",text:"O aquecimento global \xE9 agravado pelo efeito estufa. Qual g\xE1s \xE9 o principal respons\xE1vel por esse fen\xF4meno quando emitido em excesso pela queima de combust\xEDveis f\xF3sseis?",options:["Oxig\xEAnio (O2)","Nitrog\xEAnio (N2)","Di\xF3xido de Carbono (CO2)","H\xE9lio (He)","Hidrog\xEAnio (H2)"],correctIndex:2,difficulty:"M\xE9dio"},{id:90006,subject:"Atualidades",text:"Qual das alternativas abaixo \xE9 uma pr\xE1tica recomendada para combater o desperd\xEDcio de \xE1gua nas cidades?",options:["Lavar cal\xE7adas com mangueira diariamente.","Banhos demorados.","Reuso de \xE1gua da chuva e da m\xE1quina de lavar.","Deixar torneiras pingando.","N\xE3o consertar vazamentos."],correctIndex:2,difficulty:"F\xE1cil"},{id:90007,subject:"Matem\xE1tica",text:"Um tanque com 1000 litros de \xE1gua vaza 50ml por minuto. Em quanto tempo o tanque perder\xE1 3 litros?",options:["30 minutos","45 minutos","60 minutos","15 minutos","90 minutos"],correctIndex:2,difficulty:"Dif\xEDcil"},{id:90008,subject:"Geografia",text:"O processo de urbaniza\xE7\xE3o no Brasil se intensificou a partir da d\xE9cada de 1950. Qual foi o principal fator impulsionador?",options:["Reforma Agr\xE1ria","Industrializa\xE7\xE3o","\xCAxodo Urbano","Minera\xE7\xE3o","Turismo"],correctIndex:1,difficulty:"M\xE9dio"},{id:90009,subject:"Hist\xF3ria",text:"A Revolu\xE7\xE3o Industrial transformou as rela\xE7\xF5es de trabalho. Qual classe social surgiu com o fortalecimento das ind\xFAstrias?",options:["Nobreza","Clero","Proletariado","Feudal","Escravos"],correctIndex:2,difficulty:"F\xE1cil"},{id:90010,subject:"Matem\xE1tica",text:"Se um produto custa R$ 120,00 e tem um desconto de 20%, qual o valor final?",options:["R$ 100,00","R$ 96,00","R$ 90,00","R$ 110,00","R$ 24,00"],correctIndex:1,difficulty:"F\xE1cil"},{id:90011,subject:"Ci\xEAncias",text:"Qual \xE9 a principal fun\xE7\xE3o da fotoss\xEDntese para as plantas?",options:["Produzir oxig\xEAnio para os humanos","Produzir seu pr\xF3prio alimento (glicose)","Absorver calor","Proteger contra pragas","Consumir terra"],correctIndex:1,difficulty:"M\xE9dio"},{id:90012,subject:"L\xEDngua Portuguesa",text:"Assinale a alternativa onde o uso da crase est\xE1 CORRETO:",options:["Vou \xE0 comprar p\xE3o.","Fomos \xE0 p\xE9.","Chegamos \xE0 cidade.","Ela falou \xE0 todos.","Entreguei o livro \xE0 ele."],correctIndex:2,difficulty:"Dif\xEDcil"},{id:90013,subject:"Atualidades",text:"Qual bioma brasileiro tem sofrido com recordes de queimadas nos \xFAltimos anos, afetando a biodiversidade do Centro-Oeste?",options:["Amaz\xF4nia","Pampas","Caatinga","Pantanal","Mata de Arauc\xE1rias"],correctIndex:3,difficulty:"M\xE9dio"},{id:90014,subject:"Ci\xEAncias",text:"A energia cin\xE9tica est\xE1 relacionada ao:",options:["Calor","Movimento","Altura","Som","Luz"],correctIndex:1,difficulty:"F\xE1cil"},{id:90015,subject:"Ci\xEAncias",text:"A \xE1gua \xE9 uma subst\xE2ncia composta por dois elementos qu\xEDmicos. Quais s\xE3o?",options:["H\xE9lio e Oxig\xEAnio","Hidrog\xEAnio e Nitrog\xEAnio","Carbono e Oxig\xEAnio","Hidrog\xEAnio e Oxig\xEAnio","Nitrog\xEAnio e Carbono"],correctIndex:3,difficulty:"F\xE1cil"},{id:90016,subject:"Ci\xEAncias",text:"Qual organela celular \xE9 respons\xE1vel pela respira\xE7\xE3o celular e produ\xE7\xE3o de energia?",options:["Ribossomo","Lisossomo","Mitoc\xF4ndria","Complexo de Golgi","N\xFAcleo"],correctIndex:2,difficulty:"Dif\xEDcil"},{id:90017,subject:"Hist\xF3ria",text:'Quem foi o presidente do Brasil conhecido como "Pai dos Pobres" e criador da CLT?',options:["Juscelino Kubitschek","Get\xFAlio Vargas","Marechal Deodoro","Dom Pedro II","Lula"],correctIndex:1,difficulty:"M\xE9dio"},{id:90018,subject:"Geografia",text:"A Mata Atl\xE2ntica \xE9 um bioma que abrange a costa brasileira. Qual sua principal caracter\xEDstica atual?",options:["Est\xE1 intocada.","\xC9 o bioma mais preservado.","Resta menos de 15% da cobertura original.","\xC9 um deserto.","S\xF3 existe no sul."],correctIndex:2,difficulty:"M\xE9dio"},{id:90019,subject:"Matem\xE1tica",text:"A \xE1rea de um quadrado de lado 5cm \xE9:",options:["10 cm\xB2","20 cm\xB2","25 cm\xB2","15 cm\xB2","5 cm\xB2"],correctIndex:2,difficulty:"F\xE1cil"},{id:90020,subject:"L\xEDngua Portuguesa",text:'Identifique o sujeito na frase: "Os alunos da ETEC passaram no vestibulinho."',options:["Passaram","Vestibulinho","Os alunos da ETEC","ETEC","Indeterminado"],correctIndex:2,difficulty:"F\xE1cil"}];this.stats=C({questionsAnswered:0,correctAnswers:0,currentStreak:0,xp:0,level:1,essaysWritten:0});this.schedule=C([]);this.STANDARD_SUBJECTS=["L\xEDngua Portuguesa","Matem\xE1tica","Ci\xEAncias","Hist\xF3ria","Geografia","Atualidades"];this.initializeData(),jt(()=>{let e=this.stats();e&&this.userDataService.saveUserProfile(e)}),jt(()=>{let e=this.achievementsService.unlockedAchievements(),n=this.challengesService.userChallenges();this.userDataService.saveGamificationData({achievements:e,challenges:n,completedSessions:[],consecutiveCorrect:0,subjectStats:[]})}),jt(()=>{let e=this.schedule();this.userDataService.saveUserSchedule(e)})}async initializeData(){try{let e=await this.userDataService.loadUserData();this.stats.set(e.user.stats),this.schedule.set(e.user.schedule),console.log("\u2705 ContentService initialized with backend data")}catch(e){console.error("\u274C Error initializing data:",e)}}async loadQuestionsFromFiles(e){try{let n;e&&e.length>0?n=await this.questionLoader.loadQuestionsFromFiles(e):n=await this.questionLoader.loadAllQuestions(),this.loadedQuestions.set(n),console.log(`ContentService: Loaded ${n.length} questions total`)}catch(n){console.error("Error loading questions from files:",n)}}getQuestions(){let e=this.loadedQuestions();return e.length>0?[...e]:[...this.fallbackQuestions]}getSubjects(){return["L\xEDngua Portuguesa","Matem\xE1tica","Ci\xEAncias \u2014 Biologia","Ci\xEAncias \u2014 Qu\xEDmica","Ci\xEAncias \u2014 F\xEDsica","Hist\xF3ria","Geografia"]}getAvailableFiles(){return this.questionLoader.availableFiles}isLoadingQuestions(){return this.questionLoader.isLoading()}getLoadingProgress(){return this.questionLoader.loadingProgress()}updateStats(e,n="M\xE9dio",i){this.stats.update(r=>{let o=0;e?n==="F\xE1cil"?o=10:n==="M\xE9dio"?o=15:n==="Dif\xEDcil"?o=20:o=15:n==="F\xE1cil"?o=2:n==="M\xE9dio"?o=3:n==="Dif\xEDcil"?o=5:o=3;let s=r.xp+o,a=Math.floor(s/1e3)+1,l=P(O({},r),{questionsAnswered:r.questionsAnswered+1,correctAnswers:e?r.correctAnswers+1:r.correctAnswers,xp:s,level:a});return this.challengesService.updateProgress("daily_questions",1),e&&this.challengesService.updateProgress("daily_correct",1),i&&this.challengesService.updateProgress(`daily_subject_${i}`,1),this.achievementsService.checkAchievements(l),l})}incrementEssayCount(){this.stats.update(e=>{let i=e.xp+100,r=Math.floor(i/1e3)+1;return P(O({},e),{essaysWritten:(e.essaysWritten||0)+1,xp:i,level:r})})}addScheduleItem(e){this.schedule.update(n=>[...n,P(O({},e),{id:crypto.randomUUID()})])}removeScheduleItem(e){this.schedule.update(n=>n.filter(i=>i.id!==e))}setSchedule(e){this.schedule.set(e)}shuffleQuestion(e){if(!e||!e.options||e.options.length===0)return e;let n=[...e.options],i=n[e.correctIndex];for(let o=n.length-1;o>0;o--){let s=Math.floor(Math.random()*(o+1));[n[o],n[s]]=[n[s],n[o]]}let r=n.indexOf(i);return P(O({},e),{options:n,correctIndex:r!==-1?r:e.correctIndex})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Ut=class t{constructor(){this.http=x($t);this.apiUrl="http://localhost:3001/api/ai";this.isLoading=C(!1);this.lastSync=C(null);this.CACHE_KEY="vestbot_exam_calendar_cache";this.CACHE_TTL=720*60*1e3}async getExamCalendar(){let e=localStorage.getItem(this.CACHE_KEY);if(e)try{let{data:n,timestamp:i}=JSON.parse(e);if(Date.now()-i<this.CACHE_TTL)return console.log("\u{1F916} AI Calendar: Using 12h cache"),this.lastSync.set(new Date(i)),n}catch{localStorage.removeItem(this.CACHE_KEY)}this.isLoading.set(!0);try{let n=await Me(this.http.get(`${this.apiUrl}/exam-calendar`)),i=Date.now();return localStorage.setItem(this.CACHE_KEY,JSON.stringify({data:n,timestamp:i})),this.lastSync.set(new Date(i)),n}catch(n){throw console.error("Failed to sync with AI:",n),n}finally{this.isLoading.set(!1)}}async defineWord(e,n){try{let i=`${this.apiUrl}/dictionary?word=${encodeURIComponent(e)}`;return n&&(i+=`&context=${encodeURIComponent(n)}`),await Me(this.http.get(i))}catch(i){return console.error("Failed to fetch definition:",i),{word:e,definition:"N\xE3o foi poss\xEDvel encontrar o significado."}}}async getRecommendedLessons(e,n){let i="vestbot_ai_recommendations",r=localStorage.getItem(i),o=btoa(JSON.stringify({accuracy:e.accuracy,correctAnswers:e.correctAnswers}));if(r){let{hash:s,recommendations:a}=JSON.parse(r);if(s===o)return console.log("\u{1F916} AI Lessons: Using cached recommendations"),a}try{let s=`
        Com base nestas estat\xEDsticas do aluno (Acur\xE1cia: ${e.accuracy}%, Mat\xE9rias com erro: ${JSON.stringify(e.weakSubjects)}), 
        recomende at\xE9 2 IDs das seguintes aulas que ele DEVE assistir primeiro:
        ${JSON.stringify(n.map(d=>({id:d.id,title:d.title,subject:d.subject})))}
        
        Retorne APENAS um JSON array com os IDs: ["id1", "id2"]
      `,a=await this.callGeminiRaw(s),l=a.match(/\[[\s\S]*\]/),c=JSON.parse(l?l[0]:a);return localStorage.setItem(i,JSON.stringify({hash:o,recommendations:c})),c}catch{return[]}}async searchEducationalVideos(e,n){let i=`vestbot_yt_search_${e}_${n||""}`,r=localStorage.getItem(i);if(r){let o=JSON.parse(r);if(o&&o.length>0)return console.log("\u{1F916} AI YT: Using cached search results"),o}try{let o=await Me(this.http.post(`${this.apiUrl}/search-videos`,{query:e,subject:n}));return localStorage.setItem(i,JSON.stringify(o)),o}catch(o){return console.error("Failed to search videos:",o),[]}}async getWebSummary(e,n,i){let r=i?`vestbot_summary_v2_${i}`:`vestbot_summary_v2_${e}`,o=localStorage.getItem(r);if(o)return console.log("\u{1F916} AI Summary: Using persistent cache for",i||e),JSON.parse(o);try{let s=await Me(this.http.post(`${this.apiUrl}/search-web-summary`,{query:e,subject:n}));return localStorage.setItem(r,JSON.stringify(s)),s}catch(s){return console.error("Failed to get web summary:",s),{type:"error",result:"N\xE3o foi poss\xEDvel buscar resultados web."}}}async getLessonSummary(e,n,i){let r=i?`vestbot_lesson_summary_v1_${i}`:`vestbot_lesson_summary_v1_${btoa(e)}`,o=localStorage.getItem(r);if(o)return console.log("\u{1F4DA} Lesson Summary: Using cached summary for",e),JSON.parse(o);try{let s=await Me(this.http.post(`${this.apiUrl}/lesson-summary`,{lessonTitle:e,subject:n}));return s?.type==="lesson_summary"&&localStorage.setItem(r,JSON.stringify(s)),s}catch(s){return console.error("Failed to get lesson summary:",s),{type:"error",message:"N\xE3o foi poss\xEDvel gerar o resumo."}}}async getWebExercises(e){let n=`vestbot_exercises_v1_${e}`,i=localStorage.getItem(n);if(i)return JSON.parse(i);try{let r=await Me(this.http.post(`${this.apiUrl}/scrape-exercises`,{query:e}));return localStorage.setItem(n,JSON.stringify(r)),r}catch(r){return console.error("Failed to get exercises:",r),{type:"error",result:"N\xE3o foi poss\xEDvel buscar exerc\xEDcios."}}}async getVideosInfo(e){if(!e.length)return[];try{return await Me(this.http.post(`${this.apiUrl.replace("/ai","/yt")}/get-videos-info`,{ids:e}))}catch(n){return console.error("Failed to get video info:",n),[]}}async searchYoutubeDirect(e){try{return await Me(this.http.post(`${this.apiUrl.replace("/ai","/yt")}/fallback-search`,{query:e}))}catch(n){return console.error("Direct YT search failed:",n),[]}}async callGeminiRaw(e){let n=`${this.apiUrl}/generic-call`;return(await Me(this.http.post(n,{prompt:e}))).result}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var ba={CORRECT_ANSWER:50,WRONG_ANSWER:10,QUIZ_COMPLETION:100,INTERPRETATION_COMPLETION:50,RESOLUTION_COMPLETION:20,DIFFICULTY_MULTIPLIERS:{F\u00E1cil:1,M\u00E9dio:1.5,Dif\u00EDcil:2},XP_PER_LEVEL:1e3},ci={1:"Iniciante",11:"Aprendiz",21:"Estudante",31:"Avan\xE7ado",41:"Expert",51:"Mestre ETEC"};function Yg(t,e){let{easy:n,medium:i,hard:r}=e,o=ba.DIFFICULTY_MULTIPLIERS,s=n*o.F\u00E1cil+i*o.M\u00E9dio+r*o.Dif\u00EDcil,a=0;switch(t){case"quiz":a=ba.QUIZ_COMPLETION;break;case"interpretation":a=ba.INTERPRETATION_COMPLETION;break;case"resolution":a=ba.RESOLUTION_COMPLETION;break}return Math.floor(s*10+a)}var _a=class t{constructor(){this.contentService=x(xe);this.stats=this.contentService.stats;this.currentLevel=oe(()=>this.stats().level);this.currentXP=oe(()=>this.stats().xp%1e3);this.nextLevelXP=oe(()=>1e3);this.progressPercentage=oe(()=>this.currentXP()/this.nextLevelXP()*100);this.levelTitle=oe(()=>{let e=this.currentLevel();return e<=5?ci[0]:e<=10?ci[1]:e<=20?ci[2]:e<=35?ci[3]:e<=50?ci[4]:ci[5]})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-level-indicator"]],decls:12,vars:6,consts:[[1,"level-indicator"],[1,"level-badge"],[1,"level-number"],[1,"level-info"],[1,"level-title"],[1,"level-progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"xp-text"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"div",1)(2,"span",2),u(3),v()(),h(4,"div",3)(5,"div",4),u(6),v(),h(7,"div",5)(8,"div",6),A(9,"div",7),v(),h(10,"div",8),u(11),v()()()()),n&2&&(f(3),S(i.currentLevel()),f(3),S(i.levelTitle()),f(3),De("width",i.progressPercentage(),"%"),f(2),Qe("",i.currentXP()," / ",i.nextLevelXP()," XP"))},dependencies:[ne],styles:[".level-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;background:#fff;border:1px solid #e5e5e5;border-radius:8px;padding:12px 16px;cursor:pointer;transition:all .2s ease}.level-indicator[_ngcontent-%COMP%]:hover{border-color:#000;box-shadow:0 2px 8px #0000000d}.level-badge[_ngcontent-%COMP%]{background:#000;color:#fff;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;flex-shrink:0}.level-info[_ngcontent-%COMP%]{flex:1;min-width:0}.level-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000;margin-bottom:6px}.level-progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.progress-bar[_ngcontent-%COMP%]{flex:1;background:#f0f0f0;height:4px;border-radius:2px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{background:#000;height:100%;transition:width .3s ease;border-radius:2px}.xp-text[_ngcontent-%COMP%]{font-size:11px;color:#666;white-space:nowrap}@media(max-width:768px){.level-indicator[_ngcontent-%COMP%]{padding:10px 12px}.level-badge[_ngcontent-%COMP%]{width:40px;height:40px;font-size:16px}.level-title[_ngcontent-%COMP%]{font-size:13px}.xp-text[_ngcontent-%COMP%]{font-size:10px}}"]})}};var lE=(t,e)=>e.challengeId;function cE(t,e){t&1&&(h(0,"div",5)(1,"span",6),u(2,"\u{1F3B2}"),v(),h(3,"p",7),u(4,"Nenhum desafio ativo no momento"),v()())}function uE(t,e){if(t&1){let n=B();h(0,"button",23),Q("click",function(){M(n);let r=b(2).$implicit,o=b();return T(o.claimReward(r.challengeId))}),u(1," Reivindicar "),v()}}function dE(t,e){t&1&&(h(0,"span",22),u(1,"\u2713 Conclu\xEDdo"),v())}function fE(t,e){if(t&1&&(h(0,"div",9)(1,"div",10)(2,"div",11),u(3),v(),h(4,"div",12)(5,"div",13),u(6),v(),h(7,"div",14),u(8),v()()(),h(9,"div",15)(10,"div",16),A(11,"div",17),v(),h(12,"div",18),u(13),v()(),h(14,"div",19)(15,"div",20),u(16),v(),w(17,uE,2,0,"button",21),w(18,dE,2,0,"span",22),v()()),t&2){let n=e,i=b().$implicit,r=b();$("completed",i.completed),f(3),S(n.icon),f(3),S(n.name),f(2),S(n.description),f(3),De("width",r.getProgressPercentage(i),"%"),f(2),Qe(" ",i.progress," / ",n.condition.target," "),f(3),N("\u26A1 ",n.reward.xp," XP"),f(),I(i.completed&&!i.claimed?17:-1),f(),I(i.claimed?18:-1)}}function pE(t,e){if(t&1&&w(0,fE,19,12,"div",8),t&2){let n,i=e.$implicit,r=b();I((n=r.getChallenge(i.challengeId))?0:-1,n)}}var Ca=class t{constructor(){this.challengesService=x(Qi);this.activeChallenges=oe(()=>this.challengesService.userChallenges().filter(e=>!e.claimed).slice(0,5))}getChallenge(e){return this.challengesService.activeChallenges().find(n=>n.id===e)}getProgressPercentage(e){let n=this.getChallenge(e.challengeId);return n?Math.min(e.progress/n.condition.target*100,100):0}claimReward(e){let n=this.challengesService.claimReward(e);n>0&&console.log(`\u2705 Recompensa reivindicada: +${n} XP`)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-challenges-card"]],decls:10,vars:1,consts:[[1,"challenges-card"],[1,"card-header"],[1,"card-title"],[1,"card-subtitle"],[1,"challenges-list"],[1,"empty-state"],[1,"empty-icon"],[1,"empty-text"],[1,"challenge-item",3,"completed"],[1,"challenge-item"],[1,"challenge-info"],[1,"challenge-icon"],[1,"challenge-text"],[1,"challenge-name"],[1,"challenge-desc"],[1,"challenge-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"challenge-footer"],[1,"reward"],[1,"claim-button"],[1,"claimed-badge"],[1,"claim-button",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"div",1)(2,"h3",2),u(3,"\u{1F3AF} Desafios"),v(),h(4,"span",3),u(5,"Ganhe XP extra!"),v()(),h(6,"div",4),w(7,cE,5,0,"div",5),Y(8,pE,1,1,null,null,lE),v()()),n&2&&(f(7),I(i.activeChallenges().length===0?7:-1),f(),Z(i.activeChallenges()))},dependencies:[ne],styles:[".challenges-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e5e5;border-radius:12px;padding:20px;margin-bottom:24px}.card-header[_ngcontent-%COMP%]{margin-bottom:20px}.card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#000;margin:0 0 4px}.card-subtitle[_ngcontent-%COMP%]{font-size:13px;color:#666}.challenges-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.empty-icon[_ngcontent-%COMP%]{font-size:48px;display:block;margin-bottom:12px;opacity:.5}.empty-text[_ngcontent-%COMP%]{color:#999;font-size:14px;margin:0}.challenge-item[_ngcontent-%COMP%]{border:1px solid #e5e5e5;border-radius:8px;padding:16px;transition:all .2s ease}.challenge-item[_ngcontent-%COMP%]:hover{border-color:#000;box-shadow:0 2px 8px #0000000d}.challenge-item.completed[_ngcontent-%COMP%]{background:#f9fafb}.challenge-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;margin-bottom:12px}.challenge-icon[_ngcontent-%COMP%]{font-size:28px;line-height:1}.challenge-text[_ngcontent-%COMP%]{flex:1}.challenge-name[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#000;margin-bottom:4px}.challenge-desc[_ngcontent-%COMP%]{font-size:13px;color:#666}.challenge-progress[_ngcontent-%COMP%]{margin-bottom:12px}.progress-bar[_ngcontent-%COMP%]{background:#f0f0f0;height:6px;border-radius:3px;overflow:hidden;margin-bottom:6px}.progress-fill[_ngcontent-%COMP%]{background:#000;height:100%;transition:width .3s ease;border-radius:3px}.progress-text[_ngcontent-%COMP%]{font-size:12px;color:#666;text-align:right}.challenge-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.reward[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000}.claim-button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;padding:6px 16px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease}.claim-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0003}.claimed-badge[_ngcontent-%COMP%]{font-size:13px;color:#22c55e;font-weight:600}@media(max-width:768px){.challenges-card[_ngcontent-%COMP%]{padding:16px}.challenge-item[_ngcontent-%COMP%]{padding:12px}}"]})}};function mE(t,e){if(t&1&&(h(0,"div",6)(1,"span",9),u(2,"\u26A1"),v(),h(3,"span",10),u(4),v()()),t&2){let n,i=b();f(4),N("+",(n=i.achievement())==null||n.reward==null?null:n.reward.xp," XP")}}function hE(t,e){if(t&1&&(h(0,"div",7),u(1," \u{1F3A8} Tema desbloqueado: "),h(2,"strong"),u(3),v()()),t&2){let n,i=b();f(3),S((n=i.achievement())==null||n.reward==null?null:n.reward.unlockTheme)}}var xa=class t{constructor(){this.achievement=C(null);this.closed=new ce;this.isVisible=C(!1)}ngOnInit(){setTimeout(()=>this.isVisible.set(!0),50)}close(){this.isVisible.set(!1),setTimeout(()=>this.closed.emit(),300)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-achievement-modal"]],inputs:{achievement:"achievement"},outputs:{closed:"closed"},decls:14,vars:9,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"achievement-icon"],[1,"achievement-title"],[1,"achievement-name"],[1,"achievement-description"],[1,"xp-reward"],[1,"theme-unlock"],[1,"close-button",3,"click"],[1,"xp-icon"],[1,"xp-amount"]],template:function(n,i){if(n&1&&(h(0,"div",0),Q("click",function(){return i.close()}),h(1,"div",1),Q("click",function(o){return o.stopPropagation()}),h(2,"div",2),u(3),v(),h(4,"h2",3),u(5,"Conquista Desbloqueada!"),v(),h(6,"h3",4),u(7),v(),h(8,"p",5),u(9),v(),w(10,mE,5,1,"div",6),w(11,hE,4,1,"div",7),h(12,"button",8),Q("click",function(){return i.close()}),u(13," Continuar "),v()()()),n&2){let r,o,s,a,l;$("show",i.isVisible()),f(),$("show",i.isVisible()),f(2),S((r=i.achievement())==null?null:r.icon),f(4),S((o=i.achievement())==null?null:o.name),f(2),S((s=i.achievement())==null?null:s.description),f(),I(!((a=i.achievement())==null||a.reward==null)&&a.reward.xp?10:-1),f(),I(!((l=i.achievement())==null||l.reward==null)&&l.reward.unlockTheme?11:-1)}},dependencies:[ne],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:10001;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s ease}.modal-overlay.show[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.modal-content[_ngcontent-%COMP%]{background:#fff;border:2px solid black;border-radius:16px;padding:40px 32px;max-width:450px;width:90%;text-align:center;box-shadow:0 10px 40px #00000026;transform:scale(.7) translateY(-20px);opacity:0;transition:all .4s cubic-bezier(.34,1.56,.64,1)}.modal-content.show[_ngcontent-%COMP%]{transform:scale(1) translateY(0);opacity:1}.achievement-icon[_ngcontent-%COMP%]{font-size:72px;margin-bottom:16px;animation:_ngcontent-%COMP%_bounce .6s ease infinite alternate}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-10px)}}.achievement-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:#666;margin:0 0 12px}.achievement-name[_ngcontent-%COMP%]{font-size:26px;font-weight:700;color:#000;margin:0 0 12px}.achievement-description[_ngcontent-%COMP%]{font-size:16px;color:#666;margin:0 0 24px;line-height:1.5}.xp-reward[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#f5f5f5;padding:10px 20px;border-radius:50px;font-size:20px;font-weight:700;margin-bottom:16px;border:1px solid #e0e0e0;color:#000}.xp-icon[_ngcontent-%COMP%]{font-size:22px}.theme-unlock[_ngcontent-%COMP%]{background:#f0f9ff;border:1px solid #bae6fd;color:#0369a1;padding:12px;border-radius:8px;font-size:14px;margin-bottom:20px}.close-button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;padding:12px 32px;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease;width:100%}.close-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}@media(max-width:600px){.modal-content[_ngcontent-%COMP%]{padding:32px 24px}.achievement-icon[_ngcontent-%COMP%]{font-size:56px}.achievement-name[_ngcontent-%COMP%]{font-size:22px}}"]})}};var gE=()=>[20,45,10,80,50,90,30],vE=()=>["D","S","T","Q","Q","S","S"],yE=(t,e)=>e.name;function bE(t,e){t&1&&(p(0,"span",19),D(1,"i",72),u(2," Sincronizado por IA "),m())}function _E(t,e){t&1&&(p(0,"div",20),D(1,"i",73),u(2," Atualizando Datas... "),m())}function CE(t,e){if(t&1&&(p(0,"div",22)(1,"div",74)(2,"div"),D(3,"i"),m(),p(4,"div")(5,"p",9),u(6),m(),p(7,"p",75),u(8),_e(9,"date"),m()()(),p(10,"div",76)(11,"p",77),u(12),m(),p(13,"p",78),u(14,"Dias para a prova"),m()()()),t&2){let n=e.$implicit,i=b();f(2),Ae("w-10 h-10 rounded-lg flex items-center justify-center text-white mr-4 "+n.color),f(),Ae("fas "+n.icon),f(3),S(n.name),f(2),S(Hi(9,7,n.date,"dd/MM/yyyy")),f(4),S(i.getDaysRemaining(n.date))}}function xE(t,e){t&1&&(p(0,"div",46),D(1,"i",79),p(2,"p",80),u(3,"Nenhuma atividade recente"),m()())}function EE(t,e){if(t&1&&(p(0,"div",81)(1,"div",82),D(2,"i",83),m(),p(3,"div",84)(4,"p",85),u(5,"Quest\xF5es Realizadas"),m(),p(6,"p",86),u(7,"Total acumulado"),m()(),p(8,"span",87),u(9),m()(),p(10,"div",81)(11,"div",88),D(12,"i",14),m(),p(13,"div",84)(14,"p",85),u(15,"Acertos"),m(),p(16,"p",86),u(17,"Respostas corretas"),m()(),p(18,"span",89),u(19),m()()),t&2){let n=b();f(9),S(n.stats().questionsAnswered),f(10),S(n.stats().correctAnswers)}}function DE(t,e){if(t&1&&(p(0,"div",52),D(1,"div",90),p(2,"span",91),u(3),m()()),t&2){let n=e.$implicit,i=e.$index;b();let r=$u(95);f(),De("height",n,"%"),f(2),S(r[i])}}function wE(t,e){if(t&1){let n=B();p(0,"app-achievement-modal",92),V("closed",function(){M(n);let r=b();return T(r.showAchievementModal.set(!1))}),m()}if(t&2){let n=b();J("achievement",n.currentAchievement)}}var Ea=class t{constructor(){this.contentService=x(xe);this.aiService=x(Ut);this.achievementsService=x(Gi);this.stats=this.contentService.stats;this.showAchievementModal=C(!1);this.currentAchievement=C(null);this.navigate=rg();this.accuracy=oe(()=>{let e=this.stats().questionsAnswered;return e===0?0:Math.round(this.stats().correctAnswers/e*100)});this.xpProgress=oe(()=>{let e=this.stats().xp,n=this.stats().level,i=n*1e3,r=(n-1)*1e3,o=e-r,s=i-r;return Math.min(Math.max(o/s*100,0),100)});this.userRank=oe(()=>{let e=this.stats().level;return e<5?"Aspirante ETEC":e<10?"Estudante Dedicado":e<20?"Veterano dos Estudos":"Mestre do Vestibulinho"});this.motivationalMessage=oe(()=>{let e=this.accuracy();return this.stats().questionsAnswered===0?"Comece seus estudos hoje!":e>=80?"Excelente! Voc\xEA est\xE1 no caminho certo.":e>=60?"Muito bom, continue praticando para melhorar.":"N\xE3o desanime! Revise os conte\xFAdos e tente novamente."});this.exams=C([{name:"ETEC 2027/1",date:new Date("2026-08-14"),color:"bg-black",icon:"fa-graduation-cap"},{name:"IFSP Jundia\xED",date:new Date("2026-08-21"),color:"bg-slate-700",icon:"fa-university"}])}onStartQuiz(){this.navigate.emit("quiz")}async ngOnInit(){this.syncWithAI()}async syncWithAI(){try{let e=await this.aiService.getExamCalendar();if(e&&e.length>0){let n=e.map((i,r)=>({name:i.name,date:new Date(i.date),color:r===0?"bg-black":"bg-slate-700",icon:r===0?"fa-graduation-cap":"fa-university"}));this.exams.set(n)}}catch{console.error("Failed to sync dates via AI")}}getDaysRemaining(e){let n=new Date,i=e.getTime()-n.getTime();return Math.ceil(i/(1e3*60*60*24))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-dashboard"]],outputs:{navigate:"navigate"},decls:150,vars:21,consts:[[1,"animate-fade-in","font-sans","pb-10"],[1,"mb-8","flex","flex-col","md:flex-row","justify-between","items-start","md:items-end","gap-4"],[1,"text-3xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","text-sm"],[1,"text-black","font-semibold"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4","mb-8"],[1,"bg-white","p-5","rounded-xl","border","border-slate-200","shadow-sm","flex","items-center","transition-transform","hover:-translate-y-1"],[1,"w-12","h-12","rounded-lg","bg-orange-50","text-orange-500","flex","items-center","justify-center","text-xl","mr-4"],[1,"fas","fa-fire"],[1,"text-xs","font-bold","text-slate-400","uppercase","tracking-wider"],[1,"text-2xl","font-bold","text-slate-900"],[1,"w-12","h-12","rounded-lg","bg-purple-50","text-purple-600","flex","items-center","justify-center","text-xl","mr-4"],[1,"fas","fa-bolt"],[1,"w-12","h-12","rounded-lg","bg-green-50","text-green-600","flex","items-center","justify-center","text-xl","mr-4"],[1,"fas","fa-bullseye"],[1,"mb-8","overflow-hidden"],[1,"flex","items-center","justify-between","gap-4","mb-4"],[1,"flex","items-center","gap-2"],[1,"font-bold","text-slate-900"],[1,"text-[10px]","bg-green-50","text-green-600","px-2","py-0.5","rounded-full","font-bold","flex","items-center","animate-fade-in"],[1,"text-[10px]","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","px-3","py-1.5","text-slate-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-4","rounded-xl","border","border-slate-200","shadow-sm","flex","items-center","justify-between","group","hover:border-black","transition-all"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","mb-6"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-200","shadow-sm","flex","flex-col","relative","overflow-hidden","h-80"],[1,"flex","justify-between","items-start","mb-4"],[1,"font-bold","text-lg","text-slate-900"],[1,"text-slate-500","text-xs"],[1,"bg-black","text-white","text-[10px]","font-bold","px-2","py-1","rounded"],[1,"flex-1","flex","items-center","justify-center"],[1,"relative","w-40","h-40"],[1,"w-full","h-full","rounded-full","bg-slate-100"],[1,"absolute","inset-2","bg-white","rounded-full","flex","items-center","justify-center","flex-col","shadow-inner"],[1,"text-3xl","font-bold","text-black","tracking-tighter"],[1,"text-[10px]","text-slate-400","uppercase","font-bold","tracking-wide","mt-1"],[1,"text-center","text-slate-400","text-xs","mt-2"],[1,"bg-black","p-8","rounded-2xl","shadow-lg","flex","flex-col","justify-center","h-80","relative","overflow-hidden","group"],[1,"absolute","-right-10","-top-10","w-40","h-40","bg-slate-800","rounded-full","opacity-50","blur-2xl","group-hover:scale-110","transition-transform","duration-700"],[1,"text-slate-400","font-medium","mb-1","relative","z-10","text-xs","uppercase","tracking-widest"],[1,"text-3xl","font-bold","text-white","leading-tight","mb-4","relative","z-10"],[1,"text-slate-300","mb-8","text-sm","leading-relaxed","relative","z-10","max-w-xs"],[1,"bg-white","text-black","px-6","py-3","rounded-lg","font-bold","hover:bg-slate-200","transition-colors","w-fit","relative","z-10","flex","items-center","text-sm",3,"click"],[1,"fas","fa-arrow-right","ml-2"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-200","shadow-sm","h-80","flex","flex-col"],[1,"font-bold","text-lg","text-slate-900","mb-4"],[1,"flex-1","overflow-y-auto","pr-2","custom-scrollbar","space-y-3"],[1,"h-full","flex","flex-col","items-center","justify-center","text-slate-400"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-200","shadow-sm","h-72","flex","flex-col"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-[10px]","bg-slate-100","px-2","py-1","rounded","text-slate-500","font-bold"],[1,"flex-1","flex","items-end","justify-between","gap-2","px-2","pb-2"],[1,"flex","flex-col","items-center","flex-1","h-full","justify-end","group","cursor-pointer"],[1,"font-bold","text-lg","text-slate-900","mb-6"],[1,"space-y-4","flex-1","overflow-y-auto","pr-2","custom-scrollbar"],[1,"flex","justify-between","text-xs","font-bold","mb-1"],[1,"text-slate-700"],[1,"text-slate-400"],[1,"w-full","bg-slate-100","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full",2,"width","40%"],[1,"bg-red-500","h-2","rounded-full",2,"width","35%"],[1,"bg-green-500","h-2","rounded-full",2,"width","15%"],[1,"bg-yellow-500","h-2","rounded-full",2,"width","10%"],[1,"bg-slate-50","p-8","rounded-2xl","border","border-slate-200","shadow-sm","h-72","flex","flex-col","justify-between"],[1,"font-bold","text-lg","text-slate-900","mb-2"],[1,"text-sm","text-slate-500","mb-6"],[1,"space-y-3"],[1,"w-full","bg-white","border","border-slate-200","p-3","rounded-lg","text-left","text-sm","font-bold","text-slate-700","hover:border-black","hover:text-black","transition-colors","flex","justify-between","items-center","group",3,"click"],[1,"fas","fa-bolt","text-slate-300","group-hover:text-black"],[1,"fas","fa-calendar-alt","text-slate-300","group-hover:text-black"],[1,"text-[10px]","text-slate-400","font-mono","text-center"],[3,"achievement"],[1,"fas","fa-check-circle","mr-1"],[1,"fas","fa-sync-alt","animate-spin"],[1,"flex","items-center"],[1,"text-sm","font-bold","text-slate-900"],[1,"text-right"],[1,"text-2xl","font-black","text-black","tracking-tighter"],[1,"text-[10px]","font-bold","text-slate-400","uppercase"],[1,"far","fa-calendar-times","text-2xl","mb-2"],[1,"text-xs"],[1,"flex","items-center","p-3","bg-slate-50","rounded-lg","border","border-slate-100"],[1,"w-8","h-8","rounded","bg-white","border","border-slate-200","flex","items-center","justify-center","text-slate-700","text-xs","mr-3"],[1,"fas","fa-check"],[1,"flex-1"],[1,"text-sm","font-bold","text-slate-800"],[1,"text-[10px]","text-slate-500"],[1,"font-bold","text-slate-900","text-sm"],[1,"w-8","h-8","rounded","bg-white","border","border-slate-200","flex","items-center","justify-center","text-green-600","text-xs","mr-3"],[1,"font-bold","text-green-600","text-sm"],[1,"w-full","bg-slate-900","rounded-t-sm","transition-all","duration-500","relative","group-hover:bg-black","group-hover:shadow-lg"],[1,"text-[10px]","text-slate-400","font-bold","mt-2"],[3,"closed","achievement"]],template:function(n,i){if(n&1){let r=B();p(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),u(4,"Dashboard"),m(),p(5,"p",3),u(6,"Bem-vindo, "),p(7,"span",4),u(8),m(),u(9,"."),m()(),D(10,"app-level-indicator"),m(),D(11,"app-challenges-card"),p(12,"div",5)(13,"div",6)(14,"div",7),D(15,"i",8),m(),p(16,"div")(17,"p",9),u(18,"Sequ\xEAncia"),m(),p(19,"p",10),u(20),m()()(),p(21,"div",6)(22,"div",11),D(23,"i",12),m(),p(24,"div")(25,"p",9),u(26,"Experi\xEAncia"),m(),p(27,"p",10),u(28),m()()(),p(29,"div",6)(30,"div",13),D(31,"i",14),m(),p(32,"div")(33,"p",9),u(34,"Precis\xE3o"),m(),p(35,"p",10),u(36),m()()()(),p(37,"div",15)(38,"div",16)(39,"div",17)(40,"h3",18),u(41,"Agenda de Provas 2027/1"),m(),w(42,bE,3,0,"span",19),m(),w(43,_E,3,0,"div",20),m(),p(44,"div",21),Y(45,CE,15,10,"div",22,yE),m()(),p(47,"div",23)(48,"div",24)(49,"div",25)(50,"div")(51,"h3",26),u(52),m(),p(53,"p",27),u(54),m()(),p(55,"div",28),u(56),m()(),p(57,"div",29)(58,"div",30),D(59,"div",31),p(60,"div",32)(61,"span",33),u(62),_e(63,"number"),m(),p(64,"span",34),u(65,"Conclu\xEDdo"),m()()()(),p(66,"p",35),u(67),m()(),p(68,"div",36),D(69,"div",37),p(70,"p",38),u(71,"Recomendado pela IA"),m(),p(72,"h3",39),u(73,"Interpreta\xE7\xE3o"),D(74,"br"),u(75,"& Infer\xEAncia"),m(),p(76,"p",40),u(77," An\xE1lise textual \xE9 respons\xE1vel por 30% da prova. Domine essa habilidade agora. "),m(),p(78,"button",41),V("click",function(){return M(r),T(i.navigate.emit("interpretation"))}),u(79," Iniciar Li\xE7\xE3o "),D(80,"i",42),m()(),p(81,"div",43)(82,"h3",44),u(83,"Registro de Atividades"),m(),p(84,"div",45),w(85,xE,4,0,"div",46)(86,EE,20,2),m()()(),p(87,"div",47)(88,"div",48)(89,"div",49)(90,"h3",26),u(91,"Frequ\xEAncia"),m(),p(92,"span",50),u(93,"\xDAltimos 7 dias"),m()(),p(94,"div",51),Gs(95),Y(96,DE,4,3,"div",52,Ze),m()(),p(98,"div",48)(99,"h3",53),u(100,"Foco de Estudo"),m(),p(101,"div",54)(102,"div")(103,"div",55)(104,"span",56),u(105,"Matem\xE1tica"),m(),p(106,"span",57),u(107,"40%"),m()(),p(108,"div",58),D(109,"div",59),m()(),p(110,"div")(111,"div",55)(112,"span",56),u(113,"Portugu\xEAs"),m(),p(114,"span",57),u(115,"35%"),m()(),p(116,"div",58),D(117,"div",60),m()(),p(118,"div")(119,"div",55)(120,"span",56),u(121,"Ci\xEAncias Naturais"),m(),p(122,"span",57),u(123,"15%"),m()(),p(124,"div",58),D(125,"div",61),m()(),p(126,"div")(127,"div",55)(128,"span",56),u(129,"Humanas"),m(),p(130,"span",57),u(131,"10%"),m()(),p(132,"div",58),D(133,"div",62),m()()()(),p(134,"div",63)(135,"div")(136,"h3",64),u(137,"Recursos Extras"),m(),p(138,"p",65),u(139,"Ferramentas para turbinar sua prepara\xE7\xE3o."),m(),p(140,"div",66)(141,"button",67),V("click",function(){return M(r),T(i.onStartQuiz())}),u(142," Simulado R\xE1pido "),D(143,"i",68),m(),p(144,"button",67),V("click",function(){return M(r),T(i.navigate.emit("schedule"))}),u(145," Ver Cronograma "),D(146,"i",69),m()()(),p(147,"div",70),u(148," ETECPRO BUILD v2.3 "),m()()(),w(149,wE,1,1,"app-achievement-modal",71),m()}if(n&2){f(8),S(i.userRank()),f(12),N("",i.stats().currentStreak," dias"),f(8),N("",i.stats().xp," XP"),f(8),N("",i.accuracy(),"%"),f(6),I(i.aiService.lastSync()?42:-1),f(),I(i.aiService.isLoading()?43:-1),f(2),Z(i.exams()),f(7),N("N\xEDvel ",i.stats().level),f(2),S(i.userRank()),f(2),N(" META: N\xCDVEL ",i.stats().level+1," "),f(3),De("background","conic-gradient(black 0% "+i.xpProgress()+"%, #f1f5f9 "+i.xpProgress()+"% 100%)"),f(3),N("",Hi(63,15,i.xpProgress(),"1.0-0"),"%"),f(5),S(i.motivationalMessage()),f(18),I(i.stats().questionsAnswered===0?85:86);let r=cn(19,gE);f(10),Hu(cn(20,vE)),f(),Z(r),f(53),I(i.showAchievementModal()&&i.currentAchievement()?149:-1)}},dependencies:[ne,_a,Ca,xa,Wr,dd],encapsulation:2,changeDetection:0})}};var r0=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(K(wn),K(Kt))};static \u0275dir=Ge({type:t})}return t})(),Od=(()=>{class t extends r0{static \u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(t)))(r||t)}})();static \u0275dir=Ge({type:t,features:[sn]})}return t})(),Ma=new U("");var IE={provide:Ma,useExisting:Wt(()=>Zi),multi:!0};function SE(){let t=gt()?gt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ME=new U(""),Zi=(()=>{class t extends r0{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!SE())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(K(wn),K(Kt),K(ME,8))};static \u0275dir=Ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&V("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Bi([IE]),sn]})}return t})();var TE=new U(""),AE=new U("");function o0(t){return t!=null}function s0(t){return Vi(t)?ir(t):t}function a0(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function l0(t,e){return e.map(n=>n(t))}function NE(t){return!t.validate}function c0(t){return t.map(e=>NE(e)?e:n=>e.validate(n))}function OE(t){if(!t)return null;let e=t.filter(o0);return e.length==0?null:function(n){return a0(l0(n,e))}}function u0(t){return t!=null?OE(c0(t)):null}function kE(t){if(!t)return null;let e=t.filter(o0);return e.length==0?null:function(n){let i=l0(n,e).map(s0);return vl(i).pipe(We(a0))}}function d0(t){return t!=null?kE(c0(t)):null}function Zg(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function RE(t){return t._rawValidators}function PE(t){return t._rawAsyncValidators}function Sd(t){return t?Array.isArray(t)?t:[t]:[]}function wa(t,e){return Array.isArray(t)?t.includes(e):t===e}function Xg(t,e){let n=Sd(e);return Sd(t).forEach(r=>{wa(n,r)||n.push(r)}),n}function Kg(t,e){return Sd(e).filter(n=>!wa(t,n))}var Ia=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=u0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=d0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Md=class extends Ia{name;get formDirective(){return null}get path(){return null}},oo=class extends Ia{_parent=null;name=null;valueAccessor=null},Td=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ta=(()=>{class t extends Td{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(K(oo,2))};static \u0275dir=Ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&$("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[sn]})}return t})();var to="VALID",Da="INVALID",Wi="PENDING",no="DISABLED",ui=class{},Sa=class extends ui{value;source;constructor(e,n){super(),this.value=e,this.source=n}},io=class extends ui{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ro=class extends ui{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Yi=class extends ui{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var Ad=class extends ui{source;constructor(e){super(),this.source=e}};function FE(t){return(Aa(t)?t.validators:t)||null}function LE(t){return Array.isArray(t)?u0(t):t||null}function jE(t,e){return(Aa(e)?e.asyncValidators:t)||null}function VE(t){return Array.isArray(t)?d0(t):t||null}function Aa(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Nd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dt(this.statusReactive)}set status(e){Dt(()=>this.statusReactive.set(e))}_status=oe(()=>this.statusReactive());statusReactive=C(void 0);get valid(){return this.status===to}get invalid(){return this.status===Da}get pending(){return this.status==Wi}get disabled(){return this.status===no}get enabled(){return this.status!==no}errors;get pristine(){return Dt(this.pristineReactive)}set pristine(e){Dt(()=>this.pristineReactive.set(e))}_pristine=oe(()=>this.pristineReactive());pristineReactive=C(!0);get dirty(){return!this.pristine}get touched(){return Dt(this.touchedReactive)}set touched(e){Dt(()=>this.touchedReactive.set(e))}_touched=oe(()=>this.touchedReactive());touchedReactive=C(!1);get untouched(){return!this.touched}_events=new Se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Xg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Xg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Kg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Kg(e,this._rawAsyncValidators))}hasValidator(e){return wa(this._rawValidators,e)}hasAsyncValidator(e){return wa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(P(O({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new ro(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new ro(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(P(O({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new io(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new io(!0,i))}markAsPending(e={}){this.status=Wi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(P(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=no,this.errors=null,this._forEachChild(r=>{r.disable(P(O({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sa(this.value,i)),this._events.next(new Yi(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(P(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=to,this._forEachChild(i=>{i.enable(P(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(P(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===to||this.status===Wi)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sa(this.value,n)),this._events.next(new Yi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(P(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?no:to}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Wi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let i=s0(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Yi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?no:this.errors?Da:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wi)?Wi:this._anyControlsHaveStatus(Da)?Da:to}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new io(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ro(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Aa(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=LE(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=VE(this._rawAsyncValidators)}};var f0=new U("",{factory:()=>kd}),kd="always";function BE(t,e){return[...e.path,t]}function HE(t,e,n=kd){UE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zE(t,e),GE(t,e),qE(t,e),$E(t,e)}function Jg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $E(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UE(t,e){let n=RE(t);e.validator!==null?t.setValidators(Zg(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=PE(t);e.asyncValidator!==null?t.setAsyncValidators(Zg(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Jg(e._rawValidators,r),Jg(e._rawAsyncValidators,r)}function zE(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&p0(t,e)})}function qE(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&p0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function p0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function GE(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QE(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function WE(t){return Object.getPrototypeOf(t.constructor)===Od}function YE(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Zi?n=o:WE(o)?i=o:r=o}),r||i||n||null}function e0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function t0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ZE=class extends Nd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(FE(n),jE(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Aa(n)&&(n.nonNullable||n.initialValueIsDefault)&&(t0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ad(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){e0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){e0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){t0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var XE={provide:oo,useExisting:Wt(()=>so)},n0=Promise.resolve(),so=(()=>{class t extends oo{_changeDetectorRef;callSetDisabledState;control=new ZE;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ce;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=YE(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),QE(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){n0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&sg(i);n0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BE(n,this._parent):[n]}static \u0275fac=function(i){return new(i||t)(K(Md,9),K(TE,10),K(AE,10),K(Ma,10),K(Zs,8),K(f0,8))};static \u0275dir=Ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Bi([XE]),sn,Ts]})}return t})();var KE={provide:Ma,useExisting:Wt(()=>Na),multi:!0};function m0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function JE(t){return t.split(":")[0]}var Na=(()=>{class t extends Od{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=x(si).injector;destroyRef=x(Et);cdr=x(Zs);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Eu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let i=this._getOptionId(n),r=m0(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=JE(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(t)))(r||t)}})();static \u0275dir=Ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&V("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Bi([KE]),sn]})}return t})(),h0=(()=>{class t{_element;_renderer;_select;id;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(m0(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||t)(K(Kt),K(wn),K(Na,9))};static \u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),eD={provide:Ma,useExisting:Wt(()=>g0),multi:!0};function i0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tD(t){return t.split(":")[0]}var g0=(()=>{class t extends Od{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=tD(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=Pr(t)))(r||t)}})();static \u0275dir=Ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&V("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Bi([eD]),sn]})}return t})(),v0=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(i0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(i0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||t)(K(Kt),K(wn),K(g0,9))};static \u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var nD=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=on({type:t});static \u0275inj=kt({})}return t})();var Mn=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:f0,useValue:n.callSetDisabledState??kd}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=on({type:t});static \u0275inj=kt({imports:[nD]})}return t})();var zt=class t{constructor(){this.userDataService=x(yt);this.QUIZ_CORRECT_BLOCK_TIME=1200*1e3;this.QUIZ_INCORRECT_BLOCK_TIME=600*1e3;this.RESOLUTION_CORRECT_REDUCTION=60*1e3;this.RESOLUTION_INCORRECT_REDUCTION=60*1e3;this.cleanupOldEntries()}recordAttempt(e,n,i="quiz"){let r=this.getHistory(),o=r.find(c=>c.questionId===e),s={questionId:e,timestamp:Date.now(),wasCorrect:n,context:i};i==="resolution"&&o&&(s.wasCorrect=o.wasCorrect,console.log(`\u{1F504} Resolution viewed for question ${e} (was ${o.wasCorrect?"correct":"incorrect"}). Reducing block time.`));let a=r.filter(c=>c.questionId!==e);a.push(s),this.saveHistory(a),console.log(`\u{1F4DD} Recorded ${n?"correct":"incorrect"} attempt for question ${e} [${i==="quiz"?"quiz":i==="interpretation"?"interpretation":"resolution"}]`)}canShowQuestion(e){let i=this.getHistory().find(l=>l.questionId===e);if(!i)return!0;let o=Date.now()-i.timestamp,s;return(i.context||"quiz")==="resolution"?s=i.wasCorrect?this.RESOLUTION_CORRECT_REDUCTION:this.RESOLUTION_INCORRECT_REDUCTION:s=i.wasCorrect?this.QUIZ_CORRECT_BLOCK_TIME:this.QUIZ_INCORRECT_BLOCK_TIME,o>=s}getBlockedTimeRemaining(e){let i=this.getHistory().find(c=>c.questionId===e);if(!i)return null;let o=Date.now()-i.timestamp,s=i.context||"quiz",a;s==="resolution"?a=i.wasCorrect?this.RESOLUTION_CORRECT_REDUCTION:this.RESOLUTION_INCORRECT_REDUCTION:a=i.wasCorrect?this.QUIZ_CORRECT_BLOCK_TIME:this.QUIZ_INCORRECT_BLOCK_TIME;let l=a-o;return l>0?l:null}getQuestionHistory(e){return this.getHistory().find(i=>i.questionId===e)}getStatistics(){let e=this.getHistory(),n=e.filter(r=>r.wasCorrect).length,i=e.filter(r=>!r.wasCorrect).length;return{totalAttempts:e.length,correctAnswers:n,incorrectAnswers:i,accuracy:e.length>0?n/e.length*100:0}}clearHistory(){this.saveHistory([]),console.log("\u{1F5D1}\uFE0F Question history cleared")}getHistory(){let e=this.userDataService.getUserData();return e&&e.user.questionHistory?e.user.questionHistory:[]}saveHistory(e){this.userDataService.saveUserHistory(e)}cleanupOldEntries(){if(!this.userDataService.getUserData())return;let n=this.getHistory(),i=Date.now(),r=n.filter(o=>{let s=i-o.timestamp,a=o.context||"quiz",l;return a==="resolution"?l=o.wasCorrect?this.RESOLUTION_CORRECT_REDUCTION:this.RESOLUTION_INCORRECT_REDUCTION:l=o.wasCorrect?this.QUIZ_CORRECT_BLOCK_TIME:this.QUIZ_INCORRECT_BLOCK_TIME,s<l*2});r.length<n.length&&(this.saveHistory(r),console.log(`\u{1F9F9} Cleaned up ${n.length-r.length} old history entries`))}getFormattedBlockTime(e){let n=this.getBlockedTimeRemaining(e);if(!n)return null;let i=Math.floor(n/(3600*1e3)),r=Math.floor(n%(3600*1e3)/(60*1e3));if(i>=24){let o=Math.floor(i/24);return`${o} dia${o>1?"s":""}`}else return i>0?`${i} hora${i>1?"s":""}`:`${r} minuto${r>1?"s":""}`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Oa=class t{constructor(){this.glossary=[{word:"c\xE9lula",definition:"Unidade b\xE1sica estrutural e funcional dos seres vivos.",subject:"Biologia"},{word:"fotoss\xEDntese",definition:"Processo pelo qual plantas convertem luz solar em energia qu\xEDmica.",subject:"Biologia"},{word:"mitose",definition:"Divis\xE3o celular que resulta em duas c\xE9lulas-filhas id\xEAnticas.",subject:"Biologia"},{word:"meiose",definition:"Divis\xE3o celular que reduz o n\xFAmero de cromossomos pela metade.",subject:"Biologia"},{word:"DNA",definition:"\xC1cido desoxirribonucleico, mol\xE9cula que cont\xE9m as instru\xE7\xF5es gen\xE9ticas.",subject:"Biologia"},{word:"ecossistema",definition:"Conjunto de seres vivos e o ambiente em que vivem, incluindo suas intera\xE7\xF5es.",subject:"Biologia"},{word:"evolu\xE7\xE3o",definition:"Processo de mudan\xE7a nas caracter\xEDsticas heredit\xE1rias de popula\xE7\xF5es ao longo do tempo.",subject:"Biologia"},{word:"cadeia alimentar",definition:"Sequ\xEAncia de organismos onde cada um serve de alimento para o pr\xF3ximo.",subject:"Biologia"},{word:"\xE1tomo",definition:"Menor unidade de um elemento qu\xEDmico que mant\xE9m suas propriedades.",subject:"Qu\xEDmica"},{word:"mol\xE9cula",definition:"Conjunto de dois ou mais \xE1tomos ligados quimicamente.",subject:"Qu\xEDmica"},{word:"\xEDon",definition:"\xC1tomo ou mol\xE9cula que ganhou ou perdeu el\xE9trons, ficando eletricamente carregado.",subject:"Qu\xEDmica"},{word:"elemento",definition:"Subst\xE2ncia pura formada por \xE1tomos de um mesmo tipo.",subject:"Qu\xEDmica"},{word:"composto",definition:"Subst\xE2ncia formada por dois ou mais elementos qu\xEDmicos diferentes.",subject:"Qu\xEDmica"},{word:"rea\xE7\xE3o",definition:"Processo em que subst\xE2ncias (reagentes) se transformam em outras (produtos).",subject:"Qu\xEDmica"},{word:"\xE1cido",definition:"Subst\xE2ncia que libera \xEDons H+ (pr\xF3tons) em solu\xE7\xE3o aquosa.",subject:"Qu\xEDmica"},{word:"base",definition:"Subst\xE2ncia que libera \xEDons OH- (hidroxila) em solu\xE7\xE3o aquosa.",subject:"Qu\xEDmica"},{word:"pH",definition:"Escala que mede a acidez ou basicidade de uma solu\xE7\xE3o (0 a 14).",subject:"Qu\xEDmica"},{word:"energia",definition:"Capacidade de realizar trabalho ou produzir mudan\xE7as.",subject:"F\xEDsica"},{word:"for\xE7a",definition:"Intera\xE7\xE3o que pode causar acelera\xE7\xE3o ou deforma\xE7\xE3o em um objeto.",subject:"F\xEDsica"},{word:"velocidade",definition:"Taxa de varia\xE7\xE3o da posi\xE7\xE3o de um objeto no tempo.",subject:"F\xEDsica"},{word:"acelera\xE7\xE3o",definition:"Taxa de varia\xE7\xE3o da velocidade no tempo.",subject:"F\xEDsica"},{word:"massa",definition:"Quantidade de mat\xE9ria em um corpo.",subject:"F\xEDsica"},{word:"peso",definition:"For\xE7a com que a gravidade atrai um corpo.",subject:"F\xEDsica"},{word:"in\xE9rcia",definition:"Tend\xEAncia de um corpo em manter seu estado de movimento ou repouso.",subject:"F\xEDsica"},{word:"eros\xE3o",definition:"Desgaste e transporte de materiais da superf\xEDcie terrestre por agentes naturais.",subject:"Geografia"},{word:"clima",definition:"Conjunto de condi\xE7\xF5es atmosf\xE9ricas que caracterizam uma regi\xE3o ao longo do tempo.",subject:"Geografia"},{word:"latitude",definition:"Dist\xE2ncia angular de um ponto em rela\xE7\xE3o \xE0 linha do Equador (0\xB0 a 90\xB0).",subject:"Geografia"},{word:"longitude",definition:"Dist\xE2ncia angular de um ponto em rela\xE7\xE3o ao Meridiano de Greenwich (0\xB0 a 180\xB0).",subject:"Geografia"},{word:"relevo",definition:"Conjunto de formas da superf\xEDcie terrestre (montanhas, plan\xEDcies, planaltos).",subject:"Geografia"},{word:"bioma",definition:"Grande \xE1rea geogr\xE1fica com flora, fauna e clima caracter\xEDsticos.",subject:"Geografia"},{word:"per\xEDmetro",definition:"Soma de todos os lados de uma figura geom\xE9trica.",subject:"Matem\xE1tica"},{word:"\xE1rea",definition:"Medida da superf\xEDcie de uma figura plana.",subject:"Matem\xE1tica"},{word:"volume",definition:"Medida do espa\xE7o ocupado por um s\xF3lido tridimensional.",subject:"Matem\xE1tica"},{word:"fra\xE7\xE3o",definition:"N\xFAmero que representa uma ou mais partes de um todo dividido.",subject:"Matem\xE1tica"},{word:"porcentagem",definition:"Raz\xE3o de um n\xFAmero para 100, representada pelo s\xEDmbolo %.",subject:"Matem\xE1tica"},{word:"equa\xE7\xE3o",definition:"Igualdade matem\xE1tica que cont\xE9m uma ou mais inc\xF3gnitas.",subject:"Matem\xE1tica"},{word:"vari\xE1vel",definition:"S\xEDmbolo que representa um valor desconhecido ou que pode variar.",subject:"Matem\xE1tica"},{word:"substantivo",definition:"Palavra que nomeia seres, objetos, lugares, sentimentos.",subject:"Portugu\xEAs"},{word:"verbo",definition:"Palavra que indica a\xE7\xE3o, estado ou fen\xF4meno da natureza.",subject:"Portugu\xEAs"},{word:"adjetivo",definition:"Palavra que caracteriza ou qualifica um substantivo.",subject:"Portugu\xEAs"},{word:"sujeito",definition:"Termo da ora\xE7\xE3o sobre o qual se declara algo.",subject:"Portugu\xEAs"},{word:"predicado",definition:"Termo da ora\xE7\xE3o que cont\xE9m a declara\xE7\xE3o sobre o sujeito.",subject:"Portugu\xEAs"},{word:"sintaxe",definition:"Parte da gram\xE1tica que estuda a rela\xE7\xE3o entre as palavras na frase.",subject:"Portugu\xEAs"},{word:"sem\xE2ntica",definition:"Estudo do significado das palavras e frases.",subject:"Portugu\xEAs"},{word:"met\xE1fora",definition:"Figura de linguagem que compara coisas sem usar conectivos (como, tal qual).",subject:"Portugu\xEAs"},{word:"imp\xE9rio",definition:"Forma de governo onde um imperador governa vastos territ\xF3rios.",subject:"Hist\xF3ria"},{word:"democracia",definition:"Sistema pol\xEDtico onde o poder \xE9 exercido pelo povo.",subject:"Hist\xF3ria"},{word:"revolu\xE7\xE3o",definition:"Mudan\xE7a radical e profunda nas estruturas pol\xEDticas, sociais ou econ\xF4micas.",subject:"Hist\xF3ria"},{word:"feudalismo",definition:"Sistema pol\xEDtico e econ\xF4mico da Idade M\xE9dia baseado em terras e vassalagem.",subject:"Hist\xF3ria"},{word:"absolutismo",definition:"Sistema de governo onde o rei tem poder total e ilimitado.",subject:"Hist\xF3ria"}];this.normalizedCache=new Map;this.buildCache()}buildCache(){this.glossary.forEach(e=>{let n=this.normalizeWord(e.word);this.normalizedCache.has(n)||this.normalizedCache.set(n,[]),this.normalizedCache.get(n).push(e)})}normalizeWord(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/s$/,"")}getDefinition(e){let n=this.normalizeWord(e.trim());return this.normalizedCache.has(n)?this.normalizedCache.get(n):null}hasDefinition(e){let n=this.normalizeWord(e.trim());return this.normalizedCache.has(n)}getEntriesBySubject(e){return this.glossary.filter(n=>n.subject===e)}getStatistics(){let e=new Set(this.glossary.map(n=>n.subject).filter(n=>n));return{totalEntries:this.glossary.length,subjects:Array.from(e),entriesBySubject:Array.from(e).map(n=>({subject:n,count:this.glossary.filter(i=>i.subject===n).length}))}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Tn=class t{constructor(){this.currentSession=C(null);this.completedSessions=C([]);console.log("\u{1F3AE} ActivitySessionService initialized")}startSession(e){this.currentSession()&&this.abandonSession();let n={id:crypto.randomUUID(),type:e,startedAt:Date.now(),status:"in_progress",questionsCount:0,questionsDifficulty:{easy:0,medium:0,hard:0},earnedXP:0};return this.currentSession.set(n),console.log(`\u25B6\uFE0F Sess\xE3o iniciada: ${e} [${n.id}]`),n.id}recordQuestion(e){let n=this.currentSession();if(!n){console.warn("\u26A0\uFE0F Tentativa de registrar quest\xE3o sem sess\xE3o ativa");return}let i=P(O({},n),{questionsCount:n.questionsCount+1,questionsDifficulty:P(O({},n.questionsDifficulty),{easy:n.questionsDifficulty.easy+(e==="F\xE1cil"?1:0),medium:n.questionsDifficulty.medium+(e==="M\xE9dio"?1:0),hard:n.questionsDifficulty.hard+(e==="Dif\xEDcil"?1:0)})});this.currentSession.set(i)}completeSession(){let e=this.currentSession();if(!e)return console.warn("\u26A0\uFE0F Tentativa de completar sess\xE3o inexistente"),0;let n=Yg(e.type,e.questionsDifficulty),i=P(O({},e),{status:"completed",completedAt:Date.now(),earnedXP:n});return this.completedSessions.update(r=>[i,...r].slice(0,50)),this.currentSession.set(null),console.log(`\u2705 Sess\xE3o completada: ${e.type} | ${e.questionsCount} quest\xF5es | +${n} XP`),n}abandonSession(){let e=this.currentSession();if(!e)return;let n=P(O({},e),{status:"abandoned",completedAt:Date.now(),earnedXP:0});this.currentSession.set(null),console.log(`\u274C Sess\xE3o abandonada: ${e.type} | ${e.questionsCount} quest\xF5es | +0 XP (sem b\xF4nus)`)}hasActiveSession(){return this.currentSession()!==null}getActiveSession(){return this.currentSession()}getStats(){let e=this.completedSessions();return{totalCompleted:e.length,totalXPEarned:e.reduce((n,i)=>n+i.earnedXP,0),byType:{quiz:e.filter(n=>n.type==="quiz").length,interpretation:e.filter(n=>n.type==="interpretation").length,resolution:e.filter(n=>n.type==="resolution").length}}}loadCompletedSessions(e){this.completedSessions.set(e.slice(0,50))}clearActiveSession(){this.currentSession.set(null)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var An=class t{constructor(){this.http=x($t);this.groups=C([]);this.currentIndex=C(0);this.answeredQuestions=C(new Map);this.isLoaded=C(!1);this.currentGroup=oe(()=>this.groups()[this.currentIndex()]);this.totalGroups=oe(()=>this.groups().length);this.userDataService=x(yt)}async loadInterpretations(){if(this.isLoaded()){console.log("Interpretations already loaded");return}try{console.log("\u{1F504} Loading interpretation questions...");let e=await Me(this.http.get("/questions/Quest\xF5es-Interpreta\xE7\xE3o.json"));console.log(`\u2713 Loaded ${e.length} interpretation questions`);let n=this.groupQuestions(e);console.log(`\u2713 Created ${n.length} interpretation groups`),this.groups.set(n),this.isLoaded.set(!0)}catch(e){throw console.error("\u2717 Error loading interpretation questions:",e),e}}groupQuestions(e){let n=new Map;return e.forEach(i=>{let r=i.grupo_id;n.has(r)||n.set(r,[]),n.get(r).push(i)}),Array.from(n.entries()).sort((i,r)=>i[0]-r[0]).map(([i,r])=>{let o=r.sort((s,a)=>s.id-a.id);return{groupId:i,theme:o[0].tema,supportText:o[0].texto_referencia,questions:o.map(s=>this.convertQuestion(s))}})}convertQuestion(e){let i={F\u00E1cil:"F\xE1cil",Facil:"F\xE1cil",M\u00E9dia:"M\xE9dio",Media:"M\xE9dio",M\u00E9dio:"M\xE9dio",Medio:"M\xE9dio",Dif\u00EDcil:"Dif\xEDcil",Dificil:"Dif\xEDcil"}[e.dificuldade]||"M\xE9dio",r=e.alternativas.findIndex(o=>o.trim().toLowerCase()===e.correta.trim().toLowerCase());return{id:e.id,subject:e.materia,text:e.enunciado,options:e.alternativas,correctIndex:r!==-1?r:0,explanation:e.explicacao_base,difficulty:i,supportText:e.texto_referencia,groupId:e.grupo_id,theme:e.tema}}getGroups(){return this.groups()}getCurrentGroup(){return this.currentGroup()}getCurrentIndex(){return this.currentIndex()}nextGroup(){return this.currentIndex()<this.groups().length-1?(this.currentIndex.update(e=>e+1),!0):!1}previousGroup(){return this.currentIndex()>0?(this.currentIndex.update(e=>e-1),!0):!1}goToGroup(e){return e>=0&&e<this.groups().length?(this.currentIndex.set(e),!0):!1}async recordInterpretationAttempt(e,n){let r=(await this.userDataService.loadUserData()).user.interpretationHistory||[],o={questionId:e,timestamp:Date.now(),wasCorrect:n},s=r.filter(a=>a.questionId!==e);s.push(o),this.userDataService.saveUserInterpretationHistory(s)}submitAnswer(e,n){this.answeredQuestions.update(i=>{let r=new Map(i);return r.set(e,n),r})}getAnswer(e){return this.answeredQuestions().get(e)}clearCurrentGroupAnswers(){let e=this.getCurrentGroup();e&&this.answeredQuestions.update(n=>{let i=new Map(n);return e.questions.forEach(r=>i.delete(r.id)),i})}isCurrentGroupComplete(){let e=this.getCurrentGroup();return e?e.questions.every(n=>this.answeredQuestions().has(n.id)):!1}getCurrentGroupScore(){let e=this.getCurrentGroup();if(!e)return{correct:0,total:0};let n=0;return e.questions.forEach(i=>{this.answeredQuestions().get(i.id)===i.correctIndex&&n++}),{correct:n,total:e.questions.length}}resetProgress(){this.currentIndex.set(0),this.answeredQuestions.set(new Map)}getProgress(){let e=0,n=0;return this.groups().forEach(i=>{i.questions.forEach(r=>{n++,this.answeredQuestions().get(r.id)===r.correctIndex&&e++})}),{currentGroupIndex:this.currentIndex(),answeredQuestions:this.answeredQuestions(),correctAnswers:e,totalQuestions:n}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Xi=class t{constructor(){this.http=x($t);this.contentService=x(xe);this.userDataService=x(yt);this.interpretationService=x(An);this.quizResolutions=C([]);this.interpretationResolutions=C([]);this.isLoaded=C(!1)}async loadResolutions(){if(!this.isLoaded())try{let e=await Me(this.http.get("/questions/Resolu\xE7\xE3o-Simulados.json")).catch(()=>[]),n=await Me(this.http.get("/questions/Resolu\xE7\xE3o-Interpreta\xE7\xE3o.json")).catch(()=>[]);this.quizResolutions.set(e),this.interpretationResolutions.set(n),this.isLoaded.set(!0)}catch(e){console.error("Error loading Resolutions:",e)}}async getFilteredQuestions(e,n){let i=await this.userDataService.loadUserData(),r=[];e==="quiz"?(await this.contentService.loadQuestionsFromFiles(),r=this.contentService.getQuestions()):(await this.interpretationService.loadInterpretations(),r=this.interpretationService.getGroups().flatMap(s=>s.questions));let o=e==="quiz"?i.user.questionHistory:i.user.interpretationHistory;switch(n){case"wrong":let s=o.filter(c=>!c.wasCorrect).map(c=>c.questionId);return r.filter(c=>s.includes(c.id));case"correct":let a=o.filter(c=>c.wasCorrect).map(c=>c.questionId);return r.filter(c=>a.includes(c.id));case"new":let l=o.map(c=>c.questionId);return r.filter(c=>!l.includes(c.id));default:return[...r].sort(()=>Math.random()-.5)}}getResolutionForQuestion(e,n){return(n==="quiz"?this.quizResolutions():this.interpretationResolutions()).find(r=>r.questionId===e)||null}markResolutionAsViewed(e){let n=this.userDataService.getUserData();if(!n)return;let i=n.user.resolutionsHistory||[];if(!i.find(o=>o.questionId===e)){let o=[...i,{questionId:e,timestamp:Date.now(),viewedAt:Date.now()}];this.userDataService.saveUserResolutionsHistory(o)}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};function iD(t,e){if(t&1&&(p(0,"span",12),u(1),m()),t&2){let n=b().$implicit;f(),S(n.subject)}}function rD(t,e){if(t&1&&(p(0,"div",9)(1,"p",10),u(2),m(),oi(3,iD,2,1,"span",11),m()),t&2){let n=e.$implicit;f(2),S(n.definition),f(),J("ngIf",n.subject)}}function oD(t,e){if(t&1&&(p(0,"div"),oi(1,rD,4,2,"div",8),m()),t&2){let n=b(2);f(),J("ngForOf",n.definitions)}}function sD(t,e){t&1&&(p(0,"p",13)(1,"span",14),u(2,"\u{1F4D6}"),m(),u(3," Defini\xE7\xE3o n\xE3o encontrada no gloss\xE1rio. "),m())}function aD(t,e){if(t&1){let n=B();p(0,"div",2)(1,"div",3)(2,"h3",4),u(3),m(),p(4,"button",5),V("click",function(){M(n);let r=b();return T(r.closePopup())}),u(5," \xD7 "),m()(),p(6,"div",6),oi(7,oD,2,1,"div",7)(8,sD,4,0,"ng-template",null,0,Uu),m()()}if(t&2){let n=Vu(9),i=b();$("animating",i.isAnimating()),J("ngStyle",i.getPopupStyle()),f(3),S(i.word),f(4),J("ngIf",i.definitions&&i.definitions.length>0)("ngIfElse",n)}}var ka=class t{constructor(){this.word="";this.definitions=null;this.position={x:0,y:0};this.visible=!1;this.close=new ce;this.isAnimating=C(!1);jt(()=>{this.visible?this.isAnimating.set(!0):this.isAnimating.set(!1)})}closePopup(){this.close.emit()}getPopupStyle(){return{position:"fixed",left:`${this.position.x}px`,top:`${this.position.y}px`,transform:"translate(-50%, -110%)"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-word-popup"]],inputs:{word:"word",definitions:"definitions",position:"position",visible:"visible"},outputs:{close:"close"},decls:1,vars:1,consts:[["noDefinition",""],["class","word-popup",3,"ngStyle","animating",4,"ngIf"],[1,"word-popup",3,"ngStyle"],[1,"popup-header"],[1,"popup-title"],["aria-label","Fechar",1,"close-btn",3,"click"],[1,"popup-content"],[4,"ngIf","ngIfElse"],["class","definition-entry",4,"ngFor","ngForOf"],[1,"definition-entry"],[1,"definition-text"],["class","subject-badge",4,"ngIf"],[1,"subject-badge"],[1,"no-definition"],[1,"icon"]],template:function(n,i){n&1&&oi(0,aD,10,6,"div",1),n&2&&J("ngIf",i.visible)},dependencies:[ne,aa,cd,ud],styles:['.word-popup[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:12px;padding:0;min-width:280px;max-width:400px;box-shadow:0 10px 40px #0000004d;z-index:10000;opacity:0;transform:scale(.9);transition:opacity .2s ease,transform .2s ease;overflow:hidden}.word-popup.animating[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.popup-header[_ngcontent-%COMP%]{background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:12px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.popup-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:600;color:#fff;text-transform:capitalize}.close-btn[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:1.5rem;width:28px;height:28px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s ease;padding:0;line-height:1}.close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.popup-content[_ngcontent-%COMP%]{background:#fff;padding:16px}.definition-entry[_ngcontent-%COMP%]{margin-bottom:12px}.definition-entry[_ngcontent-%COMP%]:last-child{margin-bottom:0}.definition-text[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.95rem;line-height:1.5;color:#333}.subject-badge[_ngcontent-%COMP%]{display:inline-block;padding:3px 10px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px;font-size:.75rem;font-weight:600}.no-definition[_ngcontent-%COMP%]{margin:0;padding:12px;text-align:center;color:#666;font-size:.9rem;display:flex;flex-direction:column;align-items:center;gap:8px}.no-definition[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem}.word-popup[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.word-popup[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:50%;transform:translate(-50%);width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid white}']})}};var lD=(t,e)=>e.id;function cD(t,e){if(t&1&&A(0,"div",9),t&2){let n=e.$implicit;De("left",n.left,"%")("animation-delay",n.delay,"s")("background-color",n.color)}}function uD(t,e){if(t&1&&(h(0,"p",6),u(1),v()),t&2){let n=b();f(),S(n.message())}}function dD(t,e){if(t&1&&(h(0,"div",7)(1,"span",10),u(2,"\u26A1"),v(),h(3,"span",11),u(4),v()()),t&2){let n=b();f(4),N("+",n.xpEarned," XP")}}function fD(t,e){if(t&1){let n=B();h(0,"button",12),Q("click",function(){M(n);let r=b();return T(r.close())}),u(1),v()}if(t&2){let n=b();f(),N(" ",n.buttonText()," ")}}var Ra=class t{constructor(){this.type="correct";this.xpEarned=0;this.autoClose=!0;this.autoCloseDelay=2e3;this.closed=new ce;this.isVisible=C(!1);this.confettiPieces=[];this.icon=C("\u{1F389}");this.title=C("Parab\xE9ns!");this.message=C("");this.showButton=C(!1);this.buttonText=C("Continuar")}get xpEarnedValue(){return this.xpEarned}ngOnInit(){this.setupCelebration(),this.generateConfetti(),setTimeout(()=>this.isVisible.set(!0),10),this.autoClose&&this.type!=="completion"&&setTimeout(()=>this.close(),this.autoCloseDelay)}setupCelebration(){switch(this.type){case"correct":this.icon.set("\u2728"),this.title.set(this.customTitle||this.getRandomCorrectMessage()),this.message.set(this.customMessage||""),this.showButton.set(!1);break;case"streak":this.icon.set("\u{1F525}"),this.title.set(this.customTitle||"Sequ\xEAncia Incr\xEDvel!"),this.message.set(this.customMessage||"Continue assim!"),this.showButton.set(!1);break;case"completion":this.icon.set("\u{1F38A}"),this.title.set(this.customTitle||"Simulado Completo!"),this.message.set(this.customMessage||"Voc\xEA terminou todas as quest\xF5es!"),this.showButton.set(!0),this.buttonText.set("Ver Resultado");break;case"achievement":this.icon.set("\u{1F3C6}"),this.title.set(this.customTitle||"Conquista Desbloqueada!"),this.message.set(this.customMessage||""),this.showButton.set(!0),this.buttonText.set("Continuar");break}}generateConfetti(){let e=["#000000","#FFFFFF","#333333","#666666","#999999","#CCCCCC"];for(let i=0;i<40;i++)this.confettiPieces.push({id:i,left:Math.random()*100,delay:Math.random()*.5,color:e[Math.floor(Math.random()*e.length)]})}getRandomCorrectMessage(){let e=["Muito bem!","Excelente!","Perfeito!","Incr\xEDvel!","Mandou bem!","Arrasou!","Cert\xEDssimo!","Show! \u{1F44F}"];return e[Math.floor(Math.random()*e.length)]}close(){this.isVisible.set(!1),setTimeout(()=>this.closed.emit(),300)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-celebration"]],inputs:{type:"type",xpEarned:"xpEarned",customTitle:"customTitle",customMessage:"customMessage",autoClose:"autoClose",autoCloseDelay:"autoCloseDelay"},outputs:{closed:"closed"},decls:12,vars:9,consts:[[1,"celebration-overlay",3,"click"],[1,"confetti-container"],[1,"confetti",3,"left","animation-delay","background-color"],[1,"celebration-content"],[1,"celebration-icon"],[1,"celebration-title"],[1,"celebration-message"],[1,"xp-badge"],[1,"celebration-button"],[1,"confetti"],[1,"xp-icon"],[1,"xp-amount"],[1,"celebration-button",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0),Q("click",function(){return i.close()}),h(1,"div",1),Y(2,cD,1,6,"div",2,lD),v(),h(4,"div",3)(5,"div",4),u(6),v(),h(7,"h2",5),u(8),v(),w(9,uD,2,1,"p",6),w(10,dD,5,1,"div",7),w(11,fD,2,1,"button",8),v()()),n&2&&($("show",i.isVisible()),f(2),Z(i.confettiPieces),f(2),$("show",i.isVisible()),f(2),S(i.icon()),f(2),S(i.title()),f(),I(i.message()?9:-1),f(),I(i.xpEarned>0?10:-1),f(),I(i.showButton()?11:-1))},dependencies:[ne],styles:[".celebration-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:10000;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s ease}.celebration-overlay.show[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.confetti-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;pointer-events:none}.confetti[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;top:-10px;animation:_ngcontent-%COMP%_confetti-fall 2.5s linear forwards;border-radius:2px}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(0) rotate(0);opacity:1}to{transform:translateY(100vh) rotate(360deg);opacity:0}}.celebration-content[_ngcontent-%COMP%]{background:#fff;border:2px solid black;border-radius:16px;padding:40px 32px;max-width:400px;width:90%;text-align:center;box-shadow:0 8px 32px #0000001f;transform:scale(.8);opacity:0;transition:all .4s cubic-bezier(.34,1.56,.64,1)}.celebration-content.show[_ngcontent-%COMP%]{transform:scale(1);opacity:1}.celebration-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;animation:_ngcontent-%COMP%_bounce .6s ease infinite alternate}@keyframes _ngcontent-%COMP%_bounce{0%{transform:translateY(0)}to{transform:translateY(-8px)}}.celebration-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin:0 0 8px;color:#000}.celebration-message[_ngcontent-%COMP%]{font-size:16px;margin:0 0 20px;color:#666}.xp-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:#f5f5f5;padding:10px 20px;border-radius:50px;font-size:20px;font-weight:700;margin-bottom:20px;border:1px solid #e0e0e0;color:#000}.xp-icon[_ngcontent-%COMP%]{font-size:22px;animation:_ngcontent-%COMP%_pulse 1s ease infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.15)}}.celebration-button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;padding:12px 32px;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease}.celebration-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0003}@media(max-width:600px){.celebration-content[_ngcontent-%COMP%]{padding:32px 24px}.celebration-icon[_ngcontent-%COMP%]{font-size:52px}.celebration-title[_ngcontent-%COMP%]{font-size:22px}.celebration-message[_ngcontent-%COMP%]{font-size:14px}}"]})}};var Nn=class t{constructor(){this.sanitizer=x(Id)}transform(e){if(!e)return"";let n=this.escapeHtml(e);return typeof katex>"u"?(n=n.replace(/\$([^$]+)\$/g,(i,r)=>r.replace(/\\cdot/g,"\xB7").replace(/\\times/g,"\xD7").replace(/\\to/g,"\u2192").replace(/\\Delta/g,"\u0394").replace(/\\approx/g,"\u2248").replace(/\\pi/g,"\u03C0").replace(/\\leq/g,"\u2264").replace(/\\geq/g,"\u2265").replace(/\\neq/g,"\u2260").replace(/\\,/g," ").replace(/_\{([^}]+)\}/g,"$1").replace(/_([a-zA-Z0-9])/g,"$1").replace(/\^{([^}]+)}/g,"$1").replace(/\^([a-zA-Z0-9])/g,"$1").replace(/\\\\/g,"")),this.sanitizer.bypassSecurityTrustHtml(n)):(n=n.replace(/\$([^$]+)\$/g,(i,r)=>{try{let o=r.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');return katex.renderToString(o,{throwOnError:!1,displayMode:!1,output:"html"})}catch{return r}}),this.sanitizer.bypassSecurityTrustHtml(n))}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=ji({name:"latex",type:t,pure:!0})}};var pD=()=>[5,10,20,50],mD=()=>["A","B","C","D","E"];function hD(t,e){if(t&1&&(p(0,"div",1),D(1,"div",5),p(2,"h3",6),u(3,"Preparando Simulado"),m(),p(4,"p",7),u(5),m()()),t&2){let n=b();f(5),S(n.loadingMessage())}}function gD(t,e){if(t&1){let n=B();p(0,"button",28),V("click",function(){let r=M(n).$implicit,o=b(2);return T(o.toggleSubject(r))}),u(1),m()}if(t&2){let n=e.$implicit,i=b(2);$("bg-black",i.config().selectedSubjects.includes(n))("text-white",i.config().selectedSubjects.includes(n))("border-black",i.config().selectedSubjects.includes(n))("bg-white",!i.config().selectedSubjects.includes(n))("text-slate-500",!i.config().selectedSubjects.includes(n))("border-slate-200",!i.config().selectedSubjects.includes(n))("hover:border-slate-300",!i.config().selectedSubjects.includes(n)),f(),N(" ",n," ")}}function vD(t,e){if(t&1){let n=B();p(0,"button",29),V("click",function(){let r=M(n).$implicit,o=b(2);return T(o.setQuestionCount(r))}),u(1),m()}if(t&2){let n=e.$implicit,i=b(2);$("bg-white",i.config().questionCount===n)("text-black",i.config().questionCount===n)("shadow-sm",i.config().questionCount===n)("text-slate-500",i.config().questionCount!==n),f(),S(n)}}function yD(t,e){if(t&1){let n=B();p(0,"div",2)(1,"div",8)(2,"div",9)(3,"div",10),D(4,"i",11),m(),p(5,"h2",12),u(6,"Configura\xE7\xE3o do Simulado"),m(),p(7,"p",13),u(8,"Personalize sua experi\xEAncia de prova com quest\xF5es do banco local."),m()(),p(9,"div",14)(10,"div")(11,"div",15)(12,"label",16),u(13,"Mat\xE9rias"),m(),p(14,"button",17),V("click",function(){M(n);let r=b();return T(r.setStandardSubjects())}),u(15,"Selecionar Todas"),m()(),p(16,"div",18),Y(17,gD,2,15,"button",19,Bt),m()(),p(19,"div",20)(20,"div")(21,"label",21),u(22,"Quantidade"),m(),p(23,"div",22),Y(24,vD,2,9,"button",23,Bt),m()(),p(26,"div")(27,"label",21),u(28,"Dificuldade"),m(),p(29,"div",24)(30,"button",25),V("click",function(){M(n);let r=b();return T(r.setDifficulty("Mista"))}),u(31,"Mista"),m(),p(32,"button",25),V("click",function(){M(n);let r=b();return T(r.setDifficulty("F\xE1cil"))}),u(33,"F\xE1cil"),m(),p(34,"button",25),V("click",function(){M(n);let r=b();return T(r.setDifficulty("M\xE9dio"))}),u(35,"M\xE9dio"),m(),p(36,"button",25),V("click",function(){M(n);let r=b();return T(r.setDifficulty("Dif\xEDcil"))}),u(37,"Dif\xEDcil"),m()()()()(),p(38,"div",26)(39,"button",27),V("click",function(){M(n);let r=b();return T(r.startQuiz())}),u(40," Come\xE7ar Simulado "),m()()()()}if(t&2){let n=b();f(17),Z(n.availableSubjects()),f(7),Z(cn(24,pD)),f(6),$("bg-black",n.config().difficulty==="Mista")("text-white",n.config().difficulty==="Mista")("border-black",n.config().difficulty==="Mista"),f(2),$("bg-green-100",n.config().difficulty==="F\xE1cil")("text-green-800",n.config().difficulty==="F\xE1cil")("border-green-200",n.config().difficulty==="F\xE1cil"),f(2),$("bg-yellow-100",n.config().difficulty==="M\xE9dio")("text-yellow-800",n.config().difficulty==="M\xE9dio")("border-yellow-200",n.config().difficulty==="M\xE9dio"),f(2),$("bg-red-100",n.config().difficulty==="Dif\xEDcil")("text-red-800",n.config().difficulty==="Dif\xEDcil")("border-red-200",n.config().difficulty==="Dif\xEDcil")}}function bD(t,e){if(t&1&&(p(0,"div",66),u(1),m()),t&2){let n=b(3);$("bg-red-50",n.timeLeft()<60)("text-red-600",n.timeLeft()<60),f(),N(" ",n.formattedTime()," ")}}function _D(t,e){if(t&1&&(p(0,"div",42)(1,"h4",67),D(2,"i",68),u(3," Texto de Refer\xEAncia "),m(),D(4,"p",69),_e(5,"latex"),m()),t&2){let n=b(3);f(4),J("innerHTML",Be(5,1,n.questions()[n.currentIndex()].supportText),je)}}function CD(t,e){if(t&1&&(p(0,"div",43),D(1,"img",70),m()),t&2){let n=b(3);f(),J("src",n.questions()[n.currentIndex()].imageUrl,tn)("alt","Imagem da quest\xE3o "+(n.currentIndex()+1))}}function xD(t,e){if(t&1&&D(0,"div",88),t&2){let n=e.$index,i=b(4);$("bg-blue-500",n===i.currentHintStepIndex())("bg-blue-200",n!==i.currentHintStepIndex())}}function ED(t,e){if(t&1){let n=B();p(0,"div",45)(1,"div",71)(2,"div",72)(3,"h4",73),D(4,"i",74),u(5),m(),p(6,"button",75),V("click",function(){M(n);let r=b(3);return T(r.currentHint.set(null))}),D(7,"i",76),m()(),p(8,"div",77)(9,"div",78)(10,"div",79),u(11),m(),p(12,"h5",80),u(13),m(),D(14,"p",81),_e(15,"latex"),m()(),p(16,"div",82)(17,"button",83),V("click",function(){M(n);let r=b(3);return T(r.prevHintStep())}),D(18,"i",84),u(19," Anterior "),m(),p(20,"div",85),Y(21,xD,1,4,"div",86,Ze),m(),p(23,"button",83),V("click",function(){M(n);let r=b(3);return T(r.nextHintStep())}),u(24," Pr\xF3ximo "),D(25,"i",87),m()()()()}if(t&2){let n=b(3);f(5),Qe(" Dica: Passo ",n.currentHintStepIndex()+1," de ",n.currentHint().steps.length," ");let i=n.currentHint().steps[n.currentHintStepIndex()];f(6),N(" ",n.currentHintStepIndex()+1," "),f(2),S(i.title),f(),J("innerHTML",Be(15,7,i.content),je),f(3),J("disabled",n.currentHintStepIndex()===0),f(4),Z(n.currentHint().steps),f(2),J("disabled",n.currentHintStepIndex()>=1||n.currentHintStepIndex()>=n.currentHint().steps.length-1)}}function DD(t,e){if(t&1){let n=B();p(0,"button",89),V("click",function(){let r=M(n).$index,o=b(3);return T(o.selectOption(r))}),p(1,"div",90),u(2),m(),D(3,"span",91),_e(4,"latex"),m()}if(t&2){let n=e.$implicit,i=e.$index,r=b(3);$("border-slate-100",r.selectedOptionIndex()!==i&&!r.isAnswered())("hover:border-slate-300",r.selectedOptionIndex()!==i&&!r.isAnswered())("bg-white",r.selectedOptionIndex()!==i)("border-black",r.selectedOptionIndex()===i&&!r.isAnswered())("bg-slate-50",r.selectedOptionIndex()===i&&!r.isAnswered())("border-slate-300",r.isAnswered()&&r.selectedOptionIndex()===i)("bg-slate-50",r.isAnswered()&&r.selectedOptionIndex()===i),J("disabled",r.isAnswered()),f(),$("bg-slate-100",r.selectedOptionIndex()!==i&&!r.isAnswered())("text-slate-500",r.selectedOptionIndex()!==i&&!r.isAnswered())("bg-black",r.selectedOptionIndex()===i&&!r.isAnswered())("text-white",r.selectedOptionIndex()===i&&!r.isAnswered())("bg-slate-400",r.isAnswered()&&r.selectedOptionIndex()===i)("text-white",r.isAnswered()&&r.selectedOptionIndex()===i),f(),N(" ",cn(31,mD)[i]," "),f(),J("innerHTML",Be(4,29,n),je)}}function wD(t,e){if(t&1){let n=B();p(0,"button",92),V("click",function(){M(n);let r=b(3);return T(r.skipQuestion())}),u(1," Pular "),D(2,"i",93),m()}}function ID(t,e){if(t&1){let n=B();p(0,"button",94),V("click",function(){M(n);let r=b(3);return T(r.submitAnswer())}),u(1," Confirmar Resposta "),m()}if(t&2){let n=b(3);J("disabled",n.selectedOptionIndex()===null)}}function SD(t,e){t&1&&u(0," Pr\xF3xima Quest\xE3o ")}function MD(t,e){t&1&&u(0," Finalizar ")}function TD(t,e){if(t&1){let n=B();p(0,"button",95),V("click",function(){M(n);let r=b(3);return T(r.nextQuestion())}),w(1,SD,1,0)(2,MD,1,0),D(3,"i",96),m()}if(t&2){let n=b(3);f(),I(n.currentIndex()<n.questions().length-1?1:2)}}function AD(t,e){if(t&1){let n=B();p(0,"button",97),V("click",function(){let r=M(n).$index,o=b(3);return T(o.goToQuestion(r))}),u(1),m()}if(t&2){let n=e.$index,i=b(3);$("bg-green-500",i.answeredIndices().has(n))("text-white",i.answeredIndices().has(n))("border-green-500",i.answeredIndices().has(n))("bg-white",!i.answeredIndices().has(n)&&i.currentIndex()!==n)("text-slate-400",!i.answeredIndices().has(n)&&i.currentIndex()!==n)("border-slate-100",!i.answeredIndices().has(n)&&i.currentIndex()!==n)("border-black",i.currentIndex()===n)("ring-2",i.currentIndex()===n)("ring-slate-100",i.currentIndex()===n)("text-black",i.currentIndex()===n&&!i.answeredIndices().has(n)),f(),N(" ",n+1," ")}}function ND(t,e){if(t&1&&(p(0,"div",65)(1,"h4",98),D(2,"i",99),u(3," Explica\xE7\xE3o "),m(),D(4,"p",100),_e(5,"latex"),m()),t&2){let n=b(3);f(4),J("innerHTML",Be(5,1,n.explanationText()),je)}}function OD(t,e){if(t&1){let n=B();p(0,"div",31)(1,"div",32)(2,"div",33)(3,"button",34),V("click",function(){M(n);let r=b(2);return T(r.exitQuiz())}),D(4,"i",35),u(5," Sair "),m(),p(6,"div",36)(7,"div",37),u(8," Quest\xE3o "),p(9,"span",38),u(10),m(),u(11),m(),w(12,bD,2,5,"div",39),m()(),p(13,"div",40)(14,"span",41),u(15),m(),w(16,_D,6,3,"div",42),w(17,CD,2,2,"div",43),D(18,"h2",44),_e(19,"latex"),w(20,ED,26,9,"div",45),p(21,"div",46),Y(22,DD,5,32,"button",47,Ze),m()(),p(24,"div",48)(25,"div",49)(26,"button",50),V("click",function(){M(n);let r=b(2);return T(r.previousQuestion())}),D(27,"i",51),u(28," Voltar "),m(),w(29,wD,3,0,"button",52),m(),p(30,"div"),w(31,ID,2,1,"button",53)(32,TD,4,1,"button",54),m()()(),p(33,"div",55)(34,"div",56)(35,"div",15)(36,"h3",16),u(37,"Quest\xF5es"),m(),p(38,"span",57),u(39),m()(),p(40,"div",58),Y(41,AD,2,21,"button",59,Ze),m(),p(43,"div",60)(44,"div",61),D(45,"div",62),u(46," Respondida "),m(),p(47,"button",63),V("click",function(){M(n);let r=b(2);return T(r.showHint())}),D(48,"i",64),u(49," Ver Dica "),m()()()()(),w(50,ND,6,3,"div",65)}if(t&2){let n=b(2);f(10),S(n.currentIndex()+1),f(),N("/",n.questions().length," "),f(),I(n.config().timerMinutes>0?12:-1),f(3),N(" ",n.questions()[n.currentIndex()].subject," "),f(),I(n.questions()[n.currentIndex()].supportText?16:-1),f(),I(n.questions()[n.currentIndex()].imageUrl?17:-1),f(),J("innerHTML",Be(19,14,n.questions()[n.currentIndex()].text),je),f(2),I(n.currentHint()?20:-1),f(2),Z(n.questions()[n.currentIndex()].options),f(4),J("disabled",n.currentIndex()===0),f(3),I(n.isAnswered()?-1:29),f(2),I(n.isAnswered()?32:31),f(8),Qe("",n.answeredIndices().size," / ",n.questions().length),f(2),Z(n.questions()),f(9),I(n.explanationText()?50:-1)}}function kD(t,e){if(t&1){let n=B();p(0,"div",30)(1,"div",101),D(2,"i",102),m(),p(3,"h2",103),u(4,"Simulado Conclu\xEDdo!"),m(),p(5,"p",104),u(6,"Confira seu desempenho abaixo"),m(),p(7,"div",105)(8,"span",106),u(9),m(),p(10,"span",107),u(11),m()(),p(12,"button",108),V("click",function(){M(n);let r=b(2);return T(r.exitQuiz())}),u(13," Voltar ao Dashboard "),m()()}if(t&2){let n=b(2);f(9),S(n.score()),f(2),N("/ ",n.questions().length)}}function RD(t,e){if(t&1&&w(0,OD,51,16)(1,kD,14,2,"div",30),t&2){let n=b();I(n.quizFinished()?1:0)}}function PD(t,e){if(t&1){let n=B();p(0,"app-celebration",109),V("closed",function(){M(n);let r=b();return T(r.closeCelebration())}),m()}if(t&2){let n=b();J("type",n.celebrationType())("xpEarned",n.celebrationXP())("autoClose",n.celebrationType()!=="completion")}}var Pa=class t{constructor(){this.contentService=x(xe);this.questionHistory=x(zt);this.dictionary=x(Oa);this.activitySession=x(Tn);this.resolutionsService=x(Xi);this.availableSubjects=C(this.contentService.getSubjects());this.config=C({selectedSubjects:[],questionCount:50,difficulty:"Mista",timerMinutes:240});this.quizActive=C(!1);this.questions=C([]);this.currentIndex=C(0);this.selectedOptionIndex=C(null);this.isAnswered=C(!1);this.isCorrect=C(!1);this.score=C(0);this.quizFinished=C(!1);this.answeredIndices=C(new Set);this.userAnswers=C(new Map);this.currentHint=C(null);this.currentHintStepIndex=C(0);this.showCelebration=C(!1);this.celebrationType=C("correct");this.celebrationXP=C(0);this.isPreparing=C(!1);this.loadingMessage=C("Organizando quest\xF5es...");this.timeLeft=C(0);this.explanationText=C(null);this.selectedFiles=C([]);this.availableFiles=this.contentService.getAvailableFiles();this.showWordPopup=C(!1);this.selectedWord=C("");this.wordDefinitions=C(null);this.popupPosition=C({x:0,y:0});this.formattedTime=oe(()=>{let e=this.timeLeft(),n=Math.floor(e/3600),i=Math.floor(e%3600/60),r=e%60;return n>0?`${n}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`});this.MAX_HINT_STEPS=2;this.config.update(e=>P(O({},e),{selectedSubjects:[...this.availableSubjects()]})),this.loadLocalQuestions()}async loadLocalQuestions(){try{await this.contentService.loadQuestionsFromFiles();let e=this.contentService.getQuestions().length;console.log(`QuizComponent: ${e} questions available for quizzes`);let n=this.contentService.getSubjects();this.availableSubjects.set(n),this.config.update(i=>P(O({},i),{selectedSubjects:[...n]})),this.resolutionsService.loadResolutions()}catch(e){console.error("Failed to load questions from files, using fallback:",e)}}ngOnDestroy(){this.stopTimer()}toggleSubject(e){this.config.update(n=>{let i=n.selectedSubjects.includes(e),r;return i?r=n.selectedSubjects.filter(o=>o!==e):r=[...n.selectedSubjects,e],P(O({},n),{selectedSubjects:r})})}setQuestionCount(e){this.config.update(n=>P(O({},n),{questionCount:e}))}setDifficulty(e){this.config.update(n=>P(O({},n),{difficulty:e}))}setTimer(e){this.config.update(n=>P(O({},n),{timerMinutes:e}))}setStandardSubjects(){this.config.update(e=>P(O({},e),{selectedSubjects:[...this.availableSubjects()]}))}shuffleArray(e){let n=[...e];for(let i=n.length-1;i>0;i--){let r=Math.floor(Math.random()*(i+1));[n[i],n[r]]=[n[r],n[i]]}return n}distributeBalanced(e,n,i,r){let o=r?e.filter(g=>g.difficulty===r):e;if(o.length===0)return[];let s=[],a=new Set,l=Math.floor(n/i.length),c=n%i.length,d=this.shuffleArray([...i]);for(let g of d){let _=o.filter(k=>k.subject===g&&!a.has(k.id));if(_.length===0)continue;let y=this.shuffleArray(_),E=Math.min(l,y.length);for(let k=0;k<E;k++)s.push(y[k]),a.add(y[k].id)}if(s.length<n&&c>0){let g=new Map;d.forEach(y=>{g.set(y,s.filter(E=>E.subject===y).length)});let _=[...d].sort((y,E)=>(g.get(y)||0)-(g.get(E)||0));for(let y of _){if(s.length>=n)break;let E=o.filter(k=>k.subject===y&&!a.has(k.id));if(E.length>0){let k=this.shuffleArray(E);s.push(k[0]),a.add(k[0].id)}}}return this.shuffleArray(s)}distributeMixedMode(e,n,i){let r=Math.round(n*.2),o=Math.round(n*.5),s=Math.round(n*.3),a=this.distributeBalanced(e,r,i,"F\xE1cil"),l=this.distributeBalanced(e,o,i,"M\xE9dio"),c=this.distributeBalanced(e,s,i,"Dif\xEDcil"),d=[...a,...l,...c];if(d.length<n){let g=new Set(d.map(E=>E.id)),_=e.filter(E=>!g.has(E.id)),y=this.distributeBalanced(_,n-d.length,i);d=[...d,...y]}return this.shuffleArray(d.slice(0,n))}async startQuiz(){if(this.config().selectedSubjects.length===0){alert("Selecione pelo menos uma mat\xE9ria.");return}this.isPreparing.set(!0),this.loadingMessage.set("Preparando simulado...");try{let e=this.contentService.getQuestions(),n=this.config().questionCount,i=this.config().selectedSubjects,r=this.config().difficulty,o=e.filter(d=>this.questionHistory.canShowQuestion(d.id));console.log(`\u{1F504} Spaced repetition: ${e.length-o.length} questions blocked`);let s=o.filter(d=>i.includes(d.subject)),a=[];if(r==="Mista")a=this.distributeMixedMode(s,n,i);else{let d=s.filter(g=>g.difficulty===r);a=this.distributeBalanced(d,n,i,r)}if(a=a.slice(0,n),a.length===0){this.isPreparing.set(!1);let d=e.length-o.length;d>0?confirm(`N\xE3o h\xE1 quest\xF5es dispon\xEDveis!

${d} quest\xF5es est\xE3o bloqueadas pelo sistema de repeti\xE7\xE3o espa\xE7ada.

Deseja limpar o hist\xF3rico e liberar todas as quest\xF5es?`)&&(this.questionHistory.clearHistory(),alert(`\u2705 Hist\xF3rico limpo com sucesso!

Todas as quest\xF5es est\xE3o dispon\xEDveis novamente.

Clique em "Come\xE7ar Simulado" para tentar novamente.`)):alert("N\xE3o h\xE1 quest\xF5es dispon\xEDveis com os filtros selecionados. Tente outras mat\xE9rias ou dificuldades.");return}if(a.length<n){let d=e.length-o.length,g=`Apenas ${a.length} quest\xF5es dispon\xEDveis (voc\xEA pediu ${n}).`;if(d>0?(g+=`

${d} quest\xF5es est\xE3o bloqueadas pelo sistema de repeti\xE7\xE3o espa\xE7ada.`,g+=`

Deseja continuar com ${a.length} quest\xF5es ou limpar o hist\xF3rico?`):g+=`

Deseja continuar?`,!confirm(g)){this.isPreparing.set(!1),d>0&&confirm("Deseja limpar o hist\xF3rico e liberar todas as quest\xF5es?")&&(this.questionHistory.clearHistory(),alert(`\u2705 Hist\xF3rico limpo com sucesso!

Todas as quest\xF5es est\xE3o dispon\xEDveis novamente.

Clique em "Come\xE7ar Simulado" para tentar novamente.`));return}}let l={total:a.length,f\u00E1cil:a.filter(d=>d.difficulty==="F\xE1cil").length,m\u00E9dio:a.filter(d=>d.difficulty==="M\xE9dio").length,dif\u00EDcil:a.filter(d=>d.difficulty==="Dif\xEDcil").length,porMateria:i.map(d=>({materia:d,count:a.filter(g=>g.subject===d).length,percentual:(a.filter(g=>g.subject===d).length/a.length*100).toFixed(1)+"%"})),comRecursos:{imagem:a.filter(d=>d.imageUrl).length,textoApoio:a.filter(d=>d.supportText).length}};console.log("\u{1F4CA} Distribui\xE7\xE3o do Simulado:",l);let c=a.map(d=>this.contentService.shuffleQuestion(d));this.questions.set(c),this.currentIndex.set(0),this.score.set(0),this.quizFinished.set(!1),this.quizActive.set(!0),this.resetQuestionState(),this.config().timerMinutes>0?(this.timeLeft.set(this.config().timerMinutes*60),this.startTimer()):this.timeLeft.set(0),this.activitySession.startSession("quiz")}catch(e){console.error(e),alert("Erro ao iniciar simulado.")}finally{this.isPreparing.set(!1)}}startTimer(){this.stopTimer(),this.timerInterval=setInterval(()=>{this.timeLeft.update(e=>e<=1?(this.stopTimer(),this.finishQuiz(),0):e-1)},1e3)}stopTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}resetQuestionState(){let e=this.currentIndex(),n=this.userAnswers().get(e);if(n!==void 0){this.selectedOptionIndex.set(n),this.isAnswered.set(!0);let i=this.questions()[e];this.isCorrect.set(n===i.correctIndex)}else this.selectedOptionIndex.set(null),this.isAnswered.set(!1),this.isCorrect.set(!1);this.explanationText.set(null),this.currentHint.set(null),this.currentHintStepIndex.set(0)}selectOption(e){this.isAnswered()||this.selectedOptionIndex.set(e)}submitAnswer(){if(this.selectedOptionIndex()===null)return;let e=this.currentIndex(),n=this.questions()[e],i=this.selectedOptionIndex()===n.correctIndex;this.isCorrect.set(i),this.isAnswered.set(!0),this.answeredIndices.update(r=>{let o=new Set(r);return o.add(e),o}),this.userAnswers.update(r=>{let o=new Map(r);return o.set(e,this.selectedOptionIndex()),o}),i&&(this.score.update(r=>r+1),this.score()%10===0&&(this.celebrationType.set("streak"),this.celebrationXP.set(50),this.showCelebration.set(!0))),this.questionHistory.recordAttempt(n.id,i,"quiz"),this.activitySession.recordQuestion(n.difficulty),this.contentService.updateStats(i,n.difficulty,n.subject)}nextQuestion(){this.currentIndex()<this.questions().length-1?(this.currentIndex.update(e=>e+1),this.resetQuestionState()):this.finishQuiz()}previousQuestion(){this.currentIndex()>0&&(this.currentIndex.update(e=>e-1),this.resetQuestionState())}skipQuestion(){this.nextQuestion()}goToQuestion(e){e>=0&&e<this.questions().length&&(this.currentIndex.set(e),this.resetQuestionState())}finishQuiz(){this.stopTimer(),this.quizFinished.set(!0);let e=this.activitySession.completeSession();e>0&&console.log(`\u{1F38A} Simulado completo! B\xF4nus de conclus\xE3o: +${e} XP`),this.celebrationType.set("completion"),this.celebrationXP.set(e),this.showCelebration.set(!0)}closeCelebration(){this.showCelebration.set(!1)}exitQuiz(){this.stopTimer(),this.activitySession.abandonSession(),this.quizActive.set(!1),this.quizFinished.set(!1)}showExplanation(){let e=this.questions()[this.currentIndex()];e.explanation?this.explanationText.set(e.explanation):this.explanationText.set("Esta quest\xE3o n\xE3o possui explica\xE7\xE3o dispon\xEDvel.")}showHint(){let e=this.questions()[this.currentIndex()],n=this.resolutionsService.getResolutionForQuestion(e.id,"quiz");n?(this.currentHint.set(n),this.currentHintStepIndex.set(0)):(this.currentHint.set({steps:[{title:"Dica",content:"Infelizmente n\xE3o temos uma resolu\xE7\xE3o detalhada para esta quest\xE3o ainda."}]}),this.currentHintStepIndex.set(0))}nextHintStep(){let e=Math.min(this.MAX_HINT_STEPS-1,this.currentHint().steps.length-1);this.currentHint()&&this.currentHintStepIndex()<e&&this.currentHintStepIndex.update(n=>n+1)}prevHintStep(){this.currentHintStepIndex()>0&&this.currentHintStepIndex.update(e=>e-1)}handleTextSelection(e){if(!this.quizActive())return;let n=window.getSelection();if(!n||n.toString().trim().length===0){this.closeWordPopup();return}let i=n.toString().trim();if(i.split(/\s+/).length>3)return;let o=i.split(/\s+/)[0].replace(/[.,!?;:]/g,""),s=this.dictionary.getDefinition(o);if(s&&s.length>0){let l=n.getRangeAt(0).getBoundingClientRect();this.popupPosition.set({x:l.left+l.width/2,y:l.top}),this.selectedWord.set(o),this.wordDefinitions.set(s),this.showWordPopup.set(!0)}}closeWordPopup(){this.showWordPopup.set(!1),this.selectedWord.set(""),this.wordDefinitions.set(null)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-quiz"]],hostBindings:function(n,i){n&1&&V("mouseup",function(o){return i.handleTextSelection(o)},Fi)},decls:6,vars:8,consts:[[1,"max-w-7xl","mx-auto","animate-fade-in","font-sans","text-slate-900"],[1,"fixed","inset-0","bg-white/90","backdrop-blur-sm","z-50","flex","flex-col","items-center","justify-center","p-4"],[1,"max-w-4xl","mx-auto","bg-white","rounded-2xl","shadow-float","border","border-slate-100","overflow-hidden"],[3,"type","xpEarned","autoClose"],[3,"close","word","definitions","position","visible"],[1,"w-16","h-16","border-4","border-slate-200","border-t-black","rounded-full","animate-spin","mb-6"],[1,"text-xl","font-bold","text-slate-900","mb-2"],[1,"text-slate-500","text-center","max-w-sm","animate-pulse"],[1,"p-10","md:p-16","space-y-12"],[1,"text-center","space-y-4"],[1,"w-16","h-16","bg-black","rounded-2xl","flex","items-center","justify-center","text-white","text-2xl","mx-auto","mb-6","shadow-lg"],[1,"fas","fa-pen-nib"],[1,"text-3xl","font-bold","text-slate-900","tracking-tight"],[1,"text-slate-500","max-w-md","mx-auto","leading-relaxed"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-12","border-t","border-b","border-slate-100","py-12"],[1,"flex","justify-between","items-center","mb-6"],[1,"font-bold","text-slate-900","text-sm","uppercase","tracking-wide"],[1,"text-xs","font-semibold","text-slate-400","hover:text-black","transition-colors",3,"click"],[1,"flex","flex-wrap","gap-2"],[1,"px-4","py-2","rounded-lg","text-sm","font-medium","transition-all","border",3,"bg-black","text-white","border-black","bg-white","text-slate-500","border-slate-200","hover:border-slate-300"],[1,"space-y-8"],[1,"block","font-bold","text-slate-900","text-sm","uppercase","tracking-wide","mb-4"],[1,"flex","bg-slate-100","p-1","rounded-xl"],[1,"flex-1","py-2","rounded-lg","text-sm","font-semibold","transition-all",3,"bg-white","text-black","shadow-sm","text-slate-500"],[1,"flex","gap-2"],[1,"flex-1","py-2","border","rounded-lg","text-sm","font-medium","transition-colors",3,"click"],[1,"flex","justify-center"],[1,"bg-black","hover:bg-slate-800","text-white","px-12","py-4","rounded-xl","font-bold","text-lg","shadow-xl","transition-all","hover:scale-105",3,"click"],[1,"px-4","py-2","rounded-lg","text-sm","font-medium","transition-all","border",3,"click"],[1,"flex-1","py-2","rounded-lg","text-sm","font-semibold","transition-all",3,"click"],[1,"bg-white","p-16","rounded-2xl","shadow-float","border","border-slate-100","text-center","max-w-lg","mx-auto","mt-10"],[1,"flex","flex-col","lg:flex-row","gap-8","items-start"],[1,"flex-1","bg-white","p-8","md:p-12","rounded-2xl","shadow-float","border","border-slate-100","min-h-[600px]","flex","flex-col","w-full"],[1,"flex","justify-between","items-center","mb-10","pb-6","border-b","border-slate-100"],[1,"text-slate-400","hover:text-black","transition-colors","flex","items-center","gap-2","font-medium","text-sm",3,"click"],[1,"fas","fa-arrow-left"],[1,"flex","items-center","gap-6"],[1,"text-sm","font-bold","text-slate-400"],[1,"text-black","text-xl","ml-1"],[1,"bg-slate-100","px-4","py-2","rounded-lg","font-mono","text-sm","font-bold","text-slate-700",3,"bg-red-50","text-red-600"],[1,"flex-1","max-w-5xl","mx-auto","w-full"],[1,"inline-block","bg-slate-100","text-slate-600","px-3","py-1","rounded","text-xs","font-bold","uppercase","tracking-wide","mb-6"],[1,"bg-blue-50","border-l-4","border-blue-500","p-6","rounded-r-xl","mb-8"],[1,"mb-8","rounded-xl","overflow-hidden","border","border-slate-200","bg-slate-50"],[1,"text-2xl","font-semibold","text-slate-900","mb-10","leading-relaxed",3,"innerHTML"],[1,"mb-10","animate-fade-in"],[1,"space-y-4"],[1,"w-full","text-left","p-6","rounded-xl","border-2","transition-all","duration-200","relative","flex","items-center","group",3,"border-slate-100","hover:border-slate-300","bg-white","border-black","bg-slate-50","border-slate-300","disabled"],[1,"max-w-5xl","mx-auto","w-full","mt-12","pt-8","border-t","border-slate-100","flex","justify-between","items-center"],[1,"flex","gap-3"],[1,"px-4","py-2","text-slate-400","hover:text-black","hover:bg-slate-50","rounded-lg","transition-all","flex","items-center","gap-2","font-bold","text-sm","border","border-transparent","hover:border-slate-200","disabled:opacity-30","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-undo-alt"],[1,"px-4","py-2","text-slate-400","hover:text-black","hover:bg-slate-50","rounded-lg","transition-all","flex","items-center","gap-2","font-bold","text-sm","border","border-transparent","hover:border-slate-200"],[1,"bg-black","text-white","px-8","py-3","rounded-lg","font-bold","disabled:opacity-30","disabled:cursor-not-allowed","hover:bg-slate-800","transition-colors","shadow-lg",3,"disabled"],[1,"bg-black","text-white","px-8","py-3","rounded-lg","font-bold","hover:bg-slate-800","transition-colors","flex","items-center","shadow-lg"],[1,"lg:w-72","w-full","space-y-6","shrink-0","lg:sticky","lg:top-8"],[1,"bg-white","p-6","rounded-2xl","shadow-float","border","border-slate-100"],[1,"text-xs","font-bold","text-slate-400"],[1,"grid","grid-cols-5","sm:grid-cols-8","lg:grid-cols-5","gap-2"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","text-xs","font-bold","transition-all","border-2",3,"bg-green-500","text-white","border-green-500","bg-white","text-slate-400","border-slate-100","border-black","ring-2","ring-slate-100","text-black"],[1,"mt-8","pt-6","border-t","border-slate-100","space-y-4"],[1,"flex","items-center","gap-3","text-xs","font-bold","text-slate-400"],[1,"w-3","h-3","bg-green-500","rounded-sm"],[1,"w-full","flex","items-center","justify-center","gap-2","py-3","bg-blue-50","text-blue-600","rounded-xl","font-bold","text-sm","hover:bg-blue-100","transition-colors","border","border-blue-100",3,"click"],[1,"fas","fa-magic"],[1,"mt-6","max-w-5xl","mx-auto","bg-slate-50","p-8","rounded-xl","border","border-slate-200","animate-fade-in"],[1,"bg-slate-100","px-4","py-2","rounded-lg","font-mono","text-sm","font-bold","text-slate-700"],[1,"font-bold","text-blue-900","mb-3","flex","items-center"],[1,"fas","fa-book-open","mr-2"],[1,"text-blue-800","leading-relaxed","whitespace-pre-wrap",3,"innerHTML"],["loading","lazy",1,"w-full","h-auto","object-contain","max-h-96",3,"src","alt"],[1,"bg-gradient-to-r","from-blue-50","to-indigo-50","border-l-4","border-blue-500","p-6","rounded-r-2xl","shadow-sm"],[1,"flex","items-center","justify-between","mb-4","pb-3","border-b","border-blue-100"],[1,"font-bold","text-blue-900","flex","items-center","gap-2"],[1,"fas","fa-lightbulb"],[1,"text-blue-400","hover:text-blue-600","transition-colors",3,"click"],[1,"fas","fa-times"],[1,"py-4"],[1,"relative","pl-10"],[1,"absolute","left-0","top-0","w-8","h-8","bg-blue-500","text-white","rounded-full","flex","items-center","justify-center","text-xs","font-bold","shadow-md"],[1,"font-bold","text-blue-900","text-lg","mb-2"],[1,"text-blue-800","leading-relaxed",3,"innerHTML"],[1,"flex","justify-between","items-center","mt-6","pt-4","border-t","border-blue-100"],[1,"text-blue-600","font-bold","text-xs","flex","items-center","gap-2","px-3","py-2","rounded-lg","hover:bg-blue-100","transition-all","disabled:opacity-30","disabled:cursor-not-allowed",3,"click","disabled"],[1,"fas","fa-chevron-left"],[1,"flex","gap-1"],[1,"w-1.5","h-1.5","rounded-full","transition-all",3,"bg-blue-500","bg-blue-200"],[1,"fas","fa-chevron-right"],[1,"w-1.5","h-1.5","rounded-full","transition-all"],[1,"w-full","text-left","p-6","rounded-xl","border-2","transition-all","duration-200","relative","flex","items-center","group",3,"click","disabled"],[1,"w-8","h-8","flex","items-center","justify-center","rounded-full","text-sm","font-bold","mr-6","transition-colors"],[1,"font-medium","text-slate-700","text-lg",3,"innerHTML"],[1,"px-4","py-2","text-slate-400","hover:text-black","hover:bg-slate-50","rounded-lg","transition-all","flex","items-center","gap-2","font-bold","text-sm","border","border-transparent","hover:border-slate-200",3,"click"],[1,"fas","fa-forward"],[1,"bg-black","text-white","px-8","py-3","rounded-lg","font-bold","disabled:opacity-30","disabled:cursor-not-allowed","hover:bg-slate-800","transition-colors","shadow-lg",3,"click","disabled"],[1,"bg-black","text-white","px-8","py-3","rounded-lg","font-bold","hover:bg-slate-800","transition-colors","flex","items-center","shadow-lg",3,"click"],[1,"fas","fa-arrow-right","ml-2"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","text-xs","font-bold","transition-all","border-2",3,"click"],[1,"font-bold","text-slate-900","mb-4","flex","items-center"],[1,"fas","fa-graduation-cap","mr-3","text-xl"],[1,"text-slate-700","leading-relaxed",3,"innerHTML"],[1,"w-24","h-24","bg-black","rounded-full","flex","items-center","justify-center","text-white","text-4xl","mx-auto","mb-8","shadow-xl"],[1,"fas","fa-trophy"],[1,"text-3xl","font-bold","text-slate-900","mb-2"],[1,"text-slate-500","mb-10"],[1,"flex","justify-center","items-end","gap-2","mb-12"],[1,"text-6xl","font-bold","text-black","tracking-tighter"],[1,"text-xl","text-slate-400","font-medium","mb-2"],[1,"w-full","bg-slate-100","hover:bg-slate-200","text-slate-900","font-bold","py-4","rounded-xl","transition-colors",3,"click"],[3,"closed","type","xpEarned","autoClose"]],template:function(n,i){n&1&&(p(0,"div",0),w(1,hD,6,1,"div",1),w(2,yD,41,25,"div",2),w(3,RD,2,1),m(),w(4,PD,1,3,"app-celebration",3),p(5,"app-word-popup",4),V("close",function(){return i.closeWordPopup()}),m()),n&2&&(f(),I(i.isPreparing()?1:-1),f(),I(i.quizActive()?-1:2),f(),I(i.quizActive()?3:-1),f(),I(i.showCelebration()?4:-1),f(),J("word",i.selectedWord())("definitions",i.wordDefinitions())("position",i.popupPosition())("visible",i.showWordPopup()))},dependencies:[ne,Mn,ka,Ra,Nn],encapsulation:2,changeDetection:0})}};function FD(t,e){t&1&&(h(0,"div",1),A(1,"div",7),h(2,"p"),u(3,"Carregando textos de interpreta\xE7\xE3o..."),v()())}function LD(t,e){if(t&1){let n=B();h(0,"div",2),A(1,"i",8),h(2,"h3"),u(3,"Erro ao Carregar"),v(),h(4,"p"),u(5),v(),h(6,"button",9),Q("click",function(){M(n);let r=b();return T(r.ngOnInit())}),u(7,"Tentar Novamente"),v()()}if(t&2){let n=b();f(5),S(n.errorMessage())}}function jD(t,e){if(t&1){let n=B();h(0,"div",3)(1,"div",10)(2,"div",11),A(3,"i",12),h(4,"h2"),u(5,"Interpreta\xE7\xE3o de Texto"),v(),h(6,"p"),u(7,"Configure sua atividade"),v()(),h(8,"div",13)(9,"div",14)(10,"label"),A(11,"i",15),u(12," N\xEDvel de Dificuldade "),v(),h(13,"div",16)(14,"button",17),Q("click",function(){M(n);let r=b();return T(r.selectedDifficulty.set("F\xE1cil"))}),A(15,"i",18),u(16," F\xE1cil "),v(),h(17,"button",17),Q("click",function(){M(n);let r=b();return T(r.selectedDifficulty.set("M\xE9dio"))}),A(18,"i",19),u(19," M\xE9dio "),v(),h(20,"button",17),Q("click",function(){M(n);let r=b();return T(r.selectedDifficulty.set("Dif\xEDcil"))}),A(21,"i",20),u(22," Dif\xEDcil "),v(),h(23,"button",17),Q("click",function(){M(n);let r=b();return T(r.selectedDifficulty.set("Todas"))}),A(24,"i",21),u(25," Todas "),v()()(),h(26,"div",14)(27,"label"),A(28,"i",22),u(29," N\xFAmero de Quest\xF5es por Texto "),v(),h(30,"div",23)(31,"button",24),Q("click",function(){M(n);let r=b();return T(r.selectedQuestionCount.set(1))}),u(32," 1 "),v(),h(33,"button",24),Q("click",function(){M(n);let r=b();return T(r.selectedQuestionCount.set(2))}),u(34," 2 "),v(),h(35,"button",24),Q("click",function(){M(n);let r=b();return T(r.selectedQuestionCount.set(3))}),u(36," 3 "),v()(),h(37,"small",25),A(38,"i",26),u(39),v()(),h(40,"button",27),Q("click",function(){M(n);let r=b();return T(r.startActivity())}),A(41,"i",28),u(42," Iniciar Atividade "),v()()()()}if(t&2){let n=b();f(14),$("active",n.selectedDifficulty()==="F\xE1cil"),f(3),$("active",n.selectedDifficulty()==="M\xE9dio"),f(3),$("active",n.selectedDifficulty()==="Dif\xEDcil"),f(3),$("active",n.selectedDifficulty()==="Todas"),f(8),$("active",n.selectedQuestionCount()===1),f(2),$("active",n.selectedQuestionCount()===2),f(2),$("active",n.selectedQuestionCount()===3),f(4),N(" Cada texto ter\xE1 ",n.selectedQuestionCount()," quest\xE3o(\xF5es) para responder ")}}function VD(t,e){if(t&1){let n=B();h(0,"label",50)(1,"input",51),Q("change",function(){let r=M(n).$index,o=b(2);return T(o.selectAnswer(r))}),v(),h(2,"span",52),u(3),v(),A(4,"span",53),_e(5,"latex"),v()}if(t&2){let n=e.$implicit,i=e.$index,r=b(2);$("selected",r.isSelected(i))("disabled",r.hasAnswered()),f(),Ve("name","current-question")("value",i)("checked",r.isSelected(i))("disabled",r.hasAnswered()),f(2),S(r.getOptionLetter(i)),f(),Ve("innerHTML",Be(5,10,n),je)}}function BD(t,e){if(t&1){let n=B();h(0,"button",54),Q("click",function(){M(n);let r=b(2);return T(r.verifyAnswer())}),A(1,"i",55),u(2," Verificar Resposta "),v()}if(t&2){let n=b(2);Ve("disabled",!n.canVerify())}}function HD(t,e){if(t&1){let n=B();h(0,"button",56),Q("click",function(){M(n);let r=b(2);return T(r.nextQuestion())}),u(1," Pr\xF3xima Quest\xE3o "),A(2,"i",57),v()}}function $D(t,e){if(t&1){let n=B();h(0,"div",4)(1,"div",29)(2,"button",30),Q("click",function(){M(n);let r=b();return T(r.backToConfig())}),A(3,"i",31),u(4," Voltar "),v(),h(5,"div",32)(6,"span",33),u(7),v(),h(8,"div",34),A(9,"i",35),u(10),v()()(),h(11,"div",36)(12,"div",37),A(13,"i",38),h(14,"h3"),u(15,"Texto de Refer\xEAncia"),v()(),A(16,"div",39),_e(17,"latex"),v(),h(18,"div",40)(19,"div",41)(20,"h4"),A(21,"i",42),u(22),v(),h(23,"span",43),u(24),v()(),A(25,"p",44),_e(26,"latex"),h(27,"div",45),Y(28,VD,6,12,"label",46,Ze),v()(),h(30,"div",47),w(31,BD,3,1,"button",48)(32,HD,3,0,"button",49),v()()}if(t&2){let n=e,i=b();f(7),S(i.getProgress()),f(3),Qe(" ",i.totalCorrect(),"/",i.totalAnswered()," "),f(6),Ve("innerHTML",Be(17,10,i.currentGroup().supportText),je),f(6),N(" Quest\xE3o ",i.currentQuestionIndex()+1," "),f(),Ae("difficulty-"+n.difficulty.toLowerCase()),f(),N(" ",n.difficulty," "),f(),Ve("innerHTML",Be(26,12,n.text),je),f(3),Z(n.options),f(3),I(i.hasAnswered()?32:31)}}function UD(t,e){if(t&1&&(h(0,"span",66),u(1),v()),t&2){let n=b(2);f(),N("+",n.celebrationXP()," XP b\xF4nus")}}function zD(t,e){if(t&1){let n=B();h(0,"div",5)(1,"div",58)(2,"div",59)(3,"div",60),A(4,"i",61),v(),h(5,"h2"),u(6,"Atividade Conclu\xEDda!"),v(),h(7,"p",62),u(8),v()(),h(9,"div",63)(10,"span",64),u(11),v(),h(12,"span",65),u(13),_e(14,"number"),v(),w(15,UD,2,1,"span",66),v(),h(16,"button",27),Q("click",function(){M(n);let r=b();return T(r.finishAndReturn())}),A(17,"i",67),u(18," Nova Atividade "),v()()()}if(t&2){let n=b();f(8),N("Voc\xEA respondeu ",n.totalAnswered()," quest\xE3o(\xF5es)"),f(3),Qe("",n.totalCorrect(),"/",n.totalAnswered()),f(2),N("",n.totalAnswered()>0?Hi(14,5,n.totalCorrect()/n.totalAnswered()*100,"1.0-0"):0,"% de aproveitamento"),f(2),I(n.celebrationXP()>0?15:-1)}}function qD(t,e){if(t&1){let n=B();h(0,"div",6),A(1,"i",68),h(2,"h3"),u(3,"Nenhum texto dispon\xEDvel"),v(),h(4,"p"),u(5,"N\xE3o h\xE1 textos de interpreta\xE7\xE3o cadastrados no momento."),v(),h(6,"button",9),Q("click",function(){M(n);let r=b();return T(r.backToConfig())}),A(7,"i",31),u(8," Voltar "),v()()}}var Fa=class t{constructor(){this.interpretationService=x(An);this.contentService=x(xe);this.questionHistory=x(zt);this.activitySession=x(Tn);this.viewState=C("loading");this.errorMessage=C(null);this.showCelebration=C(!1);this.celebrationType=C("correct");this.celebrationXP=C(0);this.selectedDifficulty=C("Todas");this.selectedQuestionCount=C(3);this.currentGroup=this.interpretationService.currentGroup;this.currentQuestionIndex=C(0);this.shuffledQuestions=C([]);this.currentQuestion=oe(()=>{let e=this.activeQuestions();return e.length===0?null:e[this.currentQuestionIndex()]});this.activeQuestions=oe(()=>{let e=this.shuffledQuestions(),n=this.selectedQuestionCount();return e.slice(0,n)});this.selectedAnswer=C(null);this.hasAnswered=C(!1);this.isCorrect=C(!1);this.totalCorrect=C(0);this.totalAnswered=C(0);jt(()=>{let e=this.currentGroup();if(e){let n=e.questions.map(i=>this.contentService.shuffleQuestion(i));this.shuffledQuestions.set(n)}else this.shuffledQuestions.set([])},{allowSignalWrites:!0})}async ngOnInit(){try{await this.interpretationService.loadInterpretations(),this.viewState.set("config")}catch(e){console.error("Error loading interpretations:",e),this.errorMessage.set("Erro ao carregar textos de interpreta\xE7\xE3o."),this.viewState.set("error")}}startActivity(){this.viewState.set("activity"),this.resetActivity(),this.activitySession.startSession("interpretation")}backToConfig(){this.viewState.set("config"),this.resetActivity()}resetActivity(){this.currentQuestionIndex.set(0),this.selectedAnswer.set(null),this.hasAnswered.set(!1),this.totalCorrect.set(0),this.totalAnswered.set(0),this.interpretationService.goToGroup(0)}selectAnswer(e){this.hasAnswered()||this.selectedAnswer.set(e)}verifyAnswer(){let e=this.currentQuestion();if(!e||this.selectedAnswer()===null)return;let n=this.selectedAnswer()===e.correctIndex;this.isCorrect.set(n),this.hasAnswered.set(!0),this.totalAnswered.update(i=>i+1),n?(this.totalCorrect.update(i=>i+1),this.contentService.updateStats(!0,e.difficulty,e.subject)):this.contentService.updateStats(!1,e.difficulty,e.subject),this.activitySession.recordQuestion(e.difficulty),this.questionHistory.recordAttempt(e.id,n,"interpretation")}nextQuestion(){let e=this.activeQuestions();e.length&&(this.currentQuestionIndex()<e.length-1?(this.currentQuestionIndex.update(n=>n+1),this.resetQuestionState()):this.showFinalResults())}resetQuestionState(){this.selectedAnswer.set(null),this.hasAnswered.set(!1),this.isCorrect.set(!1)}showFinalResults(){let e=this.activitySession.completeSession();e>0&&console.log(`\u{1F38A} Interpreta\xE7\xE3o completa! B\xF4nus: +${e} XP`),this.celebrationXP.set(e),this.viewState.set("result")}finishAndReturn(){this.backToConfig()}isSelected(e){return this.selectedAnswer()===e}isCorrectOption(e){if(!this.hasAnswered())return!1;let n=this.currentQuestion();return n?n.correctIndex===e:!1}isWrongOption(e){return this.hasAnswered()?this.isSelected(e)&&!this.isCorrectOption(e):!1}canVerify(){return this.selectedAnswer()!==null&&!this.hasAnswered()}getProgress(){let e=this.currentGroup();if(!e)return"";let n=this.currentQuestionIndex()+1,i=e.questions.length,r=this.interpretationService.getCurrentIndex()+1,o=this.interpretationService.totalGroups();return`Grupo ${r}/${o} - Quest\xE3o ${n}/${i}`}getOptionLetter(e){return String.fromCharCode(65+e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-text-interpretation"]],decls:7,vars:1,consts:[[1,"interpretation-container"],[1,"loading-state"],[1,"error-state"],[1,"config-screen"],[1,"activity-screen"],[1,"result-screen"],[1,"empty-state"],[1,"spinner"],[1,"fas","fa-exclamation-triangle"],[1,"retry-button",3,"click"],[1,"config-card"],[1,"config-header"],[1,"fas","fa-book-open"],[1,"config-form"],[1,"form-group"],[1,"fas","fa-signal"],[1,"difficulty-selector"],[1,"difficulty-btn",3,"click"],[1,"fas","fa-smile"],[1,"fas","fa-meh"],[1,"fas","fa-frown"],[1,"fas","fa-layer-group"],[1,"fas","fa-list-ol"],[1,"question-count-selector"],[1,"count-btn",3,"click"],[1,"hint"],[1,"fas","fa-info-circle"],[1,"start-button",3,"click"],[1,"fas","fa-play"],[1,"progress-header"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"progress-info"],[1,"progress-text"],[1,"score-display"],[1,"fas","fa-check-circle"],[1,"support-text-card"],[1,"support-text-header"],[1,"fas","fa-file-alt"],[1,"text-content",3,"innerHTML"],[1,"question-card"],[1,"question-header"],[1,"fas","fa-question-circle"],[1,"difficulty-badge"],[1,"question-text",3,"innerHTML"],[1,"options-list"],[1,"option-item",3,"selected","disabled"],[1,"action-buttons"],[1,"btn-primary",3,"disabled"],[1,"btn-primary"],[1,"option-item"],["type","radio",3,"change","name","value","checked","disabled"],[1,"option-letter"],[1,"option-text",3,"innerHTML"],[1,"btn-primary",3,"click","disabled"],[1,"fas","fa-check"],[1,"btn-primary",3,"click"],[1,"fas","fa-arrow-right"],[1,"result-card"],[1,"result-header"],[1,"result-icon-wrap"],[1,"fas","fa-flag-checkered"],[1,"result-subtitle"],[1,"result-score-box"],[1,"score-number"],[1,"score-pct"],[1,"bonus-xp"],[1,"fas","fa-redo"],[1,"fas","fa-inbox"]],template:function(n,i){if(n&1&&(h(0,"div",0),w(1,FD,4,0,"div",1)(2,LD,8,1,"div",2)(3,jD,43,15,"div",3)(4,$D,33,14,"div",4)(5,zD,19,8,"div",5)(6,qD,9,0,"div",6),v()),n&2){let r;f(),I(i.viewState()==="loading"?1:i.viewState()==="error"?2:i.viewState()==="config"?3:(r=i.viewState()==="activity"&&i.currentQuestion())?4:i.viewState()==="result"?5:6,r)}},dependencies:[ne,Mn,Wr,Nn],styles:[".interpretation-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:1.5rem;min-height:100vh}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;text-align:center;gap:1rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #000000;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#000;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#94a3b8}.retry-button[_ngcontent-%COMP%]{margin-top:1rem;padding:.75rem 1.5rem;background:#000;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1rem;display:flex;align-items:center;gap:.5rem;transition:all .2s}.retry-button[_ngcontent-%COMP%]:hover{background:#333;transform:translateY(-2px)}.config-screen[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:80vh}.config-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 4px 20px #0000000d;border:1px solid #e2e8f0;max-width:600px;width:100%;overflow:hidden}.config-header[_ngcontent-%COMP%]{background:#fff;color:#000;padding:3rem 2rem;text-align:center;border-bottom:1px solid #f1f5f9}.config-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3.5rem;margin-bottom:1rem;color:#000}.config-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:800;letter-spacing:-.025em}.config-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#64748b;font-size:1.1rem}.config-form[_ngcontent-%COMP%]{padding:2.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:2.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em;color:#000;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:1rem;display:none}.difficulty-selector[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem}.difficulty-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;padding:1rem .5rem;border:1px solid #e2e8f0;background:#fff;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s;color:#64748b}.difficulty-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#cbd5e0;transition:all .2s;display:none}.difficulty-btn[_ngcontent-%COMP%]:hover{border-color:#000;color:#000}.difficulty-btn.active[_ngcontent-%COMP%]{border-color:#000;background:#000;color:#fff}.difficulty-btn.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.question-count-selector[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.75rem}.count-btn[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid #e2e8f0;background:#fff;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .2s;color:#64748b}.count-btn[_ngcontent-%COMP%]:hover{border-color:#000;color:#000}.count-btn.active[_ngcontent-%COMP%]{background:#000;border-color:#000;color:#fff}.hint[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#94a3b8;font-size:.85rem;margin-top:.75rem}.hint[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000}.start-button[_ngcontent-%COMP%]{width:100%;padding:1.25rem;background:#000;color:#fff;border:none;border-radius:10px;font-size:1.1rem;font-weight:700;letter-spacing:-.01em;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .2s}.start-button[_ngcontent-%COMP%]:hover{background:#333;transform:translateY(-2px);box-shadow:0 10px 20px #0000001a}.start-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.activity-screen[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:0;background:transparent;box-shadow:none;border-radius:0}.back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:transparent;border:1px solid transparent;border-radius:8px;color:#64748b;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s}.back-btn[_ngcontent-%COMP%]:hover{color:#000;background:#f1f5f9}.progress-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.progress-text[_ngcontent-%COMP%]{font-weight:600;color:#64748b;font-size:.95rem}.score-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .8rem;background:#f1f5f9;border-radius:6px;color:#000;font-weight:700;font-size:.9rem}.score-display[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#000}.support-text-card[_ngcontent-%COMP%]{background:#fff;border-left:4px solid #000000;padding:2.5rem;margin-bottom:2rem;border-radius:12px;box-shadow:0 4px 6px -1px #0000000d}.support-text-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.5rem;color:#000}.support-text-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#000;font-size:1.25rem}.support-text-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em}.text-content[_ngcontent-%COMP%]{line-height:1.8;font-size:1.1rem;color:#334155;white-space:pre-line;text-align:justify;font-family:Merriweather,serif}.question-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #f1f5f9;border-radius:16px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 4px 6px -1px #0000000d}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.question-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#64748b;display:flex;align-items:center;gap:.5rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.question-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}.difficulty-badge[_ngcontent-%COMP%]{padding:.3rem .8rem;border-radius:4px;font-size:.75rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;border:1px solid transparent}.difficulty-f\\e1 cil[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569;border-color:#e2e8f0}.difficulty-m\\e9 dio[_ngcontent-%COMP%]{background:#f1f5f9;color:#334155;border-color:#cbd5e0}.difficulty-dif\\ed cil[_ngcontent-%COMP%]{background:#000;color:#fff}.question-text[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.6;color:#0f172a;font-weight:600;margin-bottom:2rem}.options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem}.option-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem;border:1px solid #e2e8f0;border-radius:12px;cursor:pointer;transition:all .2s ease;background:#fff;position:relative}.option-item[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#000;background:#fff;transform:translate(4px)}.option-item[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{position:absolute;opacity:0}.option-letter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px;background:#f1f5f9;color:#64748b;font-weight:700;font-size:.9rem;flex-shrink:0;transition:all .2s ease}.option-text[_ngcontent-%COMP%]{flex:1;line-height:1.5;color:#334155;font-size:1.05rem;font-weight:500}.result-icon[_ngcontent-%COMP%]{font-size:1.5rem;flex-shrink:0}.option-item.selected[_ngcontent-%COMP%]{border-color:#000;background:#f8fafc;box-shadow:0 2px 4px #0000000d}.option-item.selected[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#000;color:#fff}.option-item.correct[_ngcontent-%COMP%]{border-color:#22c55e;background:#f0fdf4;animation:_ngcontent-%COMP%_correctPulse .5s ease}.option-item.correct[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#22c55e;color:#fff}.option-item.correct[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{color:#16a34a}.option-item.wrong[_ngcontent-%COMP%]{border-color:#ef4444;background:#fef2f2;animation:_ngcontent-%COMP%_wrongShake .5s ease}.option-item.wrong[_ngcontent-%COMP%]   .option-letter[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.option-item.wrong[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{color:#dc2626}.option-item.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.8}@keyframes _ngcontent-%COMP%_correctPulse{0%,to{transform:scale(1)}50%{transform:scale(1.01)}}@keyframes _ngcontent-%COMP%_wrongShake{0%,to{transform:translate(0)}25%{transform:translate(-4px)}75%{transform:translate(4px)}}.explanation-box[_ngcontent-%COMP%]{margin-top:2rem;padding:1.5rem;background:#fff;border:1px solid #e2e8f0;border-left:4px solid #000000;border-radius:8px;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.explanation-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;color:#000;text-transform:uppercase;font-size:.85rem;font-weight:700;letter-spacing:.05em}.explanation-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.explanation-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.7;color:#334155;font-size:1rem}.feedback-banner[_ngcontent-%COMP%]{margin-top:1.5rem;padding:1rem;border-radius:8px;display:flex;align-items:center;gap:1rem;font-size:1rem;font-weight:600;animation:fade .3s ease}.feedback-banner.correct[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a;border:1px solid #bbf7d0}.feedback-banner.wrong[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.feedback-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:3rem;padding-bottom:3rem}.btn-primary[_ngcontent-%COMP%]{padding:1rem 3rem;background:#000;color:#fff;border:none;border-radius:12px;font-size:1.05rem;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:.75rem;transition:all .2s;box-shadow:0 4px 6px -1px #0000001a}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);background:#333;box-shadow:0 10px 15px -3px #0000001a}.btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed;box-shadow:none;transform:none}@media(max-width:768px){.interpretation-container[_ngcontent-%COMP%]{padding:1rem}.config-header[_ngcontent-%COMP%]{padding:2rem 1rem}.config-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem}.config-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.config-form[_ngcontent-%COMP%]{padding:1.5rem}.difficulty-selector[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.progress-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;background:#fff;padding:1rem;border:1px solid #e2e8f0;border-radius:12px}.progress-info[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;text-align:center}.question-card[_ngcontent-%COMP%], .support-text-card[_ngcontent-%COMP%]{padding:1.5rem}.option-item[_ngcontent-%COMP%]{padding:1rem}}.result-screen[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:70vh;animation:_ngcontent-%COMP%_fadeIn .4s ease}.result-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;border:1px solid #e2e8f0;box-shadow:0 8px 30px #0000000f;padding:3rem 2.5rem;max-width:480px;width:100%;text-align:center}.result-header[_ngcontent-%COMP%]{margin-bottom:2rem}.result-icon-wrap[_ngcontent-%COMP%]{width:72px;height:72px;background:#000;color:#fff;border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:2rem;margin:0 auto 1.5rem}.result-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;letter-spacing:-.02em;margin:0 0 .4rem}.result-subtitle[_ngcontent-%COMP%]{color:#64748b;font-size:1rem;margin:0}.result-score-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;background:#f8fafc;border:1px solid #e2e8f0;border-radius:14px;padding:1.75rem 1.5rem;margin-bottom:2rem}.score-number[_ngcontent-%COMP%]{font-size:3rem;font-weight:800;letter-spacing:-.04em;color:#0f172a;line-height:1}.score-pct[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;font-weight:600}.bonus-xp[_ngcontent-%COMP%]{margin-top:.25rem;background:#000;color:#fff;font-size:.8rem;font-weight:700;padding:.3rem .9rem;border-radius:100px;letter-spacing:.03em}"],changeDetection:0})}};var GD=(t,e)=>e.id;function QD(t,e){if(t&1){let n=B();h(0,"button",9),Q("click",function(){M(n);let r=b();return T(r.goBack())}),A(1,"i",10),u(2," Voltar "),v()}}function WD(t,e){if(t&1){let n=B();h(0,"div",5)(1,"div",11)(2,"h3",12),A(3,"i",13),u(4," Escolha o m\xF3dulo "),v(),h(5,"div",14)(6,"button",15),Q("click",function(){M(n);let r=b();return T(r.selectMode("quiz"))}),h(7,"div")(8,"p",16),u(9,"Simulados"),v(),h(10,"p",17),u(11,"Quest\xF5es do banco padr\xE3o"),v()(),A(12,"i",18),v(),h(13,"button",15),Q("click",function(){M(n);let r=b();return T(r.selectMode("interpretation"))}),h(14,"div")(15,"p",16),u(16,"Interpreta\xE7\xE3o"),v(),h(17,"p",17),u(18,"Textos e gram\xE1tica aplicada"),v()(),A(19,"i",18),v()()(),h(20,"div",11)(21,"h3",12),A(22,"i",19),u(23," O que voc\xEA quer revisar? "),v(),h(24,"div",20)(25,"button",21),Q("click",function(){M(n);let r=b();return T(r.selectFilter("wrong"))}),u(26," Minhas incorretas "),A(27,"i",22),v(),h(28,"button",23),Q("click",function(){M(n);let r=b();return T(r.selectFilter("correct"))}),u(29," Minhas corretas "),A(30,"i",24),v(),h(31,"button",25),Q("click",function(){M(n);let r=b();return T(r.selectFilter("new"))}),u(32," Quest\xF5es in\xE9ditas "),A(33,"i",26),v(),h(34,"button",27),Q("click",function(){M(n);let r=b();return T(r.selectFilter("random"))}),u(35," Qualquer uma (Aleat\xF3rio) "),A(36,"i",28),v()()()()}if(t&2){let n=b();f(6),$("border-black",n.selectedMode()==="quiz")("bg-slate-50",n.selectedMode()==="quiz")("border-slate-100",n.selectedMode()!=="quiz")("hover:border-slate-200",n.selectedMode()!=="quiz"),f(7),$("border-black",n.selectedMode()==="interpretation")("bg-slate-50",n.selectedMode()==="interpretation")("border-slate-100",n.selectedMode()!=="interpretation")("hover:border-slate-200",n.selectedMode()!=="interpretation"),f(7),$("opacity-50",!n.selectedMode())("pointer-events-none",!n.selectedMode())}}function YD(t,e){if(t&1){let n=B();h(0,"button",33),Q("click",function(){let r=M(n).$implicit,o=b(2);return T(o.openResolution(r))}),h(1,"div",34)(2,"div",35)(3,"span",36),u(4),v(),h(5,"span",37),u(6),v()(),h(7,"p",38),u(8),v()(),A(9,"i",39),v()}if(t&2){let n=e.$implicit;f(4),S(n.subject),f(),$("bg-green-100",n.difficulty==="F\xE1cil")("bg-yellow-100",n.difficulty==="M\xE9dio")("bg-red-100",n.difficulty==="Dif\xEDcil"),f(),S(n.difficulty),f(2),S(n.text)}}function ZD(t,e){if(t&1&&(h(0,"div",6)(1,"div",29)(2,"span",30),u(3),v()(),h(4,"div",31),Y(5,YD,10,9,"button",32,GD),v()()),t&2){let n=b();f(3),N(" Encontradas: ",n.filteredQuestions().length," quest\xF5es "),f(2),Z(n.filteredQuestions())}}function XD(t,e){if(t&1&&(A(0,"div",44),_e(1,"latex")),t&2){let n,i=b(2);Ve("innerHTML",Be(1,1,(n=i.currentQuestion())==null?null:n.supportText),je)}}function KD(t,e){if(t&1&&(h(0,"div",55)(1,"span",56),u(2),v(),A(3,"span",57),_e(4,"latex"),v()),t&2){let n,i,r,o,s,a,l=e.$implicit,c=e.$index,d=b(2);$("border-green-500",d.showCorrectAnswer()&&c===((n=d.currentQuestion())==null?null:n.correctIndex))("bg-green-50",d.showCorrectAnswer()&&c===((i=d.currentQuestion())==null?null:i.correctIndex))("border-slate-100",!d.showCorrectAnswer()||c!==((r=d.currentQuestion())==null?null:r.correctIndex)),f(),$("bg-slate-100",!d.showCorrectAnswer()||c!==((o=d.currentQuestion())==null?null:o.correctIndex))("bg-green-500",d.showCorrectAnswer()&&c===((s=d.currentQuestion())==null?null:s.correctIndex))("text-white",d.showCorrectAnswer()&&c===((a=d.currentQuestion())==null?null:a.correctIndex)),f(),N(" ",d.getOptionLetter(c)," "),f(),Ve("innerHTML",Be(4,14,l),je)}}function JD(t,e){t&1&&(h(0,"div",51),A(1,"i",58),h(2,"p",59),u(3,"Resolu\xE7\xE3o automatizada via IA sendo gerada para esta quest\xE3o."),v()())}function ew(t,e){if(t&1&&(h(0,"div",65)(1,"div",66),A(2,"div",67),h(3,"p",68),u(4),v()(),h(5,"div",69),u(6),v()()),t&2){let n=b().$implicit;f(4),S(n.title),f(2),N(" ",n.content," ")}}function tw(t,e){if(t&1&&w(0,ew,7,2,"div",65),t&2){let n=e.$index,i=b(3);I(n<i.visibleStepsCount()?0:-1)}}function nw(t,e){if(t&1&&(A(0,"div",75),_e(1,"latex")),t&2){let n,i=b(4);Ve("innerHTML",Be(1,1,(n=i.currentQuestion())==null?null:n.explanation),je)}}function iw(t,e){if(t&1&&(h(0,"div",61)(1,"div",70)(2,"div",71),A(3,"i",72),v(),h(4,"p",73),u(5,"Resposta Definitiva"),v()(),h(6,"p",74),u(7),v(),w(8,nw,2,3,"div",75),v()),t&2){let n,i,r=b(3);f(7),N(" Alternativa ",r.getOptionLetter(((n=r.currentQuestion())==null?null:n.correctIndex)||0)," "),f(),I((i=r.currentQuestion())!=null&&i.explanation?8:-1)}}function rw(t,e){t&1&&(h(0,"span"),u(1,"Come\xE7ar Racioc\xEDnio"),v())}function ow(t,e){if(t&1&&(h(0,"span"),u(1),v()),t&2){let n,i=b(3);f(),S(i.visibleStepsCount()<(((n=i.currentResolution())==null||n.steps==null?null:n.steps.length)||0)?"Pr\xF3ximo Passo":"Ver Gabarito")}}function sw(t,e){t&1&&(h(0,"span"),u(1,"Resolu\xE7\xE3o Conclu\xEDda"),v())}function aw(t,e){t&1&&A(0,"i",64)}function lw(t,e){if(t&1){let n=B();h(0,"div",60),Y(1,tw,1,1,null,null,Ze),w(3,iw,9,2,"div",61),v(),h(4,"div",62)(5,"button",63),Q("click",function(){M(n);let r=b(2);return T(r.revealNextStep())}),w(6,rw,2,0,"span")(7,ow,2,1,"span")(8,sw,2,0,"span"),w(9,aw,1,0,"i",64),v()()}if(t&2){let n,i=b(2);f(),Z((n=i.currentResolution())==null?null:n.steps),f(2),I(i.showCorrectAnswer()?3:-1),f(2),$("bg-white",!i.showCorrectAnswer())("text-black",!i.showCorrectAnswer())("bg-slate-800",i.showCorrectAnswer())("text-slate-500",i.showCorrectAnswer())("hover:scale-105",!i.showCorrectAnswer()),Ve("disabled",i.showCorrectAnswer()),f(),I(i.visibleStepsCount()===0?6:i.showCorrectAnswer()?8:7),f(3),I(i.showCorrectAnswer()?-1:9)}}function cw(t,e){if(t&1&&(h(0,"div",7)(1,"div",40)(2,"div",41)(3,"span",42),u(4),v(),h(5,"span",43),u(6),v()(),w(7,XD,2,3,"div",44),A(8,"div",45),_e(9,"latex"),h(10,"div",14),Y(11,KD,5,16,"div",46,Ze),v()(),h(13,"div",47)(14,"div",48)(15,"h3",49),A(16,"i",50),u(17," Guia Mental da Quest\xE3o "),v(),w(18,JD,4,0,"div",51)(19,lw,10,14),v(),h(20,"div",52),A(21,"i",53),h(22,"p",54),u(23," **Dica:** Tente pensar por conta pr\xF3pria a cada passo revelado antes de pular para o pr\xF3ximo. O objetivo \xE9 treinar seu c\xE9rebro para o dia da prova! "),v()()()()),t&2){let n,i,r,o,s,a=b();f(4),S((n=a.currentQuestion())==null?null:n.subject),f(2),N("QUEST\xC3O ",(i=a.currentQuestion())==null?null:i.id),f(),I((r=a.currentQuestion())!=null&&r.supportText?7:-1),f(),Ve("innerHTML",Be(9,5,(o=a.currentQuestion())==null?null:o.text),je),f(3),Z((s=a.currentQuestion())==null?null:s.options),f(7),I(a.currentResolution()?19:18)}}function uw(t,e){if(t&1){let n=B();h(0,"div",8)(1,"div",76),A(2,"i",77),v(),h(3,"h3",78),u(4,"Nenhuma quest\xE3o encontrada"),v(),h(5,"p",79),u(6,"N\xE3o encontramos quest\xF5es neste filtro para este m\xF3dulo. Comece a fazer simulados ou atividades de interpreta\xE7\xE3o para gerar hist\xF3rico!"),v(),h(7,"button",80),Q("click",function(){M(n);let r=b();return T(r.goBack())}),u(8," Voltar e tentar outro "),v()()}}var La=class t{constructor(){this.resolutionsService=x(Xi);this.questionHistory=x(zt);this.contentService=x(xe);this.interpretationService=x(An);this.viewState=C("selection");this.selectedMode=C(null);this.selectedFilter=C(null);this.filteredQuestions=C([]);this.currentQuestion=C(null);this.currentResolution=C(null);this.visibleStepsCount=C(0);this.showCorrectAnswer=C(!1)}selectMode(e){this.selectedMode.set(e)}async selectFilter(e){let n=this.selectedMode();if(!n)return;this.selectedFilter.set(e),n==="interpretation"&&await this.interpretationService.loadInterpretations();let i=await this.resolutionsService.getFilteredQuestions(n,e);i.length===0?this.viewState.set("empty"):(this.filteredQuestions.set(i),this.viewState.set("list"))}async openResolution(e){let n=this.selectedMode();if(!n)return;await this.resolutionsService.loadResolutions();let i=this.resolutionsService.getResolutionForQuestion(e.id,n);this.currentQuestion.set(this.contentService.shuffleQuestion(e)),this.currentResolution.set(i),this.visibleStepsCount.set(0),this.showCorrectAnswer.set(!1),this.viewState.set("viewer"),this.resolutionsService.markResolutionAsViewed(e.id)}revealNextStep(){let e=this.currentResolution(),n=this.currentQuestion();if(!(!e||!n)){if(this.visibleStepsCount()<e.steps.length)this.visibleStepsCount.update(i=>i+1);else if(!this.showCorrectAnswer()){this.showCorrectAnswer.set(!0);let r=this.questionHistory.getQuestionHistory(n.id)?.wasCorrect??!0;this.questionHistory.recordAttempt(n.id,r,"resolution")}}}goBack(){this.viewState()==="viewer"?this.viewState.set("list"):this.viewState()==="list"||this.viewState()==="empty"?(this.viewState.set("selection"),this.selectedFilter.set(null)):this.selectedMode.set(null)}getOptionLetter(e){return String.fromCharCode(65+e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-resolutions"]],decls:12,vars:5,consts:[[1,"animate-fade-in","font-sans","pb-12"],[1,"mb-8","flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","text-sm"],[1,"flex","items-center","text-slate-500","hover:text-black","transition-colors","text-sm","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"bg-white","rounded-2xl","border","border-slate-200","shadow-sm","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","items-start"],[1,"bg-white","p-12","rounded-3xl","border","border-slate-100","shadow-sm","text-center","max-w-lg","mx-auto"],[1,"flex","items-center","text-slate-500","hover:text-black","transition-colors","text-sm","font-medium",3,"click"],[1,"fas","fa-arrow-left","mr-2"],[1,"bg-white","p-8","rounded-2xl","border","border-slate-200","shadow-sm"],[1,"font-bold","text-slate-900","mb-6","flex","items-center"],[1,"fas","fa-layer-group","mr-2","text-slate-400"],[1,"space-y-3"],[1,"w-full","p-4","rounded-xl","border-2","text-left","transition-all","flex","items-center","justify-between","group",3,"click"],[1,"font-bold","text-slate-900"],[1,"text-xs","text-slate-500"],[1,"fas","fa-chevron-right","text-slate-300","group-hover:text-black","transition-colors"],[1,"fas","fa-filter","mr-2","text-slate-400"],[1,"grid","grid-cols-1","gap-3"],[1,"p-4","rounded-xl","bg-red-50","text-red-700","font-bold","text-sm","hover:bg-red-100","transition-colors","flex","items-center","justify-between",3,"click"],[1,"fas","fa-times-circle"],[1,"p-4","rounded-xl","bg-green-50","text-green-700","font-bold","text-sm","hover:bg-green-100","transition-colors","flex","items-center","justify-between",3,"click"],[1,"fas","fa-check-circle"],[1,"p-4","rounded-xl","bg-blue-50","text-blue-700","font-bold","text-sm","hover:bg-blue-100","transition-colors","flex","items-center","justify-between",3,"click"],[1,"fas","fa-star"],[1,"p-4","rounded-xl","bg-slate-100","text-slate-700","font-bold","text-sm","hover:bg-slate-200","transition-colors","flex","items-center","justify-between",3,"click"],[1,"fas","fa-random"],[1,"p-6","border-b","border-slate-100","bg-slate-50","flex","justify-between","items-center"],[1,"text-xs","font-bold","text-slate-500","uppercase","tracking-wider"],[1,"divide-y","divide-slate-100","max-h-[600px]","overflow-y-auto"],[1,"w-full","p-6","text-left","hover:bg-slate-50","transition-colors","flex","items-center","group"],[1,"w-full","p-6","text-left","hover:bg-slate-50","transition-colors","flex","items-center","group",3,"click"],[1,"flex-1"],[1,"flex","items-center","gap-3","mb-2"],[1,"text-[10px]","font-bold","bg-slate-100","px-2","py-0.5","rounded","uppercase"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase"],[1,"text-slate-800","font-medium","line-clamp-2","text-sm"],[1,"fas","fa-arrow-right","text-slate-300","group-hover:text-black","transition-colors","ml-4"],[1,"bg-white","p-8","rounded-2xl","border","border-slate-200","shadow-sm","sticky","top-8"],[1,"flex","items-center","gap-3","mb-6"],[1,"text-xs","font-bold","bg-slate-100","px-3","py-1","rounded-full","text-slate-600","uppercase"],[1,"text-xs","font-bold","bg-black","text-white","px-3","py-1","rounded-full","uppercase"],[1,"bg-slate-50","p-6","rounded-xl","border","border-slate-100","mb-8","max-h-64","overflow-y-auto","italic","text-slate-600","text-sm","leading-relaxed","whitespace-pre-wrap",3,"innerHTML"],[1,"prose","prose-slate","max-w-none","text-slate-800","font-medium","mb-8",3,"innerHTML"],[1,"p-4","rounded-xl","border-2","transition-all","flex","items-start","text-sm",3,"border-green-500","bg-green-50","border-slate-100"],[1,"space-y-6"],[1,"bg-black","text-white","p-8","rounded-2xl","shadow-xl"],[1,"font-bold","text-xl","mb-6","flex","items-center"],[1,"fas","fa-brain","mr-4","text-slate-400"],[1,"p-6","bg-white/10","rounded-xl","border","border-white/10","text-center"],[1,"bg-blue-50","border","border-blue-100","p-6","rounded-2xl","flex","gap-4"],[1,"fas","fa-info-circle","text-blue-400","text-xl"],[1,"text-sm","text-blue-700","leading-relaxed"],[1,"p-4","rounded-xl","border-2","transition-all","flex","items-start","text-sm"],[1,"w-6","h-6","rounded-full","flex","items-center","justify-center","font-bold","mr-4","shrink-0","text-xs"],[3,"innerHTML"],[1,"fas","fa-robot","text-3xl","mb-4","text-slate-400"],[1,"text-sm","text-slate-300"],[1,"space-y-6","relative"],[1,"animate-bounce-in","mt-8","p-6","bg-green-500/20","border","border-green-500/30","rounded-2xl"],[1,"mt-8"],[1,"w-full","py-4","rounded-xl","font-bold","transition-all","flex","items-center","justify-center","gap-3",3,"click","disabled"],[1,"fas","fa-chevron-right","text-xs"],[1,"animate-fade-in-up"],[1,"flex","items-start","gap-4","mb-2"],[1,"w-1.5","h-1.5","rounded-full","bg-slate-400","mt-2","shrink-0"],[1,"font-bold","text-slate-100","text-sm"],[1,"ml-5","p-4","bg-white/5","rounded-xl","border","border-white/5","text-sm","text-slate-300","leading-relaxed"],[1,"flex","items-center","gap-4","mb-3"],[1,"w-10","h-10","rounded-full","bg-green-500","flex","items-center","justify-center","text-white"],[1,"fas","fa-check"],[1,"font-bold","text-white","uppercase","tracking-widest","text-sm"],[1,"text-2xl","font-black","text-white","ml-14"],[1,"mt-4","pt-4","border-t","border-white/10","text-sm","text-green-100","italic",3,"innerHTML"],[1,"w-20","h-20","bg-slate-50","rounded-full","flex","items-center","justify-center","mx-auto","mb-6","text-slate-300"],[1,"fas","fa-search","text-3xl"],[1,"text-xl","font-bold","text-slate-900","mb-2"],[1,"text-slate-500","text-sm","mb-8"],[1,"bg-black","text-white","px-8","py-3","rounded-xl","font-bold","text-sm","hover:scale-105","transition-all",3,"click"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),u(4,"Resolu\xE7\xF5es Guiadas"),v(),h(5,"p",3),u(6,"Aprenda a pensar sobre cada quest\xE3o da ETEC."),v()(),w(7,QD,3,0,"button",4),v(),w(8,WD,37,20,"div",5),w(9,ZD,7,1,"div",6),w(10,cw,24,7,"div",7),w(11,uw,9,0,"div",8),v()),n&2&&(f(7),I(i.viewState()!=="selection"?7:-1),f(),I(i.viewState()==="selection"?8:-1),f(),I(i.viewState()==="list"?9:-1),f(),I(i.viewState()==="viewer"?10:-1),f(),I(i.viewState()==="empty"?11:-1))},dependencies:[ne,Nn],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.animate-bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .6s cubic-bezier(.68,-.55,.265,1.55)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{transform:scale(1)}}.shadow-xl[_ngcontent-%COMP%]{box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a,0 0 0 1px #0000001a}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cbd5e1}"],changeDetection:0})}};var dw=()=>["Matem\xE1tica","Portugu\xEAs","Ci\xEAncias","Hist\xF3ria","Geografia"],fw=(t,e)=>e.id;function pw(t,e){if(t&1&&(p(0,"option",12),u(1),m()),t&2){let n=e.$implicit;J("value",n),f(),S(n)}}function mw(t,e){if(t&1&&(p(0,"option",12),u(1),m()),t&2){let n=e.$implicit;J("value",n),f(),S(n)}}function hw(t,e){t&1&&(p(0,"div",17)(1,"div",18),D(2,"i",19),m(),p(3,"p",20),u(4,"Seu cronograma est\xE1 vazio."),m(),p(5,"p",21),u(6,"Adicione itens manualmente usando o formul\xE1rio ao lado."),m()())}function gw(t,e){if(t&1){let n=B();p(0,"div",27),D(1,"div",28),p(2,"div",29)(3,"div",30)(4,"span",31),u(5),m(),p(6,"span",32),D(7,"i",33),u(8),m()(),p(9,"p",34),u(10),m()(),p(11,"button",35),V("click",function(){let r=M(n).$implicit,o=b(4);return T(o.removeItem(r.id))}),D(12,"i",36),m()()}if(t&2){let n=e.$implicit;f(),$("bg-blue-500",n.subject==="Matem\xE1tica")("bg-red-500",n.subject==="Portugu\xEAs")("bg-green-500",n.subject==="Ci\xEAncias")("bg-yellow-500",n.subject==="Hist\xF3ria")("bg-orange-500",n.subject==="Geografia")("bg-purple-500",!cn(15,dw).includes(n.subject)),f(4),S(n.subject),f(3),N(" ",n.duration),f(2),S(n.topic)}}function vw(t,e){if(t&1&&(p(0,"div",22)(1,"div",23)(2,"h4",24),u(3),m(),p(4,"span",25),u(5),m()(),p(6,"div",26),Y(7,gw,13,16,"div",27,fw),m()()),t&2){let n=b().$implicit,i=b(2);f(3),S(n),f(2),N("",i.getItemsForDay(n).length," atividades"),f(2),Z(i.getItemsForDay(n))}}function yw(t,e){if(t&1&&w(0,vw,9,2,"div",22),t&2){let n=e.$implicit,i=b(2);I(i.getItemsForDay(n).length>0?0:-1)}}function bw(t,e){if(t&1&&Y(0,yw,1,1,null,null,Bt),t&2){let n=b();Z(n.days)}}var ja=class t{constructor(){this.contentService=x(xe);this.schedule=this.contentService.schedule;this.newItem=C({day:"Segunda-feira",subject:"Matem\xE1tica",topic:"",duration:"1h"});this.days=["Segunda-feira","Ter\xE7a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S\xE1bado","Domingo"];this.subjects=["Matem\xE1tica","Portugu\xEAs","Ci\xEAncias","Hist\xF3ria","Geografia","Atualidades"]}addManualItem(){this.newItem().topic.trim()&&(this.contentService.addScheduleItem({day:this.newItem().day,subject:this.newItem().subject,topic:this.newItem().topic,duration:this.newItem().duration}),this.newItem.update(e=>P(O({},e),{topic:""})))}removeItem(e){this.contentService.removeScheduleItem(e)}getItemsForDay(e){return this.schedule().filter(n=>n.day===e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-schedule"]],decls:39,vars:6,consts:[[1,"animate-fade-in","font-sans","text-slate-900","max-w-6xl","mx-auto"],[1,"mb-8","flex","flex-col","md:flex-row","md:items-end","justify-between","gap-4"],[1,"text-3xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","text-sm"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-1"],[1,"bg-white","p-6","rounded-2xl","border","border-slate-200","shadow-sm","sticky","top-6"],[1,"font-bold","text-slate-900","mb-6","flex","items-center"],[1,"fas","fa-plus-circle","mr-2"],[1,"space-y-4"],[1,"block","text-xs","font-bold","text-slate-500","uppercase","tracking-wide","mb-1"],[1,"w-full","p-3","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","font-medium","focus:border-black","focus:ring-0","outline-none",3,"ngModelChange","ngModel"],[3,"value"],["type","text","placeholder","Ex: Equa\xE7\xE3o de 2\xBA Grau",1,"w-full","p-3","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","font-medium","focus:border-black","focus:ring-0","outline-none",3,"ngModelChange","ngModel"],["type","text","placeholder","Ex: 1h 30min",1,"w-full","p-3","bg-slate-50","border","border-slate-200","rounded-lg","text-sm","font-medium","focus:border-black","focus:ring-0","outline-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-slate-900","text-white","font-bold","py-3","rounded-lg","hover:bg-slate-700","transition-colors","disabled:opacity-50","mt-2",3,"click","disabled"],[1,"lg:col-span-2","space-y-6"],[1,"bg-slate-50","border-2","border-dashed","border-slate-200","rounded-2xl","p-12","text-center","flex","flex-col","items-center","justify-center","h-full","min-h-[400px]"],[1,"w-16","h-16","bg-white","rounded-full","flex","items-center","justify-center","text-slate-300","text-2xl","mb-4","shadow-sm"],[1,"far","fa-calendar"],[1,"text-slate-500","font-medium","mb-2"],[1,"text-slate-400","text-sm","max-w-xs"],[1,"bg-white","rounded-2xl","border","border-slate-200","shadow-sm","overflow-hidden"],[1,"bg-slate-50","px-6","py-3","border-b","border-slate-100","flex","justify-between","items-center"],[1,"font-bold","text-slate-900"],[1,"text-xs","font-bold","text-slate-400","uppercase"],[1,"divide-y","divide-slate-50"],[1,"p-4","hover:bg-slate-50","transition-colors","flex","items-center","group"],[1,"w-1","h-12","rounded-full","mr-4"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-1"],[1,"text-[10px]","font-bold","uppercase","tracking-wide","text-slate-400","border","border-slate-200","px-1.5","py-0.5","rounded"],[1,"text-[10px]","font-bold","text-slate-400","flex","items-center"],[1,"far","fa-clock","mr-1"],[1,"font-semibold","text-slate-800"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-slate-300","hover:text-red-500","hover:bg-red-50","transition-all","opacity-0","group-hover:opacity-100",3,"click"],[1,"fas","fa-trash-alt"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),u(4,"Cronograma de Estudos"),m(),p(5,"p",3),u(6,"Organize sua semana adicionando atividades manualmente."),m()()(),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"h3",7),D(11,"i",8),u(12," Adicionar Atividade "),m(),p(13,"div",9)(14,"div")(15,"label",10),u(16,"Dia"),m(),p(17,"select",11),ln("ngModelChange",function(o){return In(i.newItem().day,o)||(i.newItem().day=o),o}),Y(18,pw,2,2,"option",12,Bt),m()(),p(20,"div")(21,"label",10),u(22,"Mat\xE9ria"),m(),p(23,"select",11),ln("ngModelChange",function(o){return In(i.newItem().subject,o)||(i.newItem().subject=o),o}),Y(24,mw,2,2,"option",12,Bt),m()(),p(26,"div")(27,"label",10),u(28,"T\xF3pico / Assunto"),m(),p(29,"input",13),ln("ngModelChange",function(o){return In(i.newItem().topic,o)||(i.newItem().topic=o),o}),m()(),p(30,"div")(31,"label",10),u(32,"Dura\xE7\xE3o"),m(),p(33,"input",14),ln("ngModelChange",function(o){return In(i.newItem().duration,o)||(i.newItem().duration=o),o}),m()(),p(34,"button",15),V("click",function(){return i.addManualItem()}),u(35," Adicionar "),m()()()(),p(36,"div",16),w(37,hw,7,0,"div",17)(38,bw,2,0),m()()()),n&2&&(f(17),an("ngModel",i.newItem().day),f(),Z(i.days),f(5),an("ngModel",i.newItem().subject),f(),Z(i.subjects),f(5),an("ngModel",i.newItem().topic),f(4),an("ngModel",i.newItem().duration),f(),J("disabled",!i.newItem().topic),f(3),I(i.schedule().length===0?37:38))},dependencies:[ne,Mn,h0,v0,Zi,Na,Ta,so],encapsulation:2,changeDetection:0})}};var Ki=class t{constructor(){this.contentService=x(xe);this.activitySessionService=x(Tn);this.questionHistory=x(zt)}getAnalyticsData(){let e=this.contentService.stats(),n=this.activitySessionService.completedSessions(),i=this.buildHistoryFromStats(e);return{overview:this.calculateOverview(e,n),bySubject:this.calculateSubjectStats(i),byDifficulty:this.calculateDifficultyStats(i),timeline:this.calculateTimeline(n),recentSessions:this.getRecentSessions(n),insights:this.generateInsights(e,i)}}buildHistoryFromStats(e){if(e.questionsAnswered===0)return[];let n=[],i=["Matem\xE1tica","Portugu\xEAs","Ci\xEAncias","Hist\xF3ria","Geografia"],r=["F\xE1cil","M\xE9dio","Dif\xEDcil"];for(let o=0;o<e.questionsAnswered;o++){let s=o<e.correctAnswers;n.push({subject:i[o%i.length],difficulty:r[Math.floor(Math.random()*r.length)],correct:s,timestamp:Date.now()-(e.questionsAnswered-o)*6e4})}return n}calculateOverview(e,n){let i=this.calculateStudyDays(n);return{totalQuestions:e.questionsAnswered,correctAnswers:e.correctAnswers,accuracy:e.questionsAnswered>0?Math.round(e.correctAnswers/e.questionsAnswered*100):0,totalXP:e.xp,currentStreak:e.currentStreak,studyDays:i,avgQuestionsPerDay:i>0?Math.round(e.questionsAnswered/i):0}}calculateSubjectStats(e){let n=new Map;return e.forEach(i=>{let r=i.subject||"Geral",o=n.get(r)||{total:0,correct:0};o.total++,i.correct&&o.correct++,n.set(r,o)}),Array.from(n.entries()).map(([i,r])=>({subject:i,totalQuestions:r.total,correctAnswers:r.correct,accuracy:Math.round(r.correct/r.total*100)})).sort((i,r)=>r.totalQuestions-i.totalQuestions)}calculateDifficultyStats(e){let n={easy:{total:0,correct:0,accuracy:0},medium:{total:0,correct:0,accuracy:0},hard:{total:0,correct:0,accuracy:0}};return e.forEach(i=>{let r=i.difficulty?.toLowerCase()||"medium",o=r==="f\xE1cil"?"easy":r==="dif\xEDcil"?"hard":"medium";n[o].total++,i.correct&&n[o].correct++}),Object.keys(n).forEach(i=>{let r=i;n[r].accuracy=n[r].total>0?Math.round(n[r].correct/n[r].total*100):0}),n}calculateTimeline(e){let n=new Date;n.setDate(n.getDate()-30);let i=new Map;return e.forEach(r=>{let o=new Date(r.completedAt||r.startedAt);if(o>=n){let s=o.toISOString().split("T")[0],a=i.get(s)||{xp:0,questions:0};a.xp+=r.earnedXP||0,a.questions+=r.questionsCount||0,i.set(s,a)}}),Array.from(i.entries()).map(([r,o])=>({date:r,xp:o.xp,questionsAnswered:o.questions})).sort((r,o)=>r.date.localeCompare(o.date))}getRecentSessions(e){return e.slice(-10).reverse().map(n=>({id:n.id,type:n.type,date:new Date(n.completedAt||n.startedAt).toISOString(),questionsCount:n.questionsCount,earnedXP:n.earnedXP,duration:this.calculateDuration(n)}))}calculateDuration(e){if(e.completedAt&&e.startedAt)return Math.round((e.completedAt-e.startedAt)/1e3/60)}calculateStudyDays(e){return new Set(e.map(i=>new Date(i.completedAt||i.startedAt).toDateString())).size}generateInsights(e,n){let i=[],r=this.calculateSubjectStats(n);if(r.length>0){let s=r.reduce((a,l)=>a.accuracy>l.accuracy?a:l);s.accuracy>=80&&i.push({type:"strength",title:`Excelente em ${s.subject}`,description:`Voc\xEA tem ${s.accuracy}% de acerto nesta mat\xE9ria!`,icon:"\u{1F31F}"})}if(r.length>0){let s=r.reduce((a,l)=>a.accuracy<l.accuracy?a:l);s.accuracy<60&&s.totalQuestions>=10&&i.push({type:"weakness",title:`Foco em ${s.subject}`,description:`Pratique mais esta mat\xE9ria para melhorar (${s.accuracy}% de acerto)`,icon:"\u{1F4DA}"})}e.currentStreak===0?i.push({type:"recommendation",title:"Comece uma sequ\xEAncia",description:"Estude hoje para iniciar sua streak e ganhar mais XP!",icon:"\u{1F525}"}):e.currentStreak>=7&&i.push({type:"achievement",title:"Streak impressionante!",description:`${e.currentStreak} dias consecutivos! Continue assim.`,icon:"\u{1F4AA}"});let o=e.questionsAnswered>0?e.correctAnswers/e.questionsAnswered*100:0;return o>=85&&e.questionsAnswered>=50&&i.push({type:"achievement",title:"Desempenho excepcional",description:`${Math.round(o)}% de acerto geral. Voc\xEA est\xE1 pronto!`,icon:"\u{1F3AF}"}),i}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}};var b0=(t,e)=>e.subject,_w=(t,e)=>e.title,Cw=(t,e)=>e.id;function xw(t,e){if(t&1&&(h(0,"div",16)(1,"div",23),u(2),v(),h(3,"div",24)(4,"div",25)(5,"span",26),u(6),v()()()()),t&2){let n=e.$implicit,i=b(),r=b();f(2),Qe(" ",r.getSubjectIcon(n.subject)," ",n.subject," "),f(2),De("width",n.totalQuestions/i.overview.totalQuestions*100,"%"),f(2),S(n.totalQuestions)}}function Ew(t,e){if(t&1&&(h(0,"div",16)(1,"div",23),u(2),v(),h(3,"div",24)(4,"div",25)(5,"span",26),u(6),v()()()()),t&2){let n=e.$implicit,i=b(2);f(2),Qe(" ",i.getSubjectIcon(n.subject)," ",n.subject," "),f(2),De("width",n.accuracy,"%")("background",n.accuracy>=80?"#22c55e":n.accuracy>=60?"#000":"#ef4444"),f(2),N("",n.accuracy,"%")}}function Dw(t,e){if(t&1&&(h(0,"div",28)(1,"div",29),u(2),v(),h(3,"div",30)(4,"div",31),u(5),v(),h(6,"div",32),u(7),v()()()),t&2){let n=e.$implicit;Ae(n.type),f(2),S(n.icon),f(3),S(n.title),f(2),S(n.description)}}function ww(t,e){if(t&1&&(h(0,"div",5)(1,"h2",6),u(2,"\u{1F4A1} Insights"),v(),h(3,"div",12),Y(4,Dw,8,5,"div",27,_w),v()()),t&2){let n=b();f(4),Z(n.insights)}}function Iw(t,e){if(t&1&&(h(0,"tr")(1,"td"),u(2),v(),h(3,"td")(4,"span",34),u(5),v()(),h(6,"td"),u(7),v(),h(8,"td"),u(9),v(),h(10,"td"),u(11),v()()),t&2){let n=e.$implicit,i=b(3);f(2),S(i.formatDate(n.date)),f(2),Ae(n.type),f(),N(" ",n.type==="quiz"?"Simulado":"Interpreta\xE7\xE3o"," "),f(2),S(n.questionsCount),f(2),N("+",n.earnedXP," XP"),f(2),S(i.formatDuration(n.duration))}}function Sw(t,e){if(t&1&&(h(0,"div",5)(1,"h2",6),u(2,"\u{1F552} Sess\xF5es Recentes"),v(),h(3,"div",13)(4,"table",33)(5,"thead")(6,"tr")(7,"th"),u(8,"Data"),v(),h(9,"th"),u(10,"Tipo"),v(),h(11,"th"),u(12,"Quest\xF5es"),v(),h(13,"th"),u(14,"XP Ganho"),v(),h(15,"th"),u(16,"Dura\xE7\xE3o"),v()()(),h(17,"tbody"),Y(18,Iw,12,7,"tr",null,Cw),v()()()()),t&2){let n=b();f(18),Z(n.recentSessions)}}function Mw(t,e){if(t&1&&(h(0,"div",2)(1,"h1",3),u(2,"Relat\xF3rios e Analytics"),v(),h(3,"p",4),u(4,"Acompanhe seu progresso e desempenho detalhado"),v()(),h(5,"div",5)(6,"h2",6),u(7,"\u{1F4CA} Resumo Geral"),v(),h(8,"div",7)(9,"div",8)(10,"div",9),u(11,"\u{1F4DD}"),v(),h(12,"div",10),u(13),v(),h(14,"div",11),u(15,"Quest\xF5es Respondidas"),v()(),h(16,"div",8)(17,"div",9),u(18,"\u{1F3AF}"),v(),h(19,"div",10),u(20),v(),h(21,"div",11),u(22,"Taxa de Acerto"),v()(),h(23,"div",8)(24,"div",9),u(25,"\u26A1"),v(),h(26,"div",10),u(27),v(),h(28,"div",11),u(29,"XP Total"),v()(),h(30,"div",8)(31,"div",9),u(32,"\u{1F525}"),v(),h(33,"div",10),u(34),v(),h(35,"div",11),u(36,"Dias de Streak"),v()()()(),h(37,"div",5)(38,"h2",6),u(39,"\u{1F4DA} Desempenho por Mat\xE9ria"),v(),h(40,"div",12)(41,"div",13)(42,"h3",14),u(43,"Quest\xF5es por Mat\xE9ria"),v(),h(44,"div",15),Y(45,xw,7,5,"div",16,b0),v()(),h(47,"div",13)(48,"h3",14),u(49,"Acur\xE1cia por Mat\xE9ria"),v(),h(50,"div",15),Y(51,Ew,7,7,"div",16,b0),v()()()(),h(53,"div",5)(54,"h2",6),u(55,"\u2699\uFE0F Desempenho por Dificuldade"),v(),h(56,"div",17)(57,"div",8)(58,"div",9),u(59,"\u{1F60A}"),v(),h(60,"div",10),u(61),v(),h(62,"div",11),u(63),v()(),h(64,"div",8)(65,"div",9),u(66,"\u{1F914}"),v(),h(67,"div",10),u(68),v(),h(69,"div",11),u(70),v()(),h(71,"div",8)(72,"div",9),u(73,"\u{1F630}"),v(),h(74,"div",10),u(75),v(),h(76,"div",11),u(77),v()()()(),h(78,"div",5)(79,"h2",6),u(80,"\u{1F4C8} Distribui\xE7\xE3o de Respostas"),v(),h(81,"div",13),A(82,"div",18),h(83,"div",19)(84,"div",20),A(85,"div",21),h(86,"span"),u(87),v()(),h(88,"div",20),A(89,"div",22),h(90,"span"),u(91),v()()()()(),w(92,ww,6,0,"div",5),w(93,Sw,20,0,"div",5)),t&2){let n=e,i=b();f(13),S(n.overview.totalQuestions),f(7),N("",n.overview.accuracy,"%"),f(7),S(n.overview.totalXP),f(7),S(n.overview.currentStreak),f(11),Z(n.bySubject),f(6),Z(n.bySubject),f(10),N("",n.byDifficulty.easy.accuracy,"%"),f(2),N("F\xE1cil (",n.byDifficulty.easy.total," quest\xF5es)"),f(5),N("",n.byDifficulty.medium.accuracy,"%"),f(2),N("M\xE9dio (",n.byDifficulty.medium.total," quest\xF5es)"),f(5),N("",n.byDifficulty.hard.accuracy,"%"),f(2),N("Dif\xEDcil (",n.byDifficulty.hard.total," quest\xF5es)"),f(5),Bu(i.getPieChartStyle(n.overview.correctAnswers,n.overview.totalQuestions)),f(5),N("Acertos (",n.overview.correctAnswers,")"),f(4),N("Erros (",n.overview.totalQuestions-n.overview.correctAnswers,")"),f(),I(n.insights.length>0?92:-1),f(),I(n.recentSessions.length>0?93:-1)}}function Tw(t,e){t&1&&(h(0,"div",1)(1,"div",35),u(2,"\u{1F4CA}"),v(),h(3,"p"),u(4,"Nenhum dado dispon\xEDvel ainda. Comece respondendo quest\xF5es!"),v()())}var Va=class t{constructor(){this.analyticsService=x(Ki);this.data=C(null)}ngOnInit(){this.loadData()}loadData(){let e=this.analyticsService.getAnalyticsData();this.data.set(e)}getSubjectIcon(e){return{Matem\u00E1tica:"\u{1F4D0}",Portugu\u00EAs:"\u{1F4D6}",Ci\u00EAncias:"\u{1F9EA}",Hist\u00F3ria:"\u{1F30D}",Geografia:"\u{1F5FA}\uFE0F",Geral:"\u{1F4DA}"}[e]||"\u{1F4C4}"}formatDate(e){return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}formatDuration(e){if(!e)return"-";if(e<60)return`${e}min`;let n=Math.floor(e/60),i=e%60;return`${n}h ${i}min`}getPieChartStyle(e,n){let i=n>0?e/n*100:0;return{background:`conic-gradient(#000 0% ${i}%, #e5e5e5 ${i}% 100%)`}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-analytics"]],decls:3,vars:1,consts:[[1,"analytics-container"],[1,"empty-state"],[1,"header"],[1,"title"],[1,"subtitle"],[1,"section"],[1,"section-title"],[1,"grid","grid-4"],[1,"card","stat-card"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"grid","grid-2"],[1,"card"],[2,"font-size","15px","font-weight","600","margin","0 0 16px 0"],[1,"bar-chart"],[1,"bar-item"],[1,"grid","grid-3"],[1,"pie-chart"],[1,"pie-legend"],[1,"legend-item"],[1,"legend-color",2,"background","#000"],[1,"legend-color",2,"background","#e5e5e5"],[1,"bar-label"],[1,"bar-track"],[1,"bar-fill"],[1,"bar-value"],[1,"insight-card",3,"class"],[1,"insight-card"],[1,"insight-icon"],[1,"insight-content"],[1,"insight-title"],[1,"insight-desc"],[1,"session-table"],[1,"badge"],[1,"empty-icon"]],template:function(n,i){if(n&1&&(h(0,"div",0),w(1,Mw,94,16)(2,Tw,5,0,"div",1),v()),n&2){let r;f(),I((r=i.data())?1:2,r)}},dependencies:[ne],styles:[".analytics-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:32px}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#000;margin:0 0 8px}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#666}.section[_ngcontent-%COMP%]{margin-bottom:32px}.section-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#000;margin:0 0 16px}.grid[_ngcontent-%COMP%]{display:grid;gap:20px}.grid-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.grid-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.grid-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}@media(max-width:1024px){.grid-3[_ngcontent-%COMP%], .grid-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.grid-2[_ngcontent-%COMP%], .grid-3[_ngcontent-%COMP%], .grid-4[_ngcontent-%COMP%]{grid-template-columns:1fr}}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e5e5;border-radius:12px;padding:20px;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{border-color:#000;box-shadow:0 4px 12px #0000000d}.stat-card[_ngcontent-%COMP%]{text-align:center}.stat-icon[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px}.stat-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#000;margin-bottom:4px}.stat-label[_ngcontent-%COMP%]{font-size:13px;color:#666;text-transform:uppercase;letter-spacing:.5px}.chart-container[_ngcontent-%COMP%]{padding:16px 0}.bar-chart[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.bar-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.bar-label[_ngcontent-%COMP%]{min-width:100px;font-size:13px;font-weight:600;color:#000}.bar-track[_ngcontent-%COMP%]{flex:1;background:#f0f0f0;height:24px;border-radius:4px;overflow:hidden;position:relative}.bar-fill[_ngcontent-%COMP%]{background:#000;height:100%;transition:width .6s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:8px}.bar-value[_ngcontent-%COMP%]{color:#fff;font-size:12px;font-weight:600}.pie-chart[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:50%;margin:20px auto;position:relative}.pie-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;margin-top:16px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:13px}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}.insight-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;border-radius:8px}.insight-card.strength[_ngcontent-%COMP%]{background:#f0fdf4;border:1px solid #86efac}.insight-card.weakness[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fca5a5}.insight-card.recommendation[_ngcontent-%COMP%]{background:#eff6ff;border:1px solid #93c5fd}.insight-card.achievement[_ngcontent-%COMP%]{background:#fefce8;border:1px solid #fde047}.insight-icon[_ngcontent-%COMP%]{font-size:24px}.insight-content[_ngcontent-%COMP%]{flex:1}.insight-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000;margin-bottom:4px}.insight-desc[_ngcontent-%COMP%]{font-size:13px;color:#666}.session-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.session-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:12px;font-size:12px;font-weight:600;text-transform:uppercase;color:#666;border-bottom:2px solid #e5e5e5}.session-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;font-size:13px;border-bottom:1px solid #f0f0f0}.session-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:600;text-transform:uppercase}.badge.quiz[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.badge.interpretation[_ngcontent-%COMP%]{background:#f3e8ff;color:#6b21a8}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#999}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.5}"]})}};function Aw(t,e){t&1&&(h(0,"div",2)(1,"div",3),A(2,"div",4)(3,"i",5),v(),h(4,"div",6)(5,"h4",7),u(6,"Preparando sua Aula"),v(),h(7,"p",8),u(8,"Carregando Conex\xE3o Estelar..."),v()()())}var Ba=class t{constructor(){this.videoEnded=new ce;this.videoLoaded=C(!1)}ngOnInit(){this.initYoutubePlayer()}ngOnDestroy(){this.player&&this.player.destroy&&this.player.destroy()}initYoutubePlayer(){if(!window.YT){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let n=document.getElementsByTagName("script")[0];n.parentNode?.insertBefore(e,n)}window.onYouTubeIframeAPIReady=()=>this.createPlayer(),window.YT&&window.YT.Player&&this.createPlayer()}createPlayer(){this.player=new window.YT.Player("yt-player-container",{videoId:this.videoId,playerVars:{autoplay:1,rel:0,modestbranding:1},events:{onReady:()=>this.videoLoaded.set(!0),onStateChange:e=>{e.data===0&&this.videoEnded.emit()}}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-video-player"]],inputs:{videoId:"videoId"},outputs:{videoEnded:"videoEnded"},decls:3,vars:1,consts:[[1,"relative","aspect-video","bg-black","rounded-[2.5rem]","shadow-[0_0_100px_rgba(59,130,246,0.15)]","overflow-hidden","border","border-white/5","group"],["id","yt-player-container",1,"w-full","h-full"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","gap-6","bg-slate-100","z-10"],[1,"relative"],[1,"w-20","h-20","rounded-full","border-2","border-blue-500/20","border-t-blue-500","animate-spin"],[1,"fas","fa-play","absolute","inset-0","flex","items-center","justify-center","text-blue-500","text-2xl"],[1,"text-center"],[1,"text-slate-900","font-bold","text-lg"],[1,"text-slate-500","text-xs","mt-1","uppercase","tracking-widest","font-black"]],template:function(n,i){n&1&&(h(0,"div",0),A(1,"div",1),w(2,Aw,9,0,"div",2),v()),n&2&&(f(2),I(i.videoLoaded()?-1:2))},dependencies:[ne],encapsulation:2})}};var Nw=(t,e)=>e.url;function Ow(t,e){t&1&&(h(0,"div",6)(1,"div",9),A(2,"div",10),h(3,"div",11),A(4,"i",12),v()(),h(5,"p",13),u(6,"Pesquisando e sintetizando..."),v(),h(7,"p",14),u(8,"Pode levar alguns segundos"),v()())}function kw(t,e){if(t&1){let n=B();h(0,"div",7),A(1,"i",15),h(2,"p",16),u(3),v(),h(4,"button",17),Q("click",function(){M(n);let r=b();return T(r.generate())}),A(5,"i",18),u(6," Tentar Novamente "),v()()}if(t&2){let n=b();f(3),S(n.errorMessage())}}function Rw(t,e){if(t&1&&(h(0,"li",31)(1,"div",36)(2,"span",37),u(3),v()(),h(4,"p",38),u(5),v()()),t&2){let n=e.$implicit,i=e.$index;f(3),S(i+1),f(2),S(n)}}function Pw(t,e){if(t&1&&(h(0,"div",32)(1,"div",20)(2,"div",39),A(3,"i",40),v(),h(4,"span",41),u(5,"Para a Prova"),v()(),h(6,"p",42),u(7),v()()),t&2){let n=b(2);f(7),S(n.summary().memorizeTip)}}function Fw(t,e){if(t&1&&(h(0,"a",45),A(1,"i",46),u(2),v()),t&2){let n=e.$implicit;Ve("href",n.url,tn),f(2),N(" ",n.source," ")}}function Lw(t,e){if(t&1&&(h(0,"div")(1,"p",43),u(2,"Fontes Consultadas"),v(),h(3,"div",44),Y(4,Fw,3,2,"a",45,Nw),v()()),t&2){let n=b(2);f(4),Z(n.summary().sources)}}function jw(t,e){if(t&1){let n=B();h(0,"div",8)(1,"div",19)(2,"div",20)(3,"div",21),A(4,"i",22),v(),h(5,"span",23),u(6,"Introdu\xE7\xE3o"),v()(),h(7,"p",24),u(8),v()(),h(9,"div",25)(10,"div",26)(11,"div",27),A(12,"i",28),v(),h(13,"span",29),u(14,"Pontos-Chave"),v()(),h(15,"ul",30),Y(16,Rw,6,2,"li",31,Ze),v()(),w(18,Pw,8,1,"div",32),w(19,Lw,6,0,"div"),h(20,"div",33)(21,"button",34),Q("click",function(){M(n);let r=b();return T(r.regenerate())}),A(22,"i",35),u(23," Gerar novamente "),v()()()}if(t&2){let n=b();f(8),S(n.summary().intro),f(8),Z(n.summary().keyPoints),f(2),I(n.summary().memorizeTip?18:-1),f(),I(n.summary().sources.length>0?19:-1)}}var Ha=class t{constructor(e){this.aiService=e;this.loadingState=new ce;this.summary=C(null);this.isLoading=C(!1);this.errorMessage=C(null)}ngOnInit(){this.generate()}async generate(){if(!this.isLoading()){this.isLoading.set(!0),this.errorMessage.set(null),this.loadingState.emit(!0);try{let e=await this.aiService.getLessonSummary(this.lessonTitle,this.lessonSubject,this.lessonId);e?.type==="lesson_summary"?this.summary.set(e):this.errorMessage.set(e?.message||"Nenhum resultado encontrado.")}catch(e){console.error("Research failed",e),this.errorMessage.set("Falha na conex\xE3o com o servi\xE7o de pesquisa.")}finally{this.isLoading.set(!1),this.loadingState.emit(!1)}}}async regenerate(){let e=this.lessonId?`vestbot_lesson_summary_v1_${this.lessonId}`:`vestbot_lesson_summary_v1_${btoa(this.lessonTitle)}`;localStorage.removeItem(e),this.summary.set(null),await this.generate()}static{this.\u0275fac=function(n){return new(n||t)(K(Ut))}}static{this.\u0275cmp=ie({type:t,selectors:[["app-web-research"]],inputs:{lessonTitle:"lessonTitle",lessonSubject:"lessonSubject",lessonId:"lessonId"},outputs:{loadingState:"loadingState"},decls:12,vars:3,consts:[[1,"animate-fade-in-up"],[1,"flex","items-center","gap-6","mb-12"],[1,"w-14","h-14","rounded-2xl","bg-blue-100","border","border-blue-200","flex","items-center","justify-center","text-blue-600","text-xl","shadow-sm"],[1,"fas","fa-brain"],[1,"text-3xl","font-black","text-slate-900"],[1,"text-slate-500","text-xs","font-bold","uppercase","tracking-widest","mt-2"],[1,"flex","flex-col","items-center","justify-center","py-24","animate-fade-in"],[1,"bg-red-50","border","border-red-200","rounded-[2rem]","p-10","text-center","animate-fade-in","shadow-sm"],[1,"space-y-8","animate-fade-in"],[1,"relative","mb-8"],[1,"w-16","h-16","rounded-full","border-2","border-blue-500/20","border-t-blue-500","animate-spin"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"fas","fa-sparkles","text-blue-400","text-xs"],[1,"text-slate-400","font-bold","text-sm","animate-pulse"],[1,"text-slate-600","text-xs","mt-2"],[1,"fas","fa-triangle-exclamation","text-red-500","text-3xl","mb-4","block"],[1,"text-red-700","font-bold","mb-6"],[1,"bg-red-600","hover:bg-red-700","text-white","font-bold","px-6","py-3","rounded-xl","transition-all","text-sm","border","border-red-700","shadow-sm",3,"click"],[1,"fas","fa-redo","mr-2"],[1,"bg-gradient-to-br","from-blue-50","to-indigo-50","border","border-blue-200","rounded-[2rem]","p-10","shadow-sm"],[1,"flex","items-center","gap-3","mb-5"],[1,"w-8","h-8","rounded-xl","bg-blue-200","flex","items-center","justify-center"],[1,"fas","fa-book-open","text-blue-600","text-xs"],[1,"text-blue-700","font-black","text-xs","uppercase","tracking-widest"],[1,"text-slate-700","leading-relaxed","text-base"],[1,"bg-white","border","border-slate-200","rounded-[2rem]","p-10","shadow-sm"],[1,"flex","items-center","gap-3","mb-8"],[1,"w-8","h-8","rounded-xl","bg-amber-100","flex","items-center","justify-center"],[1,"fas","fa-list-check","text-amber-600","text-xs"],[1,"text-amber-700","font-black","text-xs","uppercase","tracking-widest"],[1,"space-y-4"],[1,"flex","items-start","gap-4","group"],[1,"bg-gradient-to-br","from-emerald-50","to-green-50","border","border-emerald-200","rounded-[2rem]","p-10","shadow-sm"],[1,"flex","justify-end","pt-4"],[1,"flex","items-center","gap-2","text-slate-400","hover:text-slate-600","text-xs","font-bold","transition-colors",3,"click"],[1,"fas","fa-rotate-right"],[1,"w-6","h-6","rounded-lg","bg-amber-100","flex","items-center","justify-center","shrink-0","mt-0.5","group-hover:bg-amber-200","transition-colors"],[1,"text-amber-600","text-[10px]","font-black"],[1,"text-slate-700","leading-relaxed","text-sm"],[1,"w-8","h-8","rounded-xl","bg-emerald-200","flex","items-center","justify-center"],[1,"fas","fa-lightbulb","text-emerald-600","text-xs"],[1,"text-emerald-700","font-black","text-xs","uppercase","tracking-widest"],[1,"text-emerald-800","leading-relaxed","font-medium"],[1,"text-slate-500","text-xs","font-bold","uppercase","tracking-widest","mb-4"],[1,"flex","flex-wrap","gap-3"],["target","_blank",1,"flex","items-center","gap-2","bg-slate-100","hover:bg-slate-200","border","border-slate-200","hover:border-blue-300","text-slate-600","hover:text-blue-600","text-xs","font-bold","px-4","py-2","rounded-full","transition-all","shadow-sm",3,"href"],[1,"fas","fa-external-link-alt","text-[9px]"]],template:function(n,i){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),A(3,"i",3),v(),h(4,"div")(5,"h2",4),u(6,"Resumo Inteligente"),v(),h(7,"p",5),u(8,"Gerado por IA \xB7 Fontes Acad\xEAmicas"),v()()(),w(9,Ow,9,0,"div",6),w(10,kw,7,1,"div",7),w(11,jw,24,3,"div",8),v()),n&2&&(f(9),I(i.isLoading()?9:-1),f(),I(i.errorMessage()&&!i.isLoading()?10:-1),f(),I(i.summary()&&!i.isLoading()?11:-1))},dependencies:[ne],encapsulation:2})}};var $a=class t{constructor(){this.close=new ce;this.completed=new ce;this.isLoadingSummary=C(!1);this.canComplete=C(!1)}onVideoEnded(){this.canComplete.set(!0),console.log("\u2705 Video concluded. XP unlocked.")}markAsCompleted(){this.canComplete()&&(this.completed.emit(this.lesson.id),this.close.emit())}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-lesson-player"]],inputs:{lesson:"lesson"},outputs:{close:"close",completed:"completed"},decls:41,vars:22,consts:[[1,"fixed","inset-0","z-[100]","bg-white/98","backdrop-blur-xl","animate-fade-in","flex","flex-col","items-center","overflow-hidden","font-sans"],[1,"w-full","h-20","px-8","flex","items-center","justify-between","z-[120]","bg-gradient-to-b","from-white","to-transparent","shrink-0"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","rounded-xl","bg-slate-100","border","border-slate-200","flex","items-center","justify-center","shadow-sm"],[1,"fas","fa-robot","text-blue-600"],[1,"text-slate-700","font-bold","text-sm","tracking-tight"],[1,"text-blue-600"],[1,"w-10","h-10","rounded-full","bg-slate-50","border","border-slate-200","text-slate-400","hover:text-red-500","hover:bg-red-50","transition-all","flex","items-center","justify-center","shadow-sm",3,"click"],[1,"fas","fa-times"],[1,"w-full","flex-1","flex","flex-col","overflow-hidden"],[1,"flex-1","h-full","overflow-y-auto","no-scrollbar","pb-10"],[1,"max-w-6xl","mx-auto","px-4","md:px-12","pt-4"],[1,"mb-12"],[3,"videoEnded","videoId"],[1,"flex","flex-col","md:flex-row","justify-between","items-start","md:items-end","gap-8","mb-16","px-4"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-4"],[1,"px-3","py-1","rounded-full","bg-blue-100","border","border-blue-200","text-blue-600","text-[9px]","font-black","uppercase","tracking-tighter"],[1,"text-slate-400","text-[10px]","font-bold","uppercase"],[1,"text-3xl","md:text-5xl","font-black","text-slate-900","leading-tight","tracking-tight","max-w-4xl"],[1,"px-4","min-h-[400px]"],[3,"loadingState","lessonTitle","lessonSubject","lessonId"],[1,"mt-24","mb-20","px-4"],[1,"relative","group"],[1,"absolute","-inset-1","bg-gradient-to-r","from-blue-300","to-indigo-300","rounded-[2.5rem]","blur","opacity-40","group-hover:opacity-60","transition","duration-1000","group-hover:duration-200"],[1,"flex","items-center","gap-8"],[1,"fas"],[1,"text-slate-500","text-sm","font-medium","leading-relaxed","max-w-xs"],[3,"click","disabled"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),D(4,"i",4),m(),p(5,"span",5),u(6,"VestBot "),p(7,"span",6),u(8,"Player"),m()()(),p(9,"button",7),V("click",function(){return i.close.emit()}),D(10,"i",8),m()(),p(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"app-video-player",13),V("videoEnded",function(){return i.onVideoEnded()}),m()(),p(16,"div",14)(17,"div",15)(18,"div",16)(19,"span",17),u(20),m(),p(21,"span",18),u(22),m()(),p(23,"h1",19),u(24),m()()(),p(25,"div",20)(26,"app-web-research",21),V("loadingState",function(o){return i.isLoadingSummary.set(o)}),m()(),p(27,"div",22)(28,"div",23),D(29,"div",24),p(30,"div")(31,"div",25)(32,"div"),D(33,"i",26),m(),p(34,"div")(35,"h4"),u(36," Recompensa da Jornada"),m(),p(37,"p",27),u(38),m()()(),p(39,"button",28),V("click",function(){return i.markAsCompleted()}),u(40),m()()()()()()()()),n&2&&(f(15),J("videoId",i.lesson.id),f(5),N(" ",i.lesson.subject," "),f(2),N("\u2022 ",i.lesson.duration," DE PURO CONHECIMENTO"),f(2),N(" ",i.lesson.title," "),f(2),J("lessonTitle",i.lesson.title)("lessonSubject",i.lesson.subject)("lessonId",i.lesson.id),f(4),Ae("relative flex flex-col md:flex-row items-center justify-between gap-8 p-10 md:p-14 rounded-[2.5rem] border border-slate-200 transition-all "+(i.canComplete()?"bg-white":"bg-slate-50")),f(2),Ae("w-20 h-20 rounded-2xl flex items-center justify-center text-3xl shrink-0 "+(i.canComplete()?"bg-blue-500 text-white shadow-2xl shadow-blue-500/30":"bg-slate-200 text-slate-400 border border-slate-300")),f(),$("fa-gift",i.canComplete())("fa-lock",!i.canComplete()),f(2),Ae("text-2xl font-black mb-2 "+(i.canComplete()?"text-slate-900":"text-slate-700")),f(3),N(" ",i.canComplete()?"V\xEDdeo conclu\xEDdo! Clique para receber seu reconhecimento.":"Assista ao v\xEDdeo completo para desbloquear seus pontos de experi\xEAncia."," "),f(),Ae("w-full md:w-auto px-16 py-6 rounded-2xl font-black text-sm uppercase tracking-widest transition-all "+(i.canComplete()?"bg-blue-600 hover:bg-blue-500 text-white shadow-2xl shadow-blue-600/20 hover:scale-105 active:scale-95":"bg-slate-200 text-slate-400 cursor-not-allowed border border-slate-300")),J("disabled",!i.canComplete()),f(),N(" ",i.canComplete()?"Resgatar 500 XP":"Bloqueado"," "))},dependencies:[ne,Ba,Ha],styles:[".no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}@keyframes _ngcontent-%COMP%_bounce-subtle{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.animate-bounce-subtle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-subtle 2s infinite}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .5s ease-out}@keyframes _ngcontent-%COMP%_fade-in-up{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-up .6s ease-out}@keyframes _ngcontent-%COMP%_scale-in{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-scale-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-in .4s cubic-bezier(.16,1,.3,1)}"]})}};var Rd=(t,e)=>e.id;function Vw(t,e){t&1&&(p(0,"div",8),D(1,"i",17),m())}function Bw(t,e){if(t&1&&D(0,"img",26),t&2){let n=b().$implicit;J("src",n.thumbnail,tn)}}function Hw(t,e){t&1&&D(0,"i",27)}function $w(t,e){if(t&1){let n=B();p(0,"div",24),V("click",function(){let r=M(n).$implicit,o=b(2);return T(o.selectedLesson.set(r))}),p(1,"div",25),w(2,Bw,1,1,"img",26)(3,Hw,1,0,"i",27),D(4,"div",28)(5,"div",29),m(),p(6,"div",30)(7,"span",31),u(8),m(),p(9,"h4",32),u(10),m(),p(11,"p",33),u(12),m()(),p(13,"div",34),D(14,"i",35),m()()}if(t&2){let n=e.$implicit,i=b(2);f(2),I(n.thumbnail?2:3),f(3),De("width",i.getLessonProgress(n.id),"%"),f(3),S(n.subject),f(2),S(n.title),f(2),N("",n.duration," \u2022 Assistir agora")}}function Uw(t,e){if(t&1&&(p(0,"div",10)(1,"div",18)(2,"span",19),D(3,"i",20),u(4," Sugest\xE3o IA "),m(),p(5,"span",21),u(6,"Aulas ideais para refor\xE7ar seus pontos fracos"),m()(),p(7,"div",22),Y(8,$w,15,6,"div",23,Rd),m()()),t&2){let n=b();f(8),Z(n.recommendedLessons())}}function zw(t,e){t&1&&(p(0,"div",43),D(1,"i",53),u(2," CONCLU\xCDDA "),m())}function qw(t,e){if(t&1&&D(0,"img",45),t&2){let n=b().$implicit;J("src",n.thumbnail,tn)}}function Gw(t,e){t&1&&D(0,"i",46)}function Qw(t,e){if(t&1){let n=B();p(0,"div",42),V("click",function(){let r=M(n).$implicit,o=b(2);return T(o.selectedLesson.set(r))}),w(1,zw,3,0,"div",43),p(2,"div",44),w(3,qw,1,1,"img",45)(4,Gw,1,0,"i",46),p(5,"div",47)(6,"div",48),D(7,"i",49),m()()(),p(8,"div",50)(9,"span",51),u(10),m(),p(11,"h4",52),u(12),m()()()}if(t&2){let n=e.$implicit,i=b(2);f(),I(i.isLessonCompleted(n.id)?1:-1),f(2),I(n.thumbnail?3:4),f(7),S(n.subject),f(2),S(n.title)}}function Ww(t,e){if(t&1){let n=B();p(0,"div",10)(1,"div",36)(2,"div",37)(3,"span",38),D(4,"i",39),u(5," Minhas Descobertas "),m(),p(6,"span",21),u(7,"Aulas encontradas por voc\xEA"),m()(),p(8,"button",40),V("click",function(){M(n);let r=b();return T(r.clearDiscoveries())}),D(9,"i",41),u(10," LIMPAR TUDO "),m()(),p(11,"div",14),Y(12,Qw,13,4,"div",15,Rd),m()()}if(t&2){let n=b();f(12),Z(n.discoveredLessons())}}function Yw(t,e){if(t&1){let n=B();p(0,"div",11),D(1,"div",54),p(2,"div",55)(3,"span",56),u(4,"Destaque do Dia"),m(),p(5,"h3",57),u(6,"Matem\xE1tica: Geometria Espacial para ETEC"),m(),p(7,"p",58),u(8," Aprenda a calcular volumes e \xE1reas de prismas e pir\xE2mides, um dos temas mais recorrentes no vestibulinho. "),m(),p(9,"div",59)(10,"div",60),D(11,"i",61),p(12,"span",62),u(13,"45 minutos"),m()(),p(14,"div",60),D(15,"i",63),p(16,"span",62),u(17,"Videoaula + Material"),m()()(),p(18,"button",64),V("click",function(){M(n);let r=b();return T(r.selectedLesson.set(r.filteredLessons()[0]??r.lessons()[0]))}),u(19," Assistir Agora "),D(20,"i",65),m()()()}}function Zw(t,e){if(t&1){let n=B();p(0,"button",66),V("click",function(){let r=M(n).$implicit,o=b();return T(o.selectedCategory.set(r))}),u(1),m()}if(t&2){let n=e.$implicit,i=b();Ae("px-6 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap "+(i.selectedCategory()===n?"bg-black text-white shadow-md":"bg-white text-slate-500 border border-slate-200 hover:border-black")),f(),N(" ",n," ")}}function Xw(t,e){t&1&&(p(0,"div",43),D(1,"i",53),u(2," CONCLU\xCDDA "),m())}function Kw(t,e){if(t&1&&D(0,"img",45),t&2){let n=b().$implicit;J("src",n.thumbnail,tn)}}function Jw(t,e){t&1&&D(0,"i",46)}function e1(t,e){t&1&&D(0,"i",73)}function t1(t,e){if(t&1){let n=B();p(0,"div",42),V("click",function(){let r=M(n).$implicit,o=b();return T(o.selectedLesson.set(r))}),w(1,Xw,3,0,"div",43),p(2,"div",44),w(3,Kw,1,1,"img",45)(4,Jw,1,0,"i",46),p(5,"div",47)(6,"div",48),D(7,"i",49),m()(),p(8,"div",67),u(9),m(),p(10,"div",68),D(11,"div",69),m()(),p(12,"div",70)(13,"div",71)(14,"span",72),u(15),m(),w(16,e1,1,0,"i",73),m(),p(17,"h4",74),u(18),m()()()}if(t&2){let n=e.$implicit,i=b();f(),I(i.isLessonCompleted(n.id)?1:-1),f(2),I(n.thumbnail?3:4),f(6),N(" ",n.duration," "),f(2),De("width",i.getLessonProgress(n.id),"%"),f(4),S(n.subject),f(),I(n.isLocked?16:-1),f(2),S(n.title)}}function n1(t,e){if(t&1){let n=B();p(0,"app-lesson-player",75),V("close",function(){M(n);let r=b();return T(r.selectedLesson.set(null))})("completed",function(r){M(n);let o=b();return T(o.onLessonCompleted(r))}),m()}if(t&2){let n=b();J("lesson",n.selectedLesson())}}var Ua=class t{constructor(){this.aiService=x(Ut);this.analyticsService=x(Ki);this.userDataService=x(yt);this.categories=C(["Todos","Matem\xE1tica","Portugu\xEAs","Humanas","Ci\xEAncias"]);this.selectedCategory=C("Todos");this.searchQuery=C("");this.isSearching=C(!1);this.recommendedLessonIds=C([]);this.searchResults=C([]);this.discoveredLessons=C([]);this.selectedLesson=C(null);this.DISCOVERED_KEY="vestbot_discovered_lessons";this.lessons=C([{id:"1Tf-K4jGv-M",title:"Regra de Tr\xEAs Composta",duration:"22:15",subject:"Matem\xE1tica",thumbnail:"https://i.ytimg.com/vi/1Tf-K4jGv-M/mqdefault.jpg",isLocked:!1},{id:"WpY5Y_WkI4A",title:"Figuras de Linguagem: Met\xE1fora e Ironia",duration:"15:40",subject:"Portugu\xEAs",thumbnail:"https://i.ytimg.com/vi/WpY5Y_WkI4A/mqdefault.jpg",isLocked:!1},{id:"m6_KIsW8P3g",title:"Era Vargas e o Estado Novo",duration:"30:00",subject:"Humanas",thumbnail:"https://i.ytimg.com/vi/m6_KIsW8P3g/mqdefault.jpg",isLocked:!1},{id:"D5V46_A9c0k",title:"Ecossistemas e Cadeia Alimentar",duration:"18:20",subject:"Ci\xEAncias",thumbnail:"https://i.ytimg.com/vi/D5V46_A9c0k/mqdefault.jpg",isLocked:!1},{id:"v_K7l7Y_C9s",title:"Qu\xEDmica: Tabela Peri\xF3dica Simplificada",duration:"25:10",subject:"Ci\xEAncias",thumbnail:"https://i.ytimg.com/vi/v_K7l7Y_C9s/mqdefault.jpg",isLocked:!1},{id:"fS9eW6h9T8A",title:"Interpreta\xE7\xE3o de Gr\xE1ficos e Tabelas",duration:"12:45",subject:"Matem\xE1tica",thumbnail:"https://i.ytimg.com/vi/fS9eW6h9T8A/mqdefault.jpg",isLocked:!1}]);this.filteredLessons=oe(()=>{let e=this.selectedCategory(),n=this.searchQuery().toLowerCase(),i=this.searchResults(),r=this.discoveredLessons(),o=this.lessons(),s=n.length>=3?i:[...o,...r];return s=Array.from(new Map(s.map(a=>[a.id,a])).values()),s.filter(a=>{let l=e==="Todos"||a.subject===e,c=!n||a.title.toLowerCase().includes(n)||a.subject.toLowerCase().includes(n);return l&&c})});this.recommendedLessons=oe(()=>{let e=this.recommendedLessonIds(),n=[...this.lessons(),...this.searchResults(),...this.discoveredLessons()];return Array.from(new Map(n.map(r=>[r.id,r])).values()).filter(r=>e.includes(r.id))})}async ngOnInit(){let e=localStorage.getItem(this.DISCOVERED_KEY);e&&this.discoveredLessons.set(JSON.parse(e));let n=this.analyticsService.getAnalyticsData(),i=n.bySubject.filter(r=>r.accuracy<65).map(r=>r.subject);if(i.length>0){let r={accuracy:n.overview.accuracy,correctAnswers:n.overview.correctAnswers,weakSubjects:i},o=await this.aiService.getRecommendedLessons(r,this.lessons());this.recommendedLessonIds.set(o);let s=o.filter(a=>!this.lessons().some(l=>l.id===a)&&!this.discoveredLessons().some(l=>l.id===a));if(s.length>0){let a=await this.aiService.getVideosInfo(s);this.searchResults.update(l=>[...l,...a])}}}async onSearch(){let e=this.searchQuery().trim();if(e.length<3){this.searchResults.set([]);return}this.isSearching.set(!0);try{let n=await this.aiService.searchEducationalVideos(e,this.selectedCategory()==="Todos"?void 0:this.selectedCategory());if(n.length===0){let i=await this.aiService.searchYoutubeDirect(e);this.processSearchResults(i)}else this.processSearchResults(n)}catch{let i=await this.aiService.searchYoutubeDirect(e);this.processSearchResults(i)}finally{this.isSearching.set(!1)}}processSearchResults(e){this.searchResults.set(e);let n=this.discoveredLessons(),i=[...n];e.forEach(r=>{!i.some(o=>o.id===r.id)&&!this.lessons().some(o=>o.id===r.id)&&i.push(r)}),i.length!==n.length&&(this.discoveredLessons.set(i),localStorage.setItem(this.DISCOVERED_KEY,JSON.stringify(i)))}clearDiscoveries(){confirm("Deseja limpar seu hist\xF3rico de aulas encontradas?")&&(this.discoveredLessons.set([]),localStorage.removeItem(this.DISCOVERED_KEY))}getLessonProgress(e){let i=(this.userDataService.getUserData()?.user.lessonsHistory||[]).find(r=>r.lessonId===e);return i?i.isCompleted?100:i.watchedDuration:0}isLessonCompleted(e){return(this.userDataService.getUserData()?.user.lessonsHistory||[]).some(i=>i.lessonId===e&&i.isCompleted)}onLessonCompleted(e){let n=[...this.userDataService.getUserData()?.user.lessonsHistory||[]],i=n.find(o=>o.lessonId===e);i?(i.isCompleted=!0,i.completedAt=Date.now()):n.push({lessonId:e,completedAt:Date.now(),watchedDuration:100,isCompleted:!0}),this.userDataService.saveUserLessonsHistory(n);let r=O({},this.userDataService.getUserData().user.stats);r.xp+=500,this.userDataService.saveUserProfile(r)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-lessons"]],decls:24,vars:6,consts:[[1,"animate-fade-in","font-sans","pb-10"],[1,"flex","flex-col","md:flex-row","md:items-center","justify-between","gap-6","mb-8"],[1,"text-3xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","text-sm"],[1,"relative","max-w-md","w-full","flex","gap-2"],[1,"relative","flex-1"],[1,"fas","fa-search","absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],["type","text","placeholder","O que voc\xEA quer aprender hoje?",1,"w-full","bg-slate-50","border","border-slate-200","rounded-2xl","py-3","pl-12","pr-4","focus:bg-white","focus:border-black","focus:ring-1","focus:ring-black","outline-none","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"absolute","right-4","top-1/2","-translate-y-1/2"],[1,"bg-black","text-white","px-6","rounded-2xl","font-bold","hover:bg-slate-800","transition-all","flex","items-center",3,"click"],[1,"mb-10","animate-fade-in"],[1,"bg-black","rounded-3xl","p-8","mb-10","relative","overflow-hidden","group"],[1,"flex","items-center","gap-3","mb-8","overflow-x-auto","pb-2","no-scrollbar"],[3,"class"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-2xl","border","border-slate-200","overflow-hidden","shadow-sm","hover:border-black","transition-all","group","cursor-pointer","relative"],[3,"lesson"],[1,"fas","fa-circle-notch","animate-spin","text-slate-400"],[1,"flex","items-center","gap-2","mb-4"],[1,"bg-blue-600","text-white","text-[10px]","font-black","px-2","py-0.5","rounded","uppercase","tracking-tighter","shadow-sm","flex","items-center","gap-1.2"],[1,"fas","fa-sparkles","text-[8px]"],[1,"text-xs","font-bold","text-slate-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","border","border-slate-200","rounded-3xl","p-4","flex","items-center","gap-4","hover:border-blue-500","hover:shadow-xl","hover:shadow-blue-500/5","cursor-pointer","transition-all","group","overflow-hidden","relative"],[1,"bg-white","border","border-slate-200","rounded-3xl","p-4","flex","items-center","gap-4","hover:border-blue-500","hover:shadow-xl","hover:shadow-blue-500/5","cursor-pointer","transition-all","group","overflow-hidden","relative",3,"click"],[1,"w-24","aspect-video","bg-slate-900","rounded-xl","flex","items-center","justify-center","text-white","text-xs","overflow-hidden","relative","shrink-0","shadow-sm"],[1,"w-full","h-full","object-cover","group-hover:scale-110","transition-transform","duration-500",3,"src"],[1,"fas","fa-play","text-slate-500"],[1,"absolute","inset-0","bg-black/20","group-hover:bg-black/0","transition-colors"],[1,"absolute","bottom-0","left-0","h-1","bg-green-500","shadow-[0_0_10px_rgba(34,197,94,0.5)]"],[1,"flex-1","min-w-0"],[1,"text-[9px]","font-black","text-blue-500","uppercase","tracking-widest","mb-1","block"],[1,"font-bold","text-sm","text-slate-900","leading-tight","group-hover:text-blue-600","transition-colors","truncate"],[1,"text-[10px]","text-slate-400","mt-1","font-medium"],[1,"p-2","mr-1","rounded-full","bg-slate-50","text-slate-300","group-hover:bg-blue-50","group-hover:text-blue-500","transition-all","flex","items-center","justify-center"],[1,"fas","fa-chevron-right","text-[10px]"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center","gap-2"],[1,"bg-amber-500","text-white","text-[10px]","font-black","px-2","py-0.5","rounded","uppercase","tracking-tighter","shadow-sm","flex","items-center","gap-1.2"],[1,"fas","fa-compass","text-[8px]"],[1,"text-[10px]","font-bold","text-slate-400","hover:text-red-500","transition-colors",3,"click"],[1,"fas","fa-trash-alt","mr-1"],[1,"bg-white","rounded-2xl","border","border-slate-200","overflow-hidden","shadow-sm","hover:border-black","transition-all","group","cursor-pointer","relative",3,"click"],[1,"absolute","top-2","left-2","z-20","bg-green-500","text-white","text-[10px]","font-bold","px-2","py-0.5","rounded-full","flex","items-center","shadow-md","animate-fade-in"],[1,"relative","aspect-video","bg-slate-100","flex","items-center","justify-center","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-500",3,"src"],[1,"fas","fa-video","text-slate-300","text-3xl"],[1,"absolute","inset-0","bg-black/40","opacity-0","group-hover:opacity-100","transition-opacity","flex","items-center","justify-center"],[1,"w-12","h-12","rounded-full","bg-white","flex","items-center","justify-center","text-black"],[1,"fas","fa-play","ml-1"],[1,"p-4"],[1,"text-[9px]","font-black","text-amber-600","uppercase","tracking-widest","block","mb-1"],[1,"font-bold","text-sm","text-slate-900","group-hover:text-black","transition-colors","truncate"],[1,"fas","fa-check","mr-1"],[1,"absolute","right-0","top-0","w-1/2","h-full","bg-slate-800","opacity-20","blur-3xl","rounded-full","translate-x-1/2"],[1,"relative","z-10","max-w-2xl"],[1,"bg-white/10","text-white","text-[10px]","font-bold","px-3","py-1","rounded-full","uppercase","tracking-widest","mb-4","inline-block"],[1,"text-4xl","font-bold","text-white","mb-4","leading-tight"],[1,"text-slate-400","mb-8","text-lg","leading-relaxed"],[1,"flex","items-center","gap-6","mb-8"],[1,"flex","items-center","text-slate-300"],[1,"far","fa-clock","mr-2","text-white"],[1,"text-sm","font-medium"],[1,"far","fa-play-circle","mr-2","text-white"],[1,"bg-white","text-black","px-8","py-4","rounded-xl","font-bold","hover:bg-slate-200","transition-all","flex","items-center","group/btn","shadow-lg",3,"click"],[1,"fas","fa-play","ml-3","text-xs","group-hover/btn:translate-x-1","transition-transform"],[3,"click"],[1,"absolute","bottom-2","right-2","bg-black","text-white","text-[10px]","font-bold","px-2","py-1","rounded"],[1,"absolute","bottom-0","left-0","h-1","bg-black/10","w-full","z-10"],[1,"h-full","bg-black","transition-all","duration-1000"],[1,"p-5"],[1,"flex","justify-between","items-start","mb-2"],[1,"text-[10px]","font-black","text-black","uppercase","tracking-widest"],[1,"fas","fa-lock","text-slate-300","text-xs"],[1,"font-bold","text-slate-900","group-hover:text-black","transition-colors"],[3,"close","completed","lesson"]],template:function(n,i){n&1&&(p(0,"div",0)(1,"header",1)(2,"div")(3,"h2",2),u(4,"Videoaulas"),m(),p(5,"p",3),u(6,"Aprenda a teoria com os melhores especialistas."),m()(),p(7,"div",4)(8,"div",5),D(9,"i",6),p(10,"input",7),ln("ngModelChange",function(o){return In(i.searchQuery,o)||(i.searchQuery=o),o}),V("keyup.enter",function(){return i.onSearch()}),m(),w(11,Vw,2,0,"div",8),m(),p(12,"button",9),V("click",function(){return i.onSearch()}),u(13," Buscar "),m()()(),w(14,Uw,10,0,"div",10),w(15,Ww,14,0,"div",10),w(16,Yw,21,0,"div",11),p(17,"div",12),Y(18,Zw,2,3,"button",13,Bt),m(),p(20,"div",14),Y(21,t1,19,8,"div",15,Rd),m(),w(23,n1,1,1,"app-lesson-player",16),m()),n&2&&(f(10),an("ngModel",i.searchQuery),f(),I(i.isSearching()?11:-1),f(3),I(i.recommendedLessons().length>0&&!i.searchQuery()?14:-1),f(),I(i.discoveredLessons().length>0&&!i.searchQuery()?15:-1),f(),I(i.searchQuery()?-1:16),f(2),Z(i.categories()),f(3),Z(i.filteredLessons()),f(2),I(i.selectedLesson()?23:-1))},dependencies:[ne,Mn,Zi,Ta,so,$a],styles:[".no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}"],changeDetection:0})}};function i1(t,e){if(t&1&&(h(0,"div",8),A(1,"div",9),h(2,"span",10),u(3),v()()),t&2){let n=b(2);f(3),N('Definindo "',n.selectedWord(),'"...')}}function r1(t,e){if(t&1&&(h(0,"div",11),u(1),v(),h(2,"p",12),u(3),v()),t&2){let n=b(2);f(),N('"',n.selectedWord(),'"'),f(2),N(" ",n.definition()," ")}}function o1(t,e){if(t&1&&(h(0,"div",1)(1,"div",2),A(2,"div",3),h(3,"div",4)(4,"div",5)(5,"span",6),u(6,"Dicion\xE1rio IA"),v(),A(7,"i",7),v(),w(8,i1,4,1,"div",8)(9,r1,4,2),v()()()),t&2){let n=b();De("top",n.y()-10,"px")("left",n.x(),"px"),f(8),I(n.isLoading()?8:9)}}var za=class t{constructor(){this.aiService=x(Ut);this.isVisible=C(!1);this.isLoading=C(!1);this.selectedWord=C("");this.definition=C("");this.x=C(0);this.y=C(0)}async onMouseUp(e){let n=window.getSelection(),i=n?.toString().trim();if(i&&i.length>1&&i.split(/\s+/).length<=3){let r=n?.getRangeAt(0),o=r?.getBoundingClientRect();if(o){this.selectedWord.set(i),this.x.set(o.left+o.width/2),this.y.set(o.top+window.scrollY),this.isVisible.set(!0),this.isLoading.set(!0),this.definition.set("");try{let s=r?.startContainer.parentElement?.textContent?.substring(0,200),a=await this.aiService.defineWord(i,s||void 0);this.definition.set(a.definition)}catch{this.definition.set("N\xE3o foi poss\xEDvel carregar a defini\xE7\xE3o.")}finally{this.isLoading.set(!1)}}}else e.target.closest(".ai-tooltip")||this.isVisible.set(!1)}onMouseDown(e){e.target.closest(".ai-tooltip")||this.isVisible.set(!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-ai-dictionary"]],hostBindings:function(n,i){n&1&&V("mouseup",function(o){return i.onMouseUp(o)},Fi)("mousedown",function(o){return i.onMouseDown(o)},Fi)},decls:1,vars:1,consts:[[1,"ai-tooltip","fixed","z-[9999]","animate-fade-in","pointer-events-none",3,"top","left"],[1,"ai-tooltip","fixed","z-[9999]","animate-fade-in","pointer-events-none"],[1,"relative","-translate-x-1/2","-translate-y-full","bg-black","text-white","p-3","rounded-xl","shadow-2xl","border","border-slate-700","max-w-[280px]","pointer-events-auto"],[1,"absolute","bottom-0","left-1/2","-translate-x-1/2","translate-y-full","w-0","h-0","border-l-[8px]","border-l-transparent","border-r-[8px]","border-r-transparent","border-t-[8px]","border-t-black"],[1,"flex","flex-col","gap-1"],[1,"flex","items-center","justify-between","gap-4","mb-1","border-b","border-white/10","pb-1"],[1,"text-[10px]","font-black","uppercase","tracking-widest","text-slate-400"],[1,"fas","fa-brain","text-[8px]","text-white/50"],[1,"flex","items-center","gap-2","py-2"],[1,"w-2","h-2","bg-white","rounded-full","animate-ping"],[1,"text-[10px]","font-medium","text-slate-300"],[1,"mb-1","text-xs","font-black","text-white","tracking-tight"],[1,"text-[11px]","leading-snug","text-slate-200","font-medium"]],template:function(n,i){n&1&&w(0,o1,10,5,"div",0),n&2&&I(i.isVisible()?0:-1)},dependencies:[ne],styles:[".ai-tooltip[_ngcontent-%COMP%]{transition:opacity .2s ease-out}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .15s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}"],changeDetection:0})}};var s1=(t,e)=>e.id;function a1(t,e){t&1&&(p(0,"h1",12)(1,"div",35),D(2,"i",36),m(),u(3," ETECPRO "),m())}function l1(t,e){t&1&&(p(0,"div",13)(1,"div",37),D(2,"i",36),m()())}function c1(t,e){t&1&&(p(0,"span",41),u(1,"NOVO"),m())}function u1(t,e){if(t&1&&(p(0,"span"),u(1),m(),w(2,c1,2,0,"span",41)),t&2){let n=b().$implicit;f(),S(n.label),f(),I(n.isNew?2:-1)}}function d1(t,e){if(t&1&&(p(0,"div",40),u(1),m()),t&2){let n=b().$implicit;f(),N(" ",n.label," ")}}function f1(t,e){if(t&1){let n=B();p(0,"button",38),V("click",function(){let r=M(n).$implicit,o=b();return T(o.setView(r.id))}),D(1,"i",39),w(2,u1,3,2),w(3,d1,2,1,"div",40),m()}if(t&2){let n=e.$implicit,i=b();$("bg-slate-100",i.currentView()===n.id)("text-black",i.currentView()===n.id)("font-semibold",i.currentView()===n.id)("text-slate-500",i.currentView()!==n.id)("hover:bg-slate-50",i.currentView()!==n.id)("hover:text-slate-900",i.currentView()!==n.id)("justify-center",i.isCollapsed()),f(),Ae(n.icon),$("mr-3",!i.isCollapsed())("text-black",i.currentView()===n.id)("text-slate-400",i.currentView()!==n.id),f(),I(i.isCollapsed()?-1:2),f(),I(i.isCollapsed()?3:-1)}}function p1(t,e){if(t&1&&(p(0,"div",17)(1,"div",42),D(2,"i",43),m(),p(3,"div",44)(4,"p",45),u(5,"Estudante"),m(),p(6,"p",46),u(7),m()()()),t&2){let n=b();f(7),N("N\xEDvel ",n.stats().level)}}function m1(t,e){t&1&&(p(0,"div",18)(1,"div",47),D(2,"i",43),m()())}function h1(t,e){if(t&1){let n=B();p(0,"div",48),V("click",function(){M(n);let r=b();return T(r.toggleSidebar())}),m()}}function g1(t,e){if(t&1){let n=B();p(0,"app-dashboard",49),V("navigate",function(r){M(n);let o=b();return T(o.setView(r))}),m()}}function v1(t,e){t&1&&D(0,"app-quiz")}function y1(t,e){t&1&&D(0,"app-text-interpretation")}function b1(t,e){t&1&&D(0,"app-schedule")}function _1(t,e){t&1&&D(0,"app-lessons")}function C1(t,e){t&1&&D(0,"app-resolutions")}function x1(t,e){t&1&&D(0,"app-analytics")}function E1(t,e){t&1&&(p(0,"div",34)(1,"header",50)(2,"h2",51),u(3,"Desempenho"),m(),p(4,"p",52),u(5,"M\xE9tricas detalhadas do seu progresso."),m()(),p(6,"div",53)(7,"div",54)(8,"h3",55),u(9,"Precis\xE3o por Mat\xE9ria"),m(),p(10,"div",56)(11,"div")(12,"div",57)(13,"span"),u(14,"Portugu\xEAs"),m(),p(15,"span",58),u(16,"85%"),m()(),p(17,"div",59),D(18,"div",60),m()(),p(19,"div")(20,"div",57)(21,"span"),u(22,"Matem\xE1tica"),m(),p(23,"span",58),u(24,"62%"),m()(),p(25,"div",59),D(26,"div",61),m()(),p(27,"div")(28,"div",57)(29,"span"),u(30,"Ci\xEAncias"),m(),p(31,"span",58),u(32,"78%"),m()(),p(33,"div",59),D(34,"div",62),m()()()(),p(35,"div",63)(36,"div",64),D(37,"i",65),m(),p(38,"h3",66),u(39,"An\xE1lise Avan\xE7ada"),m(),p(40,"p",67),u(41,"Continue estudando para desbloquear gr\xE1ficos de evolu\xE7\xE3o hist\xF3rica e previs\xE3o de nota."),m(),p(42,"button",68),u(43,"Bloqueado"),m()()()())}var qa=class t{constructor(){this.contentService=x(xe);this.currentView=C("dashboard");this.sidebarOpen=C(!1);this.isCollapsed=C(!1);this.navItems=[{id:"dashboard",label:"In\xEDcio",icon:"fa-home",isNew:!1},{id:"schedule",label:"Cronograma",icon:"fa-calendar-alt",isNew:!1},{id:"lessons",label:"Aulas",icon:"fa-play-circle",isNew:!0},{id:"quiz",label:"Simulado",icon:"fa-pen-square",isNew:!1},{id:"interpretation",label:"Interpreta\xE7\xE3o",icon:"fa-book-open",isNew:!0},{id:"resolutions",label:"Resolu\xE7\xF5es",icon:"fa-check-double",isNew:!0},{id:"analytics",label:"Analytics",icon:"fa-chart-bar",isNew:!0},{id:"performance",label:"Desempenho",icon:"fa-chart-line",isNew:!1}];this.stats=this.contentService.stats;this.targetDate=new Date("2025-06-08T13:30:00");this.timeLeft=C({days:0,hours:0,minutes:0,seconds:0});this.xpProgress=oe(()=>{let e=this.stats().xp,n=this.stats().level,i=n*1e3,r=(n-1)*1e3,o=e-r,s=i-r;return Math.min(Math.max(o/s*100,0),100)});this.nextLevelThreshold=oe(()=>this.stats().level*1e3)}ngOnInit(){this.updateTimer(),this.intervalId=setInterval(()=>this.updateTimer(),1e3)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}updateTimer(){let e=new Date().getTime(),n=this.targetDate.getTime()-e;if(n<0){this.timeLeft.set({days:0,hours:0,minutes:0,seconds:0});return}let i=Math.floor(n/(1e3*60*60*24)),r=Math.floor(n%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(n%(1e3*60*60)/(1e3*60)),s=Math.floor(n%(1e3*60)/1e3);this.timeLeft.set({days:i,hours:r,minutes:o,seconds:s})}setView(e){this.currentView.set(e),this.sidebarOpen.set(!1)}toggleSidebar(){this.sidebarOpen.update(e=>!e)}toggleCollapse(){this.isCollapsed.update(e=>!e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=ie({type:t,selectors:[["app-root"]],decls:50,vars:17,consts:[[1,"min-h-screen","flex","flex-col","md:flex-row","font-sans","text-slate-800","bg-slate-50"],[1,"md:hidden","bg-white","p-4","border-b","border-slate-200","flex","justify-between","items-center","z-20","sticky","top-0"],[1,"font-bold","text-xl","text-black","tracking-tight"],[1,"flex","items-center","gap-4"],[1,"relative","text-slate-600","hover:text-black","transition-colors","group"],[1,"far","fa-bell","text-xl"],[1,"absolute","top-0","right-0","w-2","h-2","bg-red-500","rounded-full","border","border-white"],[1,"absolute","top-full","right-0","mt-2","w-48","bg-black","text-white","text-xs","rounded-lg","py-2","px-3","opacity-0","group-hover:opacity-100","transition-opacity","pointer-events-none","z-50"],[1,"text-slate-600","hover:text-black","focus:outline-none",3,"click"],[1,"fas","fa-bars","text-xl"],[1,"bg-white","h-screen","fixed","md:sticky","top-0","left-0","border-r","border-slate-200","w-64","transform","transition-transform","duration-300","z-30","flex","flex-col","shrink-0"],[1,"h-24","flex","items-center","px-8","shrink-0"],[1,"font-bold","text-2xl","tracking-tight","text-black","flex","items-center"],[1,"w-full","flex","justify-center"],[1,"flex-1","py-4","space-y-2","px-4"],[1,"w-full","text-left","px-4","py-3.5","rounded-xl","transition-all","font-medium","flex","items-center","text-sm","group","relative",3,"bg-slate-100","text-black","font-semibold","text-slate-500","hover:bg-slate-50","hover:text-slate-900","justify-center"],[1,"p-6","border-t","border-slate-100"],[1,"flex","items-center"],[1,"flex","justify-center"],[1,"mt-4","w-full","flex","items-center","justify-center","text-slate-400","hover:text-black","transition-colors",3,"click"],[1,"fas"],[1,"fixed","inset-0","bg-black/20","backdrop-blur-sm","z-20","md:hidden","transition-opacity"],[1,"flex-1","h-[calc(100vh)]","overflow-y-auto","bg-[#f8fafc]","relative","flex","flex-col"],[1,"hidden","md:flex","justify-end","items-center","px-12","py-8","gap-4","shrink-0"],[1,"bg-white","px-4","py-2","rounded-lg","border","border-slate-200","shadow-sm","text-sm","font-medium","text-slate-600","flex","items-center"],[1,"far","fa-clock","mr-2","text-slate-400"],[1,"text-black","font-bold","ml-1"],[1,"w-10","h-10","bg-white","rounded-full","shadow-sm","border","border-slate-200","flex","items-center","justify-center","text-slate-500","hover:text-black","hover:scale-105","transition-all","relative","group"],[1,"far","fa-bell","text-lg"],[1,"absolute","top-2.5","right-3","w-2","h-2","bg-red-500","rounded-full","border","border-white"],[1,"absolute","top-full","right-0","mt-2","w-56","bg-white","border","border-slate-100","shadow-xl","rounded-xl","p-4","opacity-0","group-hover:opacity-100","transition-opacity","pointer-events-none","z-50","text-left"],[1,"text-xs","font-bold","text-slate-900","mb-1"],[1,"text-[10px]","text-slate-500"],[1,"max-w-[1600px]","mx-auto","px-6","md:px-12","md:pb-12","w-full","flex-1"],[1,"animate-fade-in","font-sans"],[1,"w-8","h-8","bg-black","rounded-lg","mr-3","flex","items-center","justify-center","text-white","text-xs"],[1,"fas","fa-layer-group"],[1,"w-8","h-8","bg-black","rounded-lg","flex","items-center","justify-center","text-white","text-xs"],[1,"w-full","text-left","px-4","py-3.5","rounded-xl","transition-all","font-medium","flex","items-center","text-sm","group","relative",3,"click"],[1,"fas","w-5","text-center","text-lg","transition-colors"],[1,"absolute","left-full","ml-4","bg-black","text-white","text-xs","px-3","py-1.5","rounded-lg","opacity-0","group-hover:opacity-100","pointer-events-none","whitespace-nowrap","z-50","shadow-xl"],[1,"ml-auto","bg-black","text-white","text-[9px]","font-bold","px-2","py-0.5","rounded-full"],[1,"w-10","h-10","rounded-full","bg-slate-200","flex","items-center","justify-center","text-slate-500","font-bold"],[1,"fas","fa-user"],[1,"ml-3"],[1,"text-sm","font-bold","text-black"],[1,"text-xs","text-slate-500"],[1,"w-8","h-8","rounded-full","bg-slate-200","flex","items-center","justify-center","text-slate-500","text-xs"],[1,"fixed","inset-0","bg-black/20","backdrop-blur-sm","z-20","md:hidden","transition-opacity",3,"click"],[3,"navigate"],[1,"mb-8"],[1,"text-3xl","font-bold","text-slate-900","mb-1"],[1,"text-slate-500","text-sm"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","p-8","rounded-2xl","border","border-slate-200","shadow-sm"],[1,"font-bold","text-slate-900","mb-6"],[1,"space-y-6"],[1,"flex","justify-between","text-sm","font-medium","mb-2"],[1,"font-bold","text-black"],[1,"h-2","w-full","bg-slate-100","rounded-full","overflow-hidden"],[1,"h-full","bg-black","w-[85%]","rounded-full"],[1,"h-full","bg-slate-400","w-[62%]","rounded-full"],[1,"h-full","bg-slate-600","w-[78%]","rounded-full"],[1,"bg-white","p-8","rounded-2xl","border","border-slate-200","shadow-sm","flex","flex-col","justify-center","items-center","text-center"],[1,"w-16","h-16","bg-slate-50","rounded-full","flex","items-center","justify-center","mb-4","text-slate-300"],[1,"fas","fa-lock","text-xl"],[1,"font-bold","text-slate-900","mb-2"],[1,"text-slate-500","text-sm","max-w-xs","mb-6"],[1,"bg-slate-100","text-slate-400","font-bold","px-6","py-2","rounded-lg","text-sm","cursor-not-allowed"]],template:function(n,i){if(n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),u(3," ETECPRO "),m(),p(4,"div",3)(5,"button",4),D(6,"i",5)(7,"span",6),p(8,"div",7),u(9," Em breve: Notifica\xE7\xF5es. "),m()(),p(10,"button",8),V("click",function(){return i.toggleSidebar()}),D(11,"i",9),m()()(),p(12,"aside",10)(13,"div",11),w(14,a1,4,0,"h1",12)(15,l1,3,0,"div",13),m(),p(16,"nav",14),Y(17,f1,4,24,"button",15,s1),m(),p(19,"div",16),w(20,p1,8,1,"div",17)(21,m1,3,0,"div",18),p(22,"button",19),V("click",function(){return i.toggleCollapse()}),D(23,"i",20),m()()(),w(24,h1,1,0,"div",21),p(25,"main",22)(26,"div",23)(27,"div",24),D(28,"i",25),u(29," Prova em: "),p(30,"span",26),u(31),m()(),p(32,"button",27),D(33,"i",28)(34,"span",29),p(35,"div",30)(36,"p",31),u(37,"Notifica\xE7\xF5es"),m(),p(38,"p",32),u(39,"Em breve voc\xEA receber\xE1 alertas sobre datas de inscri\xE7\xE3o e dicas di\xE1rias aqui."),m()()()(),p(40,"div",33),w(41,g1,1,0,"app-dashboard")(42,v1,1,0,"app-quiz")(43,y1,1,0,"app-text-interpretation")(44,b1,1,0,"app-schedule")(45,_1,1,0,"app-lessons")(46,C1,1,0,"app-resolutions")(47,x1,1,0,"app-analytics")(48,E1,44,0,"div",34),D(49,"app-ai-dictionary"),m()()()),n&2){let r;f(12),$("-translate-x-full",!i.sidebarOpen())("md:translate-x-0",!0)("w-64",!i.isCollapsed())("w-20",i.isCollapsed()),f(2),I(i.isCollapsed()?15:14),f(3),Z(i.navItems),f(3),I(i.isCollapsed()?21:20),f(3),$("fa-chevron-left",!i.isCollapsed())("fa-chevron-right",i.isCollapsed()),f(),I(i.sidebarOpen()?24:-1),f(7),N("",i.timeLeft().days," dias"),f(10),I((r=i.currentView())==="dashboard"?41:r==="quiz"?42:r==="interpretation"?43:r==="schedule"?44:r==="lessons"?45:r==="resolutions"?46:r==="analytics"?47:r==="performance"?48:-1)}},dependencies:[ne,Ea,Pa,Fa,La,ja,Va,Ua,za],encapsulation:2,changeDetection:0})}};_d(qa,{providers:[zu(),wd()]}).catch(t=>console.error(t));
